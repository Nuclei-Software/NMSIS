

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Device Header File &lt;Device.h&gt; &mdash; NMSIS 1.4.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=66b59bf7" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=4c016a5a" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=9172181d"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Register Mapping" href="register_mapping.html" />
    <link rel="prev" title="System Configuration Files system_&lt;Device&gt;.c and system_&lt;Device&gt;.h" href="core_template_system_device.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/nmsis_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.4.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/introduction.html">Nuclei MCU Software Interface Standard(NMSIS)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">NMSIS Core</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="get_started.html">Using NMSIS in Embedded Applications</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="core_templates.html">NMSIS-Core Device Templates</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="core_templates.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="core_templates.html#nmsis-core-processor-files">NMSIS-Core Processor Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="core_templates.html#device-examples">Device Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="core_templates.html#template-files">Template Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="core_templates.html#adapt-template-files-to-a-device">Adapt Template Files to a Device</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="core_templates.html#device-templates-explaination">Device Templates Explaination</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="core_template_startup_device.html">Startup File startup_&lt;Device&gt;.S</a></li>
<li class="toctree-l4"><a class="reference internal" href="core_template_intexc.html">Interrupt and Exception Handling File: intexc_&lt;Device&gt;.S</a></li>
<li class="toctree-l4"><a class="reference internal" href="core_template_linker_device.html">Device Linker Script: gcc_&lt;device&gt;.ld</a></li>
<li class="toctree-l4"><a class="reference internal" href="core_template_system_device.html">System Configuration Files system_&lt;Device&gt;.c and system_&lt;Device&gt;.h</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Device Header File &lt;Device.h&gt;</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#interrupt-number-definition">Interrupt Number Definition</a></li>
<li class="toctree-l5"><a class="reference internal" href="#configuration-of-the-processor-and-core-peripherals">Configuration of the Processor and Core Peripherals</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#nmsis-core-h">nmsis_core.h</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#nmsis-version-and-processor-information">NMSIS Version and Processor Information</a></li>
<li class="toctree-l5"><a class="reference internal" href="#device-peripheral-access-layer">Device Peripheral Access Layer</a></li>
<li class="toctree-l5"><a class="reference internal" href="#device-h-template-file">Device.h Template File</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="register_mapping.html">Register Mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/index.html">NMSIS Core API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dsp/index.html">NMSIS DSP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nn/index.html">NMSIS NN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix.html">Appendix</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">NMSIS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">NMSIS Core</a></li>
          <li class="breadcrumb-item"><a href="core_templates.html">NMSIS-Core Device Templates</a></li>
      <li class="breadcrumb-item active">Device Header File &lt;Device.h&gt;</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/core/core_template_device_header.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="device-header-file-device-h">
<span id="core-template-device-header"></span><h1>Device Header File &lt;Device.h&gt;<a class="headerlink" href="#device-header-file-device-h" title="Link to this heading"></a></h1>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p><strong>Please be informed</strong> that the <strong>NMSIS-Core Device Templates</strong> may not be updated in a timely manner and thus could become outdated.
We suggest referring to the specific implementation of <a class="reference external" href="https://github.com/Nuclei-Software/nuclei-sdk/tree/master/SoC/evalsoc/Common">evalsoc in the Nuclei SDK</a> for the latest reference template.
This reference template may not be actively maintained in the future.</p>
</div>
<dl class="simple">
<dt>The <a class="reference internal" href="#core-template-device-header"><span class="std std-ref">Device Header File &lt;Device.h&gt;</span></a> contains the following sections that are device specific:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#core-interrupt-num-def"><span class="std std-ref">Interrupt Number Definition</span></a> provides interrupt numbers (IRQn) for all exceptions and interrupts of the device.</p></li>
<li><p><a class="reference internal" href="#nmsis-core-configuration"><span class="std std-ref">Configuration of the Processor and Core Peripherals</span></a> reflect the features of the device.</p></li>
<li><p><a class="reference internal" href="#core-device-periph-access"><span class="std std-ref">Device Peripheral Access Layer</span></a> provides definitions for the <a class="reference internal" href="api/core_periph_access.html#core-api-periph-access"><span class="std std-ref">Peripheral Access</span></a> to all device peripherals.
It contains all data structures and the address mapping for device-specific peripherals.</p></li>
<li><p><strong>Access Functions for Peripherals (optional)</strong> provide additional helper functions for peripherals that are useful
for programming of these peripherals. Access Functions may be provided as inline functions or can be extern references
to a device-specific library provided by the silicon vendor.</p></li>
</ul>
</dd>
</dl>
<p><a class="reference internal" href="api/index.html#nmsis-core-api"><span class="std std-ref">NMSIS Core API</span></a> describes the standard features and functions of the <a class="reference internal" href="#core-template-device-header"><span class="std std-ref">Device Header File &lt;Device.h&gt;</span></a> in detail.</p>
<section id="interrupt-number-definition">
<span id="core-interrupt-num-def"></span><h2>Interrupt Number Definition<a class="headerlink" href="#interrupt-number-definition" title="Link to this heading"></a></h2>
<dl class="simple">
<dt><a class="reference internal" href="#core-template-device-header"><span class="std std-ref">Device Header File &lt;Device.h&gt;</span></a> contains the enumeration <a class="reference internal" href="api/core_interrupt_exception.html#_CPPv49IRQn_Type" title="IRQn_Type"><code class="xref cpp cpp-any docutils literal notranslate"><span class="pre">IRQn_Type</span></code></a> that defines all exceptions and interrupts of the device.</dt><dd><ul class="simple">
<li><p>Negative IRQn values represent processor core exceptions (internal interrupts).</p></li>
<li><p>Positive IRQn values represent device-specific exceptions (external interrupts). The first device-specific interrupt has the IRQn value 0.
The IRQn values needs extension to reflect the device-specific interrupt vector table in the <a class="reference internal" href="core_template_startup_device.html#core-template-startup-device-asm"><span class="std std-ref">Startup File startup_&lt;Device&gt;.S</span></a>.</p></li>
</ul>
</dd>
</dl>
<p>The following example shows the extension of the interrupt vector table for the GD32VF103 device family.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="n">IRQn</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2</span><span class="w">    </span><span class="cm">/******  N200 Processor Exceptions Numbers *********************************************/</span>
<span class="linenos"> 3</span><span class="w">    </span><span class="n">Reserved0_IRQn</span><span class="w">               </span><span class="o">=</span><span class="w">   </span><span class="mi">0</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt;  Internal reserved                        */</span>
<span class="linenos"> 4</span><span class="w">    </span><span class="n">Reserved1_IRQn</span><span class="w">               </span><span class="o">=</span><span class="w">   </span><span class="mi">1</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt;  Internal reserved                        */</span>
<span class="linenos"> 5</span><span class="w">    </span><span class="n">Reserved2_IRQn</span><span class="w">               </span><span class="o">=</span><span class="w">   </span><span class="mi">2</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt;  Internal reserved                        */</span>
<span class="linenos"> 6</span><span class="w">    </span><span class="n">SysTimerSW_IRQn</span><span class="w">              </span><span class="o">=</span><span class="w">   </span><span class="mi">3</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt;  System Timer SW interrupt                */</span>
<span class="linenos"> 7</span><span class="w">    </span><span class="n">Reserved3_IRQn</span><span class="w">               </span><span class="o">=</span><span class="w">   </span><span class="mi">4</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt;  Internal reserved                        */</span>
<span class="linenos"> 8</span><span class="w">    </span><span class="n">Reserved4_IRQn</span><span class="w">               </span><span class="o">=</span><span class="w">   </span><span class="mi">5</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt;  Internal reserved                        */</span>
<span class="linenos"> 9</span><span class="w">    </span><span class="n">Reserved5_IRQn</span><span class="w">               </span><span class="o">=</span><span class="w">   </span><span class="mi">6</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt;  Internal reserved                        */</span>
<span class="linenos">10</span><span class="w">    </span><span class="n">SysTimer_IRQn</span><span class="w">                </span><span class="o">=</span><span class="w">   </span><span class="mi">7</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt;  System Timer Interrupt                   */</span>
<span class="linenos">11</span><span class="w">    </span><span class="n">Reserved6_IRQn</span><span class="w">               </span><span class="o">=</span><span class="w">   </span><span class="mi">8</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt;  Internal reserved                        */</span>
<span class="linenos">12</span><span class="w">    </span><span class="n">Reserved7_IRQn</span><span class="w">               </span><span class="o">=</span><span class="w">   </span><span class="mi">9</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt;  Internal reserved                        */</span>
<span class="linenos">13</span><span class="w">    </span><span class="n">Reserved8_IRQn</span><span class="w">               </span><span class="o">=</span><span class="w">  </span><span class="mi">10</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt;  Internal reserved                        */</span>
<span class="linenos">14</span><span class="w">    </span><span class="n">Reserved9_IRQn</span><span class="w">               </span><span class="o">=</span><span class="w">  </span><span class="mi">11</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt;  Internal reserved                        */</span>
<span class="linenos">15</span><span class="w">    </span><span class="n">Reserved10_IRQn</span><span class="w">              </span><span class="o">=</span><span class="w">  </span><span class="mi">12</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt;  Internal reserved                        */</span>
<span class="linenos">16</span><span class="w">    </span><span class="n">Reserved11_IRQn</span><span class="w">              </span><span class="o">=</span><span class="w">  </span><span class="mi">13</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt;  Internal reserved                        */</span>
<span class="linenos">17</span><span class="w">    </span><span class="n">Reserved12_IRQn</span><span class="w">              </span><span class="o">=</span><span class="w">  </span><span class="mi">14</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt;  Internal reserved                        */</span>
<span class="linenos">18</span><span class="w">    </span><span class="n">Reserved13_IRQn</span><span class="w">              </span><span class="o">=</span><span class="w">  </span><span class="mi">15</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt;  Internal reserved                        */</span>
<span class="linenos">19</span><span class="w">    </span><span class="n">Reserved14_IRQn</span><span class="w">              </span><span class="o">=</span><span class="w">  </span><span class="mi">16</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt;  Internal reserved                        */</span>
<span class="linenos">20</span><span class="w">    </span><span class="n">HardFault_IRQn</span><span class="w">               </span><span class="o">=</span><span class="w">  </span><span class="mi">17</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt;  Hard Fault, storage access error         */</span>
<span class="linenos">21</span><span class="w">    </span><span class="n">Reserved15_IRQn</span><span class="w">              </span><span class="o">=</span><span class="w">  </span><span class="mi">18</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt;  Internal reserved                        */</span>
<span class="linenos">22</span>
<span class="linenos">23</span><span class="w">    </span><span class="cm">/******  GD32VF103 Specific Interrupt Numbers ******************************************/</span>
<span class="linenos">24</span><span class="w">    </span><span class="n">WWDGT_IRQn</span><span class="w">                   </span><span class="o">=</span><span class="w">  </span><span class="mi">19</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt; window watchDog timer interrupt           */</span>
<span class="linenos">25</span><span class="w">    </span><span class="n">LVD_IRQn</span><span class="w">                     </span><span class="o">=</span><span class="w">  </span><span class="mi">20</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt; LVD through EXTI line detect interrupt    */</span>
<span class="linenos">26</span><span class="w">    </span><span class="n">TAMPER_IRQn</span><span class="w">                  </span><span class="o">=</span><span class="w">  </span><span class="mi">21</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt; tamper through EXTI line detect           */</span>
<span class="linenos">27</span><span class="w">                 </span><span class="o">:</span><span class="w">       </span><span class="o">:</span>
<span class="linenos">28</span><span class="w">                 </span><span class="o">:</span><span class="w">       </span><span class="o">:</span>
<span class="linenos">29</span><span class="w">    </span><span class="n">CAN1_EWMC_IRQn</span><span class="w">               </span><span class="o">=</span><span class="w">  </span><span class="mi">85</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt; CAN1 EWMC interrupt                       */</span>
<span class="linenos">30</span><span class="w">    </span><span class="n">USBFS_IRQn</span><span class="w">                   </span><span class="o">=</span><span class="w">  </span><span class="mi">86</span><span class="p">,</span><span class="w">     </span><span class="cm">/*!&lt; USBFS global interrupt                    */</span>
<span class="linenos">31</span><span class="w">    </span><span class="n">SOC_INT_MAX</span><span class="p">,</span><span class="w">                            </span><span class="cm">/*!&lt; Number of total Interrupts                */</span>
<span class="linenos">32</span><span class="p">}</span><span class="w"> </span><span class="n">IRQn_Type</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="configuration-of-the-processor-and-core-peripherals">
<span id="nmsis-core-configuration"></span><h2>Configuration of the Processor and Core Peripherals<a class="headerlink" href="#configuration-of-the-processor-and-core-peripherals" title="Link to this heading"></a></h2>
<p>The <a class="reference internal" href="#core-template-device-header"><span class="std std-ref">Device Header File &lt;Device.h&gt;</span></a> configures the Nuclei N/NX/UX Class Processors and the core peripherals with
<code class="docutils literal notranslate"><span class="pre">#define</span></code> that are set prior to including the file <em>nmsis_core.h</em>.</p>
<p>For recently released Nuclei 200/300/600/900 RISC-V CPU, the cpu private peripherals are also called
internal regions(IREGION) and the address spaces are continuous with fixed size, cpu will be configured with
only the base address of IREGION, such as ECLIC, TIMER, SMP, Cluster Cache, CIDU, PLIC unit, for more details,
please check Nuclei ISA Spec and related CPU databook.</p>
<p>The following tables list the <code class="docutils literal notranslate"><span class="pre">#define</span></code> along with the possible values for N200, N300, N600, NX600, UX600, N900, NX900, UX900, UX1000.
If these <code class="docutils literal notranslate"><span class="pre">#define</span></code> are missing default values are used.</p>
<section id="nmsis-core-h">
<h3>nmsis_core.h<a class="headerlink" href="#nmsis-core-h" title="Link to this heading"></a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">__NUCLEI_N_REV</span></code> and <code class="docutils literal notranslate"><span class="pre">__NUCLEI_NX_REV</span></code> are deprecated since 1.2.0, please use <code class="docutils literal notranslate"><span class="pre">__NUCLEI_CPU_REV</span></code> and <code class="docutils literal notranslate"><span class="pre">__NUCLEI_CPU_SERIES</span></code> now.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__HARTID_OFFSET</span></code> and <code class="docutils literal notranslate"><span class="pre">__SYSTIMER_HARTID</span></code> is added since 1.2.0</p></li>
<li><p>Please check Nuclei SDK evalsoc header file <code class="docutils literal notranslate"><span class="pre">evalsoc.h</span></code> for latest cpu macros.</p></li>
</ul>
</div>
<span id="table-template-device-header-1"></span><table class="docutils align-default" id="id1">
<caption><span class="caption-text">Macros used in nmsis_core.h</span><a class="headerlink" href="#id1" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 26.7%" />
<col style="width: 15.6%" />
<col style="width: 13.3%" />
<col style="width: 44.4%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>#define</p></td>
<td><p>Value Range</p></td>
<td><p>Default</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">__NUCLEI_N_REV OR</div>
<div class="line">__NUCLEI_NX_REV</div>
</div>
</td>
<td><div class="line-block">
<div class="line">0x0100 |</div>
<div class="line">0x0104</div>
</div>
</td>
<td><p>0x0100</p></td>
<td><ul class="simple">
<li><p>For Nuclei N class device, define __NUCLEI_N_REV, for NX class device, define __NUCLEI_NX_REV.</p></li>
<li><p>Core revision number ([15:8] revision number, [7:0] patch number), 0x0100 -&gt; 1.0, 0x0104 -&gt; 1.4</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>__NUCLEI_CPU_REV</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>Define Nuclei CPU Revision Number, such as 0x030A01 means v3.10.1.</p></td>
</tr>
<tr class="row-even"><td><p>__NUCLEI_CPU_SERIES</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>Define Nuclei CPU Series, such as 0x0200, 0x0300, 0x0600, 0x0900 for 200/300/600/900 series.</p></td>
</tr>
<tr class="row-odd"><td><p>__IREGION_BASEADDR</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>Define Nuclei CPU Internal Region Base Address.</p></td>
</tr>
<tr class="row-even"><td><p>__HARTID_OFFSET</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>Define the offset of the first cpu hart’s hartid vs hart index, eg, cpu first hartid is 3, set it to 3.</p></td>
</tr>
<tr class="row-odd"><td><p>__SYSTIMER_PRESENT</p></td>
<td><p>0 .. 1</p></td>
<td><p>1</p></td>
<td><p>Define whether Priviate System Timer is present or not. This SysTimer is a Memory Mapped Unit.</p></td>
</tr>
<tr class="row-even"><td><p>__SYSTIMER_BASEADDR</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>0x18030000</p></td>
<td><p>Base address of the System Timer Unit.</p></td>
</tr>
<tr class="row-odd"><td><p>__CLINT_TIMER_BASEADDR</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>0x18040000</p></td>
<td><p>Base address of the CLINT compatiable timer in System Timer Unit.</p></td>
</tr>
<tr class="row-even"><td><p>__SYSTIMER_HARTID</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>Optional, if you cpu system only has one hart, and the timer hartid is known, you can set it to known value</p></td>
</tr>
<tr class="row-odd"><td><p>__SSTC_PRESENT</p></td>
<td><p>0 .. 1</p></td>
<td><p>1</p></td>
<td><p>Define whether Sstc(Supervisor-mode Timer Interrupts) extension is present or not</p></td>
</tr>
<tr class="row-even"><td><p>__ECLIC_PRESENT</p></td>
<td><p>0 .. 1</p></td>
<td><p>1</p></td>
<td><p>Define whether Enhanced Core Local Interrupt Controller (ECLIC) Unit is present or not</p></td>
</tr>
<tr class="row-odd"><td><p>__ECLIC_BASEADDR</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>0x18020000</p></td>
<td><p>Base address of the ECLIC unit.</p></td>
</tr>
<tr class="row-even"><td><p>__CIDU_PRESENT</p></td>
<td><p>0 .. 1</p></td>
<td><p>0</p></td>
<td><p>Define whether Cluster Interrupt Distribution Unit (CIDU) is present or not</p></td>
</tr>
<tr class="row-odd"><td><p>__CIDU_BASEADDR</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>0x18050000</p></td>
<td><p>Base address of the CIDU unit.</p></td>
</tr>
<tr class="row-even"><td><p>__ECLIC_INTCTLBITS</p></td>
<td><p>1 .. 8</p></td>
<td><p>1</p></td>
<td><p>Define the number of hardware bits are actually implemented in the clicintctl registers.</p></td>
</tr>
<tr class="row-odd"><td><p>__ECLIC_INTNUM</p></td>
<td><p>1 .. 1024</p></td>
<td><p>1</p></td>
<td><p>Define the total interrupt number(including the internal core interrupts) of ECLIC Unit</p></td>
</tr>
<tr class="row-even"><td><p>__PLIC_PRESENT</p></td>
<td><p>0 .. 1</p></td>
<td><p>0</p></td>
<td><p>Define whether Platform-Level Interrupt Controller (PLIC) Unit is present or not</p></td>
</tr>
<tr class="row-odd"><td><p>__PLIC_BASEADDR</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>0x1C000000</p></td>
<td><p>Base address of the  PLIC unit.</p></td>
</tr>
<tr class="row-even"><td><p>__SMPCC_PRESENT</p></td>
<td><p>0 .. 1</p></td>
<td><p>0</p></td>
<td><p>Define whether SMP and Cluster Cache Unit is present or not</p></td>
</tr>
<tr class="row-odd"><td><p>__SMPCC_BASEADDR</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>0x18040000</p></td>
<td><p>Base address of the SMPCC unit.</p></td>
</tr>
<tr class="row-even"><td><p>__PLIC_INTNUM</p></td>
<td><p>1 .. 1024</p></td>
<td><p>1</p></td>
<td><p>Define the total external interrupt number of PLIC Unit</p></td>
</tr>
<tr class="row-odd"><td><p>__PMP_PRESENT</p></td>
<td><p>0 .. 1</p></td>
<td><p>0</p></td>
<td><p>Define whether Physical Memory Protection (PMP) Unit is present or not.</p></td>
</tr>
<tr class="row-even"><td><p>__PMP_ENTRY_NUM</p></td>
<td><p>8 or 16</p></td>
<td><p>8</p></td>
<td><p>Define the numbers of PMP entries.</p></td>
</tr>
<tr class="row-odd"><td><p>__TEE_PRESENT</p></td>
<td><p>0 .. 1</p></td>
<td><p>0</p></td>
<td><p>Define whether TEE Unit is present or not.</p></td>
</tr>
<tr class="row-even"><td><p>__SPMP_PRESENT</p></td>
<td><p>0 .. 1</p></td>
<td><p>0</p></td>
<td><p>Define whether SMode Physical Memory Protection (sPMP) Unit is present or not.</p></td>
</tr>
<tr class="row-odd"><td><p>__SPMP_ENTRY_NUM</p></td>
<td><p>8 or 16</p></td>
<td><p>8</p></td>
<td><p>Define the numbers of sPMP entries.</p></td>
</tr>
<tr class="row-even"><td><p>__SMPU_PRESENT</p></td>
<td><p>0 .. 1</p></td>
<td><p>0</p></td>
<td><p>Define whether SMode Memory Protection Unit (sMPU) Unit is present or not.</p></td>
</tr>
<tr class="row-odd"><td><p>__SMPU_ENTRY_NUM</p></td>
<td><p>8 or 16</p></td>
<td><p>8</p></td>
<td><p>Define the numbers of sMPU entries.</p></td>
</tr>
<tr class="row-even"><td><p>__FPU_PRESENT</p></td>
<td><p>0 .. 2</p></td>
<td><p>0</p></td>
<td><p>Define whether Floating Point Unit (FPU) is present or not.</p>
<ul class="simple">
<li><p>0: Not present</p></li>
<li><p>1: Single precision FPU present</p></li>
<li><p>2: Double precision FPU present</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>__BITMANIP_PRESENT</p></td>
<td><p>0 .. 1</p></td>
<td><p>0</p></td>
<td><p>Define whether Bitmainp Unit is present or not.</p></td>
</tr>
<tr class="row-even"><td><p>__DSP_PRESENT</p></td>
<td><p>0 .. 1</p></td>
<td><p>0</p></td>
<td><p>Define whether Digital Signal Processing Unit (DSP) is present or not.</p></td>
</tr>
<tr class="row-odd"><td><p>__VECTOR_PRESENT</p></td>
<td><p>0 .. 1</p></td>
<td><p>0</p></td>
<td><p>Define whether Vector Unit is present or not.</p></td>
</tr>
<tr class="row-even"><td><p>__ICACHE_PRESENT</p></td>
<td><p>0 .. 1</p></td>
<td><p>0</p></td>
<td><p>Define whether I-Cache Unit is present or not.</p></td>
</tr>
<tr class="row-odd"><td><p>__DCACHE_PRESENT</p></td>
<td><p>0 .. 1</p></td>
<td><p>0</p></td>
<td><p>Define whether D-Cache Unit is present or not.</p></td>
</tr>
<tr class="row-even"><td><p>__CCM_PRESENT</p></td>
<td><p>0 .. 1</p></td>
<td><p>0</p></td>
<td><p>Define whether Nuclei Cache Control and Mantainence Unit is present or not.</p></td>
</tr>
<tr class="row-odd"><td><p>__PMA_PRESENT</p></td>
<td><p>0 .. 1</p></td>
<td><p>0</p></td>
<td><p>Define whether Physical memory attribute Unit is present or not.</p></td>
</tr>
<tr class="row-even"><td><p>__PMA_CSR_NUM</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>0</p></td>
<td><p>Define the numbers of PMA CSR Number.</p></td>
</tr>
<tr class="row-odd"><td><p>__PMA_SEC_CSR_NUM</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>0</p></td>
<td><p>Define the numbers of PMA Secure CSR Number.</p></td>
</tr>
<tr class="row-even"><td><p>__PMA_MACRO_PRESENT</p></td>
<td><p>0 .. 1</p></td>
<td><p>0</p></td>
<td><p>Define whether Physical memory attribute rtl configuration macro is present or not.</p></td>
</tr>
<tr class="row-odd"><td><p>__HPM_PRESENT</p></td>
<td><p>0 .. 1</p></td>
<td><p>0</p></td>
<td><p>Define whether High Performance Monitor(PMU) is present or not.</p></td>
</tr>
<tr class="row-even"><td><p>__HPM_VER</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>1</p></td>
<td><p>Define High Performance Monitor(PMU) version.</p></td>
</tr>
<tr class="row-odd"><td><p>__NICE_PRESENT</p></td>
<td><p>0 .. 1</p></td>
<td><p>0</p></td>
<td><p>Define whether NICE is present or not.</p></td>
</tr>
<tr class="row-even"><td><p>__VNICE_PRESENT</p></td>
<td><p>0 .. 1</p></td>
<td><p>0</p></td>
<td><p>Define whether Vector NICE is present or not.</p></td>
</tr>
<tr class="row-odd"><td><p>__INC_INTRINSIC_API</p></td>
<td><p>0 .. 1</p></td>
<td><p>0</p></td>
<td><p>Define whether toolchain provided intrinsic api headers are included or not.</p></td>
</tr>
<tr class="row-even"><td><p>__Vendor_SysTickConfig</p></td>
<td><p>0 .. 1</p></td>
<td><p>0</p></td>
<td><p>If __SYSTIMER_PRESENT is 1, then the __Vendor_SysTickConfig can be set to 0, otherwise it can only set to 1.</p>
<p>If this define is set to 1, then the default SysTick_Config and SysTick_Reload function is excluded.</p>
<p>In this case, the file Device.h must contain a vendor specific implementation of this function.</p>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="nmsis-version-and-processor-information">
<h2>NMSIS Version and Processor Information<a class="headerlink" href="#nmsis-version-and-processor-information" title="Link to this heading"></a></h2>
<p>The following shows the defines in the <em>nmsis_core.h</em> file that may be used in the
<a class="reference internal" href="core_templates.html#core-device-templates"><span class="std std-ref">NMSIS-Core Device Templates</span></a> to verify a minimum version or ensure that the right Nuclei N/NX/U/UX class is used.</p>
</section>
<section id="device-peripheral-access-layer">
<span id="core-device-periph-access"></span><h2>Device Peripheral Access Layer<a class="headerlink" href="#device-peripheral-access-layer" title="Link to this heading"></a></h2>
<dl class="simple">
<dt>The <a class="reference internal" href="#core-template-device-header"><span class="std std-ref">Device Header File &lt;Device.h&gt;</span></a> contains for each peripheral:</dt><dd><ul class="simple">
<li><p>Register Layout Typedef</p></li>
<li><p>Base Address</p></li>
<li><p>Access Definitions</p></li>
</ul>
</dd>
</dl>
<p>The section <a class="reference internal" href="api/core_periph_access.html#core-api-periph-access"><span class="std std-ref">Peripheral Access</span></a> shows examples for peripheral definitions.</p>
</section>
<section id="device-h-template-file">
<h2>Device.h Template File<a class="headerlink" href="#device-h-template-file" title="Link to this heading"></a></h2>
<p>Here we provided <code class="docutils literal notranslate"><span class="pre">Device.h</span></code> template file as below:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cm">/******************************************************************************</span>
<span class="linenos">  2</span><span class="cm"> * @file     &lt;Device&gt;.h</span>
<span class="linenos">  3</span><span class="cm"> * @brief    NMSIS Core Peripheral Access Layer Header File for</span>
<span class="linenos">  4</span><span class="cm"> *           Nuclei Eval SoC which support Nuclei N/NX class cores</span>
<span class="linenos">  5</span><span class="cm"> * @version  V1.00</span>
<span class="linenos">  6</span><span class="cm"> * @date     22. Nov 2019</span>
<span class="linenos">  7</span><span class="cm"> ******************************************************************************/</span>
<span class="linenos">  8</span><span class="cm">/*</span>
<span class="linenos">  9</span><span class="cm"> * Copyright (c) 2019 Nuclei Limited. All rights reserved.</span>
<span class="linenos"> 10</span><span class="cm"> *</span>
<span class="linenos"> 11</span><span class="cm"> * SPDX-License-Identifier: Apache-2.0</span>
<span class="linenos"> 12</span><span class="cm"> *</span>
<span class="linenos"> 13</span><span class="cm"> * Licensed under the Apache License, Version 2.0 (the License); you may</span>
<span class="linenos"> 14</span><span class="cm"> * not use this file except in compliance with the License.</span>
<span class="linenos"> 15</span><span class="cm"> * You may obtain a copy of the License at</span>
<span class="linenos"> 16</span><span class="cm"> *</span>
<span class="linenos"> 17</span><span class="cm"> * www.apache.org/licenses/LICENSE-2.0</span>
<span class="linenos"> 18</span><span class="cm"> *</span>
<span class="linenos"> 19</span><span class="cm"> * Unless required by applicable law or agreed to in writing, software</span>
<span class="linenos"> 20</span><span class="cm"> * distributed under the License is distributed on an AS IS BASIS, WITHOUT</span>
<span class="linenos"> 21</span><span class="cm"> * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="linenos"> 22</span><span class="cm"> * See the License for the specific language governing permissions and</span>
<span class="linenos"> 23</span><span class="cm"> * limitations under the License.</span>
<span class="linenos"> 24</span><span class="cm"> */</span>
<span class="linenos"> 25</span>
<span class="linenos"> 26</span><span class="cp">#ifndef __&lt;Device&gt;_H__</span>
<span class="linenos"> 27</span><span class="cp">#define __&lt;Device&gt;_H__</span>
<span class="linenos"> 28</span>
<span class="linenos"> 29</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stddef.h&gt;</span>
<span class="linenos"> 30</span>
<span class="linenos"> 31</span><span class="cp">#ifdef __cplusplus</span>
<span class="linenos"> 32</span><span class="k">extern</span><span class="w"> </span><span class="s">&quot;C&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 33</span><span class="cp">#endif</span>
<span class="linenos"> 34</span>
<span class="linenos"> 35</span><span class="c1">// NOTE: this cpufeature.h header file is introduced in Nuclei SDK 0.6.0</span>
<span class="linenos"> 36</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;cpufeature.h&quot;</span>
<span class="linenos"> 37</span>
<span class="linenos"> 38</span><span class="cm">/** @addtogroup Nuclei</span>
<span class="linenos"> 39</span><span class="cm">  * @{</span>
<span class="linenos"> 40</span><span class="cm">  */</span>
<span class="linenos"> 41</span>
<span class="linenos"> 42</span>
<span class="linenos"> 43</span><span class="cm">/** @addtogroup &lt;Device&gt;</span>
<span class="linenos"> 44</span><span class="cm">  * @{</span>
<span class="linenos"> 45</span><span class="cm">  */</span>
<span class="linenos"> 46</span>
<span class="linenos"> 47</span>
<span class="linenos"> 48</span><span class="cm">/** @addtogroup Configuration_of_NMSIS</span>
<span class="linenos"> 49</span><span class="cm">  * @{</span>
<span class="linenos"> 50</span><span class="cm">  */</span>
<span class="linenos"> 51</span>
<span class="linenos"> 52</span><span class="cm">/** \brief SoC Download mode definition */</span>
<span class="linenos"> 53</span><span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 54</span><span class="w">    </span><span class="n">DOWNLOAD_MODE_FLASHXIP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">         </span><span class="cm">/*!&lt; Flashxip download mode */</span>
<span class="linenos"> 55</span><span class="w">    </span><span class="n">DOWNLOAD_MODE_FLASH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">            </span><span class="cm">/*!&lt; Flash download mode */</span>
<span class="linenos"> 56</span><span class="w">    </span><span class="n">DOWNLOAD_MODE_ILM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt; ilm download mode */</span>
<span class="linenos"> 57</span><span class="w">    </span><span class="n">DOWNLOAD_MODE_DDR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt; ddr download mode */</span>
<span class="linenos"> 58</span><span class="w">    </span><span class="n">DOWNLOAD_MODE_SRAM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">             </span><span class="cm">/*!&lt; sram download mode */</span>
<span class="linenos"> 59</span><span class="w">    </span><span class="n">DOWNLOAD_MODE_SRAMXIP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">          </span><span class="cm">/*!&lt; sramxip download mode */</span>
<span class="linenos"> 60</span><span class="w">    </span><span class="n">DOWNLOAD_MODE_MAX</span><span class="p">,</span>
<span class="linenos"> 61</span><span class="p">}</span><span class="w"> </span><span class="n">DownloadMode_Type</span><span class="p">;</span>
<span class="linenos"> 62</span>
<span class="linenos"> 63</span><span class="c1">// IRegion_Info_Type structure is removed in Nuclei SDK 0.6.0 release</span>
<span class="linenos"> 64</span>
<span class="linenos"> 65</span><span class="cm">/* Simulation mode macros */</span>
<span class="linenos"> 66</span><span class="cp">#define SIMULATION_MODE_XLSPIKE   0     </span><span class="cm">/*!&lt; xlspike simulation mode */</span>
<span class="linenos"> 67</span><span class="cp">#define SIMULATION_MODE_QEMU      1     </span><span class="cm">/*!&lt; qemu simulation mode */</span>
<span class="linenos"> 68</span>
<span class="linenos"> 69</span><span class="cm">/* =========================================================================================================================== */</span>
<span class="linenos"> 70</span><span class="cm">/* ================                                Interrupt Number Definition                                ================ */</span>
<span class="linenos"> 71</span><span class="cm">/* =========================================================================================================================== */</span>
<span class="linenos"> 72</span>
<span class="linenos"> 73</span><span class="cm">/* &lt;Device&gt;&#39;s External IRQn ID is from the hard-wired persperctive, which has an offset mapped to the ECLIC IRQn.</span>
<span class="linenos"> 74</span><span class="cm">   eg.: uart0&#39;s external interrupt id in &lt;Device&gt; is 32, while its ECLIC IRQn is 51 */</span>
<span class="linenos"> 75</span><span class="cp">#define SOC_EXTERNAL_MAP_TO_ECLIC_IRQn_OFFSET      19</span>
<span class="linenos"> 76</span><span class="cm">/* get &lt;Device&gt;&#39;s External IRQn from ECLIC external IRQn which indexs from 19 */</span>
<span class="linenos"> 77</span><span class="cp">#define IRQn_MAP_TO_EXT_ID(IRQn)                   (IRQn - SOC_EXTERNAL_MAP_TO_ECLIC_IRQn_OFFSET)</span>
<span class="linenos"> 78</span>
<span class="linenos"> 79</span><span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="n">IRQn</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 80</span><span class="w">    </span><span class="cm">/* =======================================  Nuclei Core Specific Interrupt Numbers  ======================================== */</span>
<span class="linenos"> 81</span>
<span class="linenos"> 82</span><span class="w">    </span><span class="n">Reserved0_IRQn</span><span class="w">            </span><span class="o">=</span><span class="w">   </span><span class="mi">0</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Internal reserved */</span>
<span class="linenos"> 83</span><span class="w">    </span><span class="n">SysTimerSW_S_IRQn</span><span class="w">         </span><span class="o">=</span><span class="w">   </span><span class="mi">1</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  System Timer supervisor mode SW interrupt triggered by ssip  */</span>
<span class="linenos"> 84</span><span class="w">    </span><span class="n">Reserved2_IRQn</span><span class="w">            </span><span class="o">=</span><span class="w">   </span><span class="mi">2</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Internal reserved */</span>
<span class="linenos"> 85</span><span class="w">    </span><span class="n">SysTimerSW_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w">   </span><span class="mi">3</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  System Timer machine mode SW interrupt triggered by msip */</span>
<span class="linenos"> 86</span><span class="w">    </span><span class="n">Reserved3_IRQn</span><span class="w">            </span><span class="o">=</span><span class="w">   </span><span class="mi">4</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Internal reserved */</span>
<span class="linenos"> 87</span><span class="w">    </span><span class="n">SysTimer_S_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w">   </span><span class="mi">5</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  System Timer supervisor mode interrupt triggered by stimecmp csr */</span>
<span class="linenos"> 88</span><span class="w">    </span><span class="n">Reserved5_IRQn</span><span class="w">            </span><span class="o">=</span><span class="w">   </span><span class="mi">6</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Internal reserved */</span>
<span class="linenos"> 89</span><span class="w">    </span><span class="n">SysTimer_IRQn</span><span class="w">             </span><span class="o">=</span><span class="w">   </span><span class="mi">7</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  System Timer machine mode interrupt triggered by mtimecmp */</span>
<span class="linenos"> 90</span><span class="w">    </span><span class="n">Reserved6_IRQn</span><span class="w">            </span><span class="o">=</span><span class="w">   </span><span class="mi">8</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Internal reserved */</span>
<span class="linenos"> 91</span><span class="w">    </span><span class="n">Reserved7_IRQn</span><span class="w">            </span><span class="o">=</span><span class="w">   </span><span class="mi">9</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Internal reserved */</span>
<span class="linenos"> 92</span><span class="w">    </span><span class="n">Reserved8_IRQn</span><span class="w">            </span><span class="o">=</span><span class="w">  </span><span class="mi">10</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Internal reserved */</span>
<span class="linenos"> 93</span><span class="w">    </span><span class="n">Reserved9_IRQn</span><span class="w">            </span><span class="o">=</span><span class="w">  </span><span class="mi">11</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Internal reserved */</span>
<span class="linenos"> 94</span><span class="w">    </span><span class="n">Reserved10_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w">  </span><span class="mi">12</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Internal reserved */</span>
<span class="linenos"> 95</span><span class="w">    </span><span class="n">Reserved11_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w">  </span><span class="mi">13</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Internal reserved */</span>
<span class="linenos"> 96</span><span class="w">    </span><span class="n">Reserved12_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w">  </span><span class="mi">14</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Internal reserved */</span>
<span class="linenos"> 97</span><span class="w">    </span><span class="n">Reserved13_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w">  </span><span class="mi">15</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Internal reserved */</span>
<span class="linenos"> 98</span><span class="w">    </span><span class="n">InterCore_IRQn</span><span class="w">            </span><span class="o">=</span><span class="w">  </span><span class="mi">16</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  CIDU Inter Core Interrupt */</span>
<span class="linenos"> 99</span><span class="w">    </span><span class="n">Reserved15_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w">  </span><span class="mi">17</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Internal reserved */</span>
<span class="linenos">100</span><span class="w">    </span><span class="n">Reserved16_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w">  </span><span class="mi">18</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Internal reserved */</span>
<span class="linenos">101</span>
<span class="linenos">102</span><span class="w">    </span><span class="cm">/* ===========================================  &lt;Device&gt; Specific Interrupt Numbers  ========================================= */</span>
<span class="linenos">103</span><span class="w">    </span><span class="cm">/* ToDo: add here your device specific external interrupt numbers. 19~1023 is reserved number for user. Maxmum interrupt supported</span>
<span class="linenos">104</span><span class="cm">             could get from clicinfo.NUM_INTERRUPT. According the interrupt handlers defined in startup_Device.s</span>
<span class="linenos">105</span><span class="cm">             eg.: Interrupt for Timer#1       eclic_tim1_handler   -&gt;   TIM1_IRQn */</span>
<span class="linenos">106</span><span class="w">    </span><span class="n">SOC_INT19_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">107</span><span class="w">    </span><span class="n">SOC_INT20_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">108</span><span class="w">    </span><span class="n">SOC_INT21_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">109</span><span class="w">    </span><span class="n">SOC_INT22_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">110</span><span class="w">    </span><span class="n">SOC_INT23_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">111</span><span class="w">    </span><span class="n">SOC_INT24_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">112</span><span class="w">    </span><span class="n">SOC_INT25_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">113</span><span class="w">    </span><span class="n">SOC_INT26_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">114</span><span class="w">    </span><span class="n">SOC_INT27_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">115</span><span class="w">    </span><span class="n">SOC_INT28_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">116</span><span class="w">    </span><span class="n">SOC_INT29_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">117</span><span class="w">    </span><span class="n">SOC_INT30_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">118</span><span class="w">    </span><span class="n">SOC_INT31_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">119</span><span class="w">    </span><span class="n">SOC_INT32_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">120</span><span class="w">    </span><span class="n">SOC_INT33_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">121</span><span class="w">    </span><span class="n">SOC_INT34_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">34</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">122</span><span class="w">    </span><span class="n">SOC_INT35_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">123</span><span class="w">    </span><span class="n">SOC_INT36_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">36</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">124</span><span class="w">    </span><span class="n">SOC_INT37_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">37</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">125</span><span class="w">    </span><span class="n">SOC_INT38_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">38</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">126</span><span class="w">    </span><span class="n">SOC_INT39_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">39</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">127</span><span class="w">    </span><span class="n">SOC_INT40_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">128</span><span class="w">    </span><span class="n">SOC_INT41_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">41</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">129</span><span class="w">    </span><span class="n">SOC_INT42_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">130</span><span class="w">    </span><span class="n">SOC_INT43_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">43</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">131</span><span class="w">    </span><span class="n">SOC_INT44_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">44</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">132</span><span class="w">    </span><span class="n">SOC_INT45_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">133</span><span class="w">    </span><span class="n">SOC_INT46_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">46</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">134</span><span class="w">    </span><span class="n">SOC_INT47_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">47</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">135</span><span class="w">    </span><span class="n">SOC_INT48_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">48</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">136</span><span class="w">    </span><span class="n">SOC_INT49_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">49</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">137</span><span class="w">    </span><span class="n">SOC_INT50_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">138</span><span class="w">    </span><span class="n">SOC_INT51_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">51</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">139</span><span class="w">    </span><span class="n">SOC_INT52_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">52</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">140</span><span class="w">    </span><span class="n">SOC_INT53_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">141</span><span class="w">    </span><span class="n">SOC_INT54_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">54</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">142</span><span class="w">    </span><span class="n">SOC_INT55_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">55</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">143</span><span class="w">    </span><span class="n">SOC_INT56_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">56</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">144</span><span class="w">    </span><span class="n">SOC_INT57_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">57</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">145</span><span class="w">    </span><span class="n">SOC_INT58_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">58</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">146</span><span class="w">    </span><span class="n">SOC_INT59_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">59</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">147</span><span class="w">    </span><span class="n">SOC_INT60_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">148</span><span class="w">    </span><span class="n">SOC_INT61_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">61</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">149</span><span class="w">    </span><span class="n">SOC_INT62_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">62</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">150</span><span class="w">    </span><span class="n">SOC_INT63_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">63</span><span class="p">,</span><span class="w">                </span><span class="cm">/*!&lt; Device Interrupt */</span>
<span class="linenos">151</span><span class="cp">#if defined(CFG_IRQ_NUM)</span>
<span class="linenos">152</span><span class="w">    </span><span class="n">SOC_INT_MAX</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="n">CFG_IRQ_NUM</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">SOC_EXTERNAL_MAP_TO_ECLIC_IRQn_OFFSET</span><span class="p">,</span>
<span class="linenos">153</span><span class="cp">#else</span>
<span class="linenos">154</span><span class="w">    </span><span class="n">SOC_INT_MAX</span><span class="p">,</span>
<span class="linenos">155</span><span class="cp">#endif</span>
<span class="linenos">156</span>
<span class="linenos">157</span><span class="w">    </span><span class="n">PLIC_INT0_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="linenos">158</span><span class="w">    </span><span class="n">PLIC_INT1_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">159</span><span class="w">    </span><span class="n">PLIC_INT2_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="linenos">160</span><span class="w">    </span><span class="n">PLIC_INT3_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="linenos">161</span><span class="w">    </span><span class="n">PLIC_INT4_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="linenos">162</span><span class="w">    </span><span class="n">PLIC_INT5_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="linenos">163</span><span class="w">    </span><span class="n">PLIC_INT6_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span>
<span class="linenos">164</span><span class="w">    </span><span class="n">PLIC_INT7_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span>
<span class="linenos">165</span><span class="w">    </span><span class="n">PLIC_INT8_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span>
<span class="linenos">166</span><span class="w">    </span><span class="n">PLIC_INT9_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span>
<span class="linenos">167</span><span class="w">    </span><span class="n">PLIC_INT10_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="linenos">168</span><span class="w">    </span><span class="n">PLIC_INT11_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span>
<span class="linenos">169</span><span class="w">    </span><span class="n">PLIC_INT12_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="linenos">170</span><span class="w">    </span><span class="n">PLIC_INT13_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span>
<span class="linenos">171</span><span class="w">    </span><span class="n">PLIC_INT14_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span>
<span class="linenos">172</span><span class="w">    </span><span class="n">PLIC_INT15_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span>
<span class="linenos">173</span><span class="w">    </span><span class="n">PLIC_INT16_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span>
<span class="linenos">174</span><span class="w">    </span><span class="n">PLIC_INT17_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span>
<span class="linenos">175</span><span class="w">    </span><span class="n">PLIC_INT18_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span>
<span class="linenos">176</span><span class="w">    </span><span class="n">PLIC_INT19_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span>
<span class="linenos">177</span><span class="w">    </span><span class="n">PLIC_INT20_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span>
<span class="linenos">178</span><span class="w">    </span><span class="n">PLIC_INT21_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span>
<span class="linenos">179</span><span class="w">    </span><span class="n">PLIC_INT22_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span>
<span class="linenos">180</span><span class="w">    </span><span class="n">PLIC_INT23_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span>
<span class="linenos">181</span><span class="w">    </span><span class="n">PLIC_INT24_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span>
<span class="linenos">182</span><span class="w">    </span><span class="n">PLIC_INT25_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span>
<span class="linenos">183</span><span class="w">    </span><span class="n">PLIC_INT26_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span>
<span class="linenos">184</span><span class="w">    </span><span class="n">PLIC_INT27_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span>
<span class="linenos">185</span><span class="w">    </span><span class="n">PLIC_INT28_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span>
<span class="linenos">186</span><span class="w">    </span><span class="n">PLIC_INT29_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span>
<span class="linenos">187</span><span class="w">    </span><span class="n">PLIC_INT30_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span>
<span class="linenos">188</span><span class="w">    </span><span class="n">PLIC_INT31_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span>
<span class="linenos">189</span><span class="w">    </span><span class="n">PLIC_INT32_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span>
<span class="linenos">190</span><span class="w">    </span><span class="n">PLIC_INT33_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span>
<span class="linenos">191</span><span class="w">    </span><span class="n">PLIC_INT34_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">34</span><span class="p">,</span>
<span class="linenos">192</span><span class="w">    </span><span class="n">PLIC_INT35_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span>
<span class="linenos">193</span><span class="w">    </span><span class="n">PLIC_INT36_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">36</span><span class="p">,</span>
<span class="linenos">194</span><span class="w">    </span><span class="n">PLIC_INT37_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">37</span><span class="p">,</span>
<span class="linenos">195</span><span class="w">    </span><span class="n">PLIC_INT38_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">38</span><span class="p">,</span>
<span class="linenos">196</span><span class="w">    </span><span class="n">PLIC_INT39_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">39</span><span class="p">,</span>
<span class="linenos">197</span><span class="w">    </span><span class="n">PLIC_INT40_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span>
<span class="linenos">198</span><span class="w">    </span><span class="n">PLIC_INT41_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">41</span><span class="p">,</span>
<span class="linenos">199</span><span class="w">    </span><span class="n">PLIC_INT42_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span>
<span class="linenos">200</span><span class="w">    </span><span class="n">PLIC_INT43_IRQn</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mi">43</span><span class="p">,</span>
<span class="linenos">201</span><span class="cp">#if defined(CFG_IRQ_NUM)</span>
<span class="linenos">202</span><span class="w">    </span><span class="n">PLIC_INIT_MAX</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="n">CFG_IRQ_NUM</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="linenos">203</span><span class="cp">#else</span>
<span class="linenos">204</span><span class="w">    </span><span class="n">PLIC_INIT_MAX</span><span class="p">,</span>
<span class="linenos">205</span><span class="cp">#endif</span>
<span class="linenos">206</span><span class="p">}</span><span class="w"> </span><span class="n">IRQn_Type</span><span class="p">;</span>
<span class="linenos">207</span>
<span class="linenos">208</span><span class="cp">#if defined(CFG_IRQ_NUM) &amp;&amp; (CFG_IRQ_NUM &gt; 38)</span>
<span class="linenos">209</span><span class="cp">#define IRQn_OFFSET             0</span>
<span class="linenos">210</span><span class="cp">#else</span>
<span class="linenos">211</span><span class="cp">#define IRQn_OFFSET             32</span>
<span class="linenos">212</span><span class="cp">#endif</span>
<span class="linenos">213</span>
<span class="linenos">214</span><span class="cp">#ifdef CFG_HAS_CLIC</span>
<span class="linenos">215</span><span class="cm">/* UART0 Interrupt */</span>
<span class="linenos">216</span><span class="cm">/* NOTE: Take care the external uart irq may not work, it require a correct &lt;Device&gt; cpu configuration */</span>
<span class="linenos">217</span><span class="cm">/* NOTE: For latest 200/300 cpu, this UART0_IRQn maybe SOC_INT19_IRQn */</span>
<span class="linenos">218</span><span class="cm">/* Please check Interrupts of Eval_SoC section in Nuclei_Processor_Integration_Guide.pdf */</span>
<span class="linenos">219</span><span class="cp">#define UART0_IRQn                                 (SOC_INT51_IRQn - IRQn_OFFSET)</span>
<span class="linenos">220</span><span class="cm">/* QSPI Interrupt */</span>
<span class="linenos">221</span><span class="cp">#define QSPI0_IRQn                                 (SOC_INT53_IRQn - IRQn_OFFSET)</span>
<span class="linenos">222</span><span class="cp">#define QSPI1_IRQn                                 (SOC_INT54_IRQn - IRQn_OFFSET)</span>
<span class="linenos">223</span><span class="cp">#define QSPI2_IRQn                                 (SOC_INT55_IRQn - IRQn_OFFSET)</span>
<span class="linenos">224</span><span class="cp">#else</span>
<span class="linenos">225</span><span class="cm">/* UART0 Interrupt */</span>
<span class="linenos">226</span><span class="cp">#define UART0_IRQn                                 (PLIC_INT33_IRQn - IRQn_OFFSET)</span>
<span class="linenos">227</span><span class="cm">/* QSPI Interrupt */</span>
<span class="linenos">228</span><span class="cp">#define QSPI0_IRQn                                 (PLIC_INT35_IRQn - IRQn_OFFSET)</span>
<span class="linenos">229</span><span class="cp">#define QSPI1_IRQn                                 (PLIC_INT36_IRQn - IRQn_OFFSET)</span>
<span class="linenos">230</span><span class="cp">#define QSPI2_IRQn                                 (PLIC_INT37_IRQn - IRQn_OFFSET)</span>
<span class="linenos">231</span><span class="cp">#endif</span>
<span class="linenos">232</span>
<span class="linenos">233</span><span class="cp">#define PLIC_UART0_IRQn                            (PLIC_INT33_IRQn - IRQn_OFFSET)</span>
<span class="linenos">234</span>
<span class="linenos">235</span>
<span class="linenos">236</span><span class="cm">/* =========================================================================================================================== */</span>
<span class="linenos">237</span><span class="cm">/* ================                                  Exception Code Definition                                ================ */</span>
<span class="linenos">238</span><span class="cm">/* =========================================================================================================================== */</span>
<span class="linenos">239</span>
<span class="linenos">240</span><span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="n">EXCn</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">241</span><span class="w">    </span><span class="cm">/* =======================================  Nuclei N/NX Specific Exception Code  ======================================== */</span>
<span class="linenos">242</span><span class="w">    </span><span class="n">InsUnalign_EXCn</span><span class="w">          </span><span class="o">=</span><span class="w">   </span><span class="mi">0</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Instruction address misaligned */</span>
<span class="linenos">243</span><span class="w">    </span><span class="n">InsAccFault_EXCn</span><span class="w">         </span><span class="o">=</span><span class="w">   </span><span class="mi">1</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Instruction access fault */</span>
<span class="linenos">244</span><span class="w">    </span><span class="n">IlleIns_EXCn</span><span class="w">             </span><span class="o">=</span><span class="w">   </span><span class="mi">2</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Illegal instruction */</span>
<span class="linenos">245</span><span class="w">    </span><span class="n">Break_EXCn</span><span class="w">               </span><span class="o">=</span><span class="w">   </span><span class="mi">3</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Beakpoint */</span>
<span class="linenos">246</span><span class="w">    </span><span class="n">LdAddrUnalign_EXCn</span><span class="w">       </span><span class="o">=</span><span class="w">   </span><span class="mi">4</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Load address misaligned */</span>
<span class="linenos">247</span><span class="w">    </span><span class="n">LdFault_EXCn</span><span class="w">             </span><span class="o">=</span><span class="w">   </span><span class="mi">5</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Load access fault */</span>
<span class="linenos">248</span><span class="w">    </span><span class="n">StAddrUnalign_EXCn</span><span class="w">       </span><span class="o">=</span><span class="w">   </span><span class="mi">6</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Store or AMO address misaligned */</span>
<span class="linenos">249</span><span class="w">    </span><span class="n">StAccessFault_EXCn</span><span class="w">       </span><span class="o">=</span><span class="w">   </span><span class="mi">7</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Store or AMO access fault */</span>
<span class="linenos">250</span><span class="w">    </span><span class="n">UmodeEcall_EXCn</span><span class="w">          </span><span class="o">=</span><span class="w">   </span><span class="mi">8</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Environment call from User mode */</span>
<span class="linenos">251</span><span class="w">    </span><span class="n">SmodeEcall_EXCn</span><span class="w">          </span><span class="o">=</span><span class="w">   </span><span class="mi">9</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Environment call from S-mode */</span>
<span class="linenos">252</span><span class="w">    </span><span class="n">MmodeEcall_EXCn</span><span class="w">          </span><span class="o">=</span><span class="w">  </span><span class="mi">11</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Environment call from Machine mode */</span>
<span class="linenos">253</span><span class="w">    </span><span class="n">InsPageFault_EXCn</span><span class="w">        </span><span class="o">=</span><span class="w">  </span><span class="mi">12</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Instruction page fault */</span>
<span class="linenos">254</span><span class="w">    </span><span class="n">LdPageFault_EXCn</span><span class="w">         </span><span class="o">=</span><span class="w">  </span><span class="mi">13</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Load page fault */</span>
<span class="linenos">255</span><span class="w">    </span><span class="n">StPageFault_EXCn</span><span class="w">         </span><span class="o">=</span><span class="w">  </span><span class="mi">15</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Store or AMO page fault */</span>
<span class="linenos">256</span><span class="w">    </span><span class="n">StackOverflow_EXCn</span><span class="w">       </span><span class="o">=</span><span class="w">  </span><span class="mi">24</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Stack overflow fault */</span>
<span class="linenos">257</span><span class="w">    </span><span class="n">StackUnderflow_EXCn</span><span class="w">      </span><span class="o">=</span><span class="w">  </span><span class="mi">25</span><span class="p">,</span><span class="w">              </span><span class="cm">/*!&lt;  Stack underflow fault */</span>
<span class="linenos">258</span><span class="w">    </span><span class="n">NMI_EXCn</span><span class="w">                 </span><span class="o">=</span><span class="w">  </span><span class="mh">0xfff</span><span class="p">,</span><span class="w">           </span><span class="cm">/*!&lt;  NMI interrupt */</span>
<span class="linenos">259</span><span class="p">}</span><span class="w"> </span><span class="n">EXCn_Type</span><span class="p">;</span>
<span class="linenos">260</span>
<span class="linenos">261</span><span class="cm">/* =========================================================================================================================== */</span>
<span class="linenos">262</span><span class="cm">/* ================                           Processor and Core Peripheral Section                           ================ */</span>
<span class="linenos">263</span><span class="cm">/* =========================================================================================================================== */</span>
<span class="linenos">264</span><span class="c1">// NOTE: macros __NUCLEI_CORE_REV/__NUCLEI_N_REV/__NUCLEI_NX_REV are removed now</span>
<span class="linenos">265</span>
<span class="linenos">266</span><span class="c1">// NOTE: __FPU_PRESENT/__BITMANIP_PRESENT/__DSP_PRESENT/__VECTOR_PRESENT can be probed by compiler&#39;s -march= option</span>
<span class="linenos">267</span><span class="c1">// See https://gcc.gnu.org/onlinedocs/gcc/RISC-V-Options.html</span>
<span class="linenos">268</span>
<span class="linenos">269</span><span class="cm">/*!&lt; Set to 0, 1, or 2, 0 not present, 1 single floating point unit present, 2 double floating point unit present */</span>
<span class="linenos">270</span><span class="cp">#if !defined(__riscv_flen)</span>
<span class="linenos">271</span><span class="cp">#define __FPU_PRESENT             0</span>
<span class="linenos">272</span><span class="cp">#elif __riscv_flen == 32</span>
<span class="linenos">273</span><span class="cp">#define __FPU_PRESENT             1</span>
<span class="linenos">274</span><span class="cp">#else</span>
<span class="linenos">275</span><span class="cp">#define __FPU_PRESENT             2</span>
<span class="linenos">276</span><span class="cp">#endif</span>
<span class="linenos">277</span>
<span class="linenos">278</span><span class="cp">#if defined(__riscv_bitmanip)</span>
<span class="linenos">279</span><span class="cp">#define __BITMANIP_PRESENT        1                     </span><span class="cm">/*!&lt; Set to 1 if Bitmainpulation extension is present */</span>
<span class="linenos">280</span><span class="cp">#else</span>
<span class="linenos">281</span><span class="cp">#define __BITMANIP_PRESENT        0                     </span><span class="cm">/*!&lt; Set to 1 if Bitmainpulation extension is present */</span>
<span class="linenos">282</span><span class="cp">#endif</span>
<span class="linenos">283</span><span class="cp">#if defined(__riscv_dsp)</span>
<span class="linenos">284</span><span class="cp">#define __DSP_PRESENT             1                     </span><span class="cm">/*!&lt; Set to 1 if Partial SIMD(DSP) extension is present */</span>
<span class="linenos">285</span><span class="cp">#else</span>
<span class="linenos">286</span><span class="cp">#define __DSP_PRESENT             0                     </span><span class="cm">/*!&lt; Set to 1 if Partial SIMD(DSP) extension is present */</span>
<span class="linenos">287</span><span class="cp">#endif</span>
<span class="linenos">288</span><span class="cp">#if defined(__riscv_vector)</span>
<span class="linenos">289</span><span class="cp">#define __VECTOR_PRESENT          1                     </span><span class="cm">/*!&lt; Set to 1 if Vector extension is present */</span>
<span class="linenos">290</span><span class="cp">#else</span>
<span class="linenos">291</span><span class="cp">#define __VECTOR_PRESENT          0                     </span><span class="cm">/*!&lt; Set to 1 if Vector extension is present */</span>
<span class="linenos">292</span><span class="cp">#endif</span>
<span class="linenos">293</span>
<span class="linenos">294</span>
<span class="linenos">295</span><span class="c1">// CPU IREGION Private Peripherals Offset against IREGION base specified by mirgb_info CSR</span>
<span class="linenos">296</span><span class="c1">// These offset information can be found in selected cpu series databook&#39;s IREGION section.</span>
<span class="linenos">297</span><span class="c1">// mirgb_info CSR can be found in Nuclei RISC-V ISA Spec</span>
<span class="linenos">298</span><span class="c1">// You can also probe the cpu information using the general application/baremetal/cpuinfo case</span>
<span class="linenos">299</span><span class="c1">// You can find the offset macros(IREGION_*_OFS) in riscv_encoding.h via search IREGION Offsets</span>
<span class="linenos">300</span>
<span class="linenos">301</span><span class="c1">// NORMAL CPU Configuration: From Nuclei SDK 0.6.0, we recommend you to update the CPU configuration macros defined in cpufeature.h</span>
<span class="linenos">302</span><span class="c1">// Please don&#39;t modify the macros below directly</span>
<span class="linenos">303</span>
<span class="linenos">304</span><span class="c1">// NOTE: We use macros defined in cpufeature.h</span>
<span class="linenos">305</span><span class="c1">// WARNING: Please dont modify macros directly below, you can change in cpufeature.h</span>
<span class="linenos">306</span>
<span class="linenos">307</span><span class="c1">// CPU Series and Version Configuration</span>
<span class="linenos">308</span><span class="c1">// To set CPU REV and SERIES, just define CFG_CPU_VER/CFG_CPU_SERIES macros in cpufeature.h</span>
<span class="linenos">309</span><span class="cp">#define __NUCLEI_CPU_REV            CFG_CPU_VER           </span><span class="cm">/*!&lt; Nuclei CPU Core Revision, version X.Y.Z, this is for the CPU Core Version, you get from Nuclei, eg. N300 v3.10.1, it should be 0x030A01 */</span>
<span class="linenos">310</span><span class="cp">#define __NUCLEI_CPU_SERIES         CFG_CPU_SERIES        </span><span class="cm">/*!&lt; Nuclei CPU Series, such as 200/300/600/900, eg. 900 will be 0x0900 */</span>
<span class="linenos">311</span>
<span class="linenos">312</span><span class="c1">// CPU IREGION Base Address</span>
<span class="linenos">313</span><span class="c1">// To set IREGION base, just define macro CFG_IREGION_BASE_ADDR in cpufeature.h</span>
<span class="linenos">314</span><span class="cp">#ifndef CFG_IREGION_BASE_ADDR</span>
<span class="linenos">315</span><span class="c1">// it is defined in system_&lt;Device&gt;.c, you should not use this variable CpuIRegionBase</span>
<span class="linenos">316</span><span class="c1">// SystemIRegionInfo variable in previous release is removed, you should avoid to use it</span>
<span class="linenos">317</span><span class="c1">// you should use macro __IREGION_BASEADDR defined in &lt;Device&gt;.h</span>
<span class="linenos">318</span><span class="k">extern</span><span class="w"> </span><span class="k">volatile</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">CpuIRegionBase</span><span class="p">;</span>
<span class="linenos">319</span><span class="cp">#define CPU_IREGION_BASE            CpuIRegionBase</span>
<span class="linenos">320</span><span class="cp">#else</span>
<span class="linenos">321</span><span class="cp">#define CPU_IREGION_BASE            CFG_IREGION_BASE_ADDR</span>
<span class="linenos">322</span><span class="cp">#endif</span>
<span class="linenos">323</span><span class="cp">#define __IREGION_BASEADDR          (CPU_IREGION_BASE)</span>
<span class="linenos">324</span><span class="cp">#define __IINFO_BASEADDR            (__IREGION_BASEADDR + IREGION_IINFO_OFS)</span>
<span class="linenos">325</span><span class="cp">#define __IINFO_MPASIZE_OFS         0</span>
<span class="linenos">326</span><span class="cp">#define __IINFO_MPASIZE_ADDR        (__IINFO_BASEADDR + __IINFO_MPASIZE_OFS)</span>
<span class="linenos">327</span>
<span class="linenos">328</span><span class="c1">// ECLIC Configuration</span>
<span class="linenos">329</span><span class="c1">// To enable ECLIC, just define macro CFG_HAS_CLIC/CFG_CLICINTCTLBITS/CFG_IRQ_NUM in cpufeature.h</span>
<span class="linenos">330</span><span class="cp">#ifdef CFG_HAS_CLIC</span>
<span class="linenos">331</span><span class="cp">#define __ECLIC_PRESENT             1</span>
<span class="linenos">332</span><span class="cp">#ifdef CFG_CLICINTCTLBITS</span>
<span class="linenos">333</span><span class="cp">#define __ECLIC_INTCTLBITS          CFG_CLICINTCTLBITS</span>
<span class="linenos">334</span><span class="cp">#endif</span>
<span class="linenos">335</span><span class="cp">#define __ECLIC_INTNUM              (CFG_IRQ_NUM + SOC_EXTERNAL_MAP_TO_ECLIC_IRQn_OFFSET)</span>
<span class="linenos">336</span><span class="cp">#else</span>
<span class="linenos">337</span><span class="cp">#define __ECLIC_PRESENT             0</span>
<span class="linenos">338</span><span class="cp">#endif</span>
<span class="linenos">339</span><span class="cp">#define __ECLIC_BASEADDR            (__IREGION_BASEADDR + IREGION_ECLIC_OFS)</span>
<span class="linenos">340</span>
<span class="linenos">341</span><span class="c1">// PLIC Configuration</span>
<span class="linenos">342</span><span class="c1">// To enable PLIC, just define macro CFG_HAS_PLIC/CFG_IRQ_NUM in cpufeature.h</span>
<span class="linenos">343</span><span class="cp">#ifdef CFG_HAS_PLIC</span>
<span class="linenos">344</span><span class="cp">#define __PLIC_PRESENT              1</span>
<span class="linenos">345</span><span class="cp">#define __PLIC_INTNUM               (CFG_IRQ_NUM + 1)</span>
<span class="linenos">346</span><span class="cp">#else</span>
<span class="linenos">347</span><span class="cp">#define __PLIC_PRESENT              0</span>
<span class="linenos">348</span><span class="cp">#endif</span>
<span class="linenos">349</span><span class="cp">#define __PLIC_BASEADDR             (__IREGION_BASEADDR + IREGION_PLIC_OFS)</span>
<span class="linenos">350</span>
<span class="linenos">351</span><span class="c1">// CPU System Timer Configuration</span>
<span class="linenos">352</span><span class="c1">// To enable CPU System Timer, just define macro CFG_TMR_PRIVATE in cpufeature.h</span>
<span class="linenos">353</span><span class="cp">#if defined(CFG_TMR_PRIVATE) || defined(CFG_TMR_BASE_ADDR)</span>
<span class="linenos">354</span><span class="cp">#define __SYSTIMER_PRESENT          1</span>
<span class="linenos">355</span><span class="cp">#else</span>
<span class="linenos">356</span><span class="cp">#define __SYSTIMER_PRESENT          0</span>
<span class="linenos">357</span><span class="cp">#endif</span>
<span class="linenos">358</span><span class="cp">#ifdef CFG_TMR_BASE_ADDR    </span><span class="c1">// Maybe using timer out of cpu for &lt;Device&gt;</span>
<span class="linenos">359</span><span class="cp">#define __SYSTIMER_BASEADDR         (CFG_TMR_BASE_ADDR)</span>
<span class="linenos">360</span><span class="cp">#else</span>
<span class="linenos">361</span><span class="cp">#define __SYSTIMER_BASEADDR         (__IREGION_BASEADDR + IREGION_TIMER_OFS)</span>
<span class="linenos">362</span><span class="cp">#endif</span>
<span class="linenos">363</span><span class="cp">#define __CLINT_TIMER_BASEADDR      (__SYSTIMER_BASEADDR + 0x1000)</span>
<span class="linenos">364</span>
<span class="linenos">365</span><span class="c1">// CPU System Timer SSTC Configuration</span>
<span class="linenos">366</span><span class="cp">#if defined(CFG_HAS_ISA_SSTC)</span>
<span class="linenos">367</span><span class="cp">#define __SSTC_PRESENT              1</span>
<span class="linenos">368</span><span class="cp">#else</span>
<span class="linenos">369</span><span class="cp">#define __SSTC_PRESENT              0</span>
<span class="linenos">370</span><span class="cp">#endif</span>
<span class="linenos">371</span>
<span class="linenos">372</span><span class="c1">// CIDU Configuration</span>
<span class="linenos">373</span><span class="c1">// To enable CIDU, just define macro CFG_HAS_IDU in cpufeature.h</span>
<span class="linenos">374</span><span class="cp">#ifdef CFG_HAS_IDU</span>
<span class="linenos">375</span><span class="cp">#define __CIDU_PRESENT              1</span>
<span class="linenos">376</span><span class="cp">#else</span>
<span class="linenos">377</span><span class="cp">#define __CIDU_PRESENT              0</span>
<span class="linenos">378</span><span class="cp">#endif</span>
<span class="linenos">379</span>
<span class="linenos">380</span><span class="cp">#define __CIDU_BASEADDR             (__IREGION_BASEADDR + IREGION_IDU_OFS)</span>
<span class="linenos">381</span>
<span class="linenos">382</span><span class="c1">// SMP &amp; CC Configuration</span>
<span class="linenos">383</span><span class="c1">// To enable SMP &amp; CC, just define macro CFG_HAS_SMP in cpufeature.h</span>
<span class="linenos">384</span><span class="cp">#ifdef CFG_HAS_SMP</span>
<span class="linenos">385</span><span class="cp">#define __SMPCC_PRESENT             1</span>
<span class="linenos">386</span><span class="cp">#else</span>
<span class="linenos">387</span><span class="cp">#define __SMPCC_PRESENT             0</span>
<span class="linenos">388</span><span class="cp">#endif</span>
<span class="linenos">389</span>
<span class="linenos">390</span><span class="cp">#define __SMPCC_BASEADDR            (__IREGION_BASEADDR + IREGION_SMP_OFS)</span>
<span class="linenos">391</span>
<span class="linenos">392</span><span class="c1">// PMP Configuration</span>
<span class="linenos">393</span><span class="c1">// To enable PMP, just define macro CFG_HAS_PMP/__PMP_ENTRY_NUM in cpufeature.h</span>
<span class="linenos">394</span><span class="cp">#ifdef CFG_HAS_PMP</span>
<span class="linenos">395</span><span class="cp">#define __PMP_PRESENT               1</span>
<span class="linenos">396</span><span class="cp">#define __PMP_ENTRY_NUM             CFG_PMP_ENTRY_NUM</span>
<span class="linenos">397</span><span class="cp">#else</span>
<span class="linenos">398</span><span class="cp">#define __PMP_PRESENT               0</span>
<span class="linenos">399</span><span class="cp">#define __PMP_ENTRY_NUM             0</span>
<span class="linenos">400</span><span class="cp">#endif</span>
<span class="linenos">401</span>
<span class="linenos">402</span><span class="c1">// TEE/sPMP Configuration</span>
<span class="linenos">403</span><span class="c1">// To enable TEE, just define macro CFG_HAS_TEE in cpufeature.h</span>
<span class="linenos">404</span><span class="c1">// TEE required PMP, please also make sure CFG_HAS_PMP defined</span>
<span class="linenos">405</span><span class="cp">#ifdef CFG_HAS_TEE</span>
<span class="linenos">406</span><span class="cp">#define __TEE_PRESENT               1</span>
<span class="linenos">407</span><span class="cp">#define __SPMP_PRESENT              1</span>
<span class="linenos">408</span><span class="cp">#define __SPMP_ENTRY_NUM            CFG_PMP_ENTRY_NUM</span>
<span class="linenos">409</span><span class="cp">#ifdef CFG_HAS_SMPU</span>
<span class="linenos">410</span><span class="cp">#define __SMPU_PRESENT              1</span>
<span class="linenos">411</span><span class="cp">#define __SMPU_ENTRY_NUM            __SPMP_ENTRY_NUM</span>
<span class="linenos">412</span><span class="cp">#endif</span>
<span class="linenos">413</span><span class="cp">#else</span>
<span class="linenos">414</span><span class="cp">#define __TEE_PRESENT               0</span>
<span class="linenos">415</span><span class="cp">#define __SPMP_PRESENT              0</span>
<span class="linenos">416</span><span class="cp">#define __SMPU_PRESENT              0</span>
<span class="linenos">417</span><span class="cp">#define __SPMP_ENTRY_NUM            0</span>
<span class="linenos">418</span><span class="cp">#endif</span>
<span class="linenos">419</span>
<span class="linenos">420</span><span class="c1">// ICache Configuration</span>
<span class="linenos">421</span><span class="c1">// To enable ICACHE, just define macro CFG_HAS_ICACHE in cpufeature.h</span>
<span class="linenos">422</span><span class="cp">#ifdef CFG_HAS_ICACHE</span>
<span class="linenos">423</span><span class="cp">#define __ICACHE_PRESENT            1</span>
<span class="linenos">424</span><span class="cp">#else</span>
<span class="linenos">425</span><span class="cp">#define __ICACHE_PRESENT            0</span>
<span class="linenos">426</span><span class="cp">#endif</span>
<span class="linenos">427</span>
<span class="linenos">428</span><span class="c1">// DCache Configuration</span>
<span class="linenos">429</span><span class="c1">// To enable DCACHE, just define macro CFG_HAS_DCACHE in cpufeature.h</span>
<span class="linenos">430</span><span class="cp">#ifdef CFG_HAS_DCACHE</span>
<span class="linenos">431</span><span class="cp">#define __DCACHE_PRESENT            1</span>
<span class="linenos">432</span><span class="cp">#else</span>
<span class="linenos">433</span><span class="cp">#define __DCACHE_PRESENT            0</span>
<span class="linenos">434</span><span class="cp">#endif</span>
<span class="linenos">435</span>
<span class="linenos">436</span><span class="c1">// CCM Configuration</span>
<span class="linenos">437</span><span class="c1">// To enable CCM, just define macro CFG_HAS_IOCC in cpufeature.h</span>
<span class="linenos">438</span><span class="cp">#ifdef CFG_HAS_IOCC</span>
<span class="linenos">439</span><span class="cp">#define __CCM_PRESENT               1</span>
<span class="linenos">440</span><span class="cp">#else</span>
<span class="linenos">441</span><span class="cp">#define __CCM_PRESENT               0</span>
<span class="linenos">442</span><span class="cp">#endif</span>
<span class="linenos">443</span>
<span class="linenos">444</span><span class="c1">// PMA Configuration</span>
<span class="linenos">445</span><span class="c1">// To enable PMA, just define macro CFG_HAS_PMA in cpufeature.h</span>
<span class="linenos">446</span><span class="cp">#ifdef CFG_HAS_PMA</span>
<span class="linenos">447</span><span class="cp">#define __PMA_PRESENT               1</span>
<span class="linenos">448</span><span class="cp">#define __PMA_CSR_NUM               CFG_PMA_CSR_NUM</span>
<span class="linenos">449</span><span class="cp">#define __PMA_SEC_CSR_NUM           CFG_PMA_SEC_CSR_NUM</span>
<span class="linenos">450</span>
<span class="linenos">451</span><span class="cp">#ifdef CFG_HAS_PMA_MACRO</span>
<span class="linenos">452</span><span class="cp">#define __PMA_MACRO_PRESENT         1</span>
<span class="linenos">453</span><span class="cp">#else</span>
<span class="linenos">454</span><span class="cp">#define __PMA_MACRO_PRESENT         0</span>
<span class="linenos">455</span><span class="cp">#endif</span>
<span class="linenos">456</span><span class="cp">#else</span>
<span class="linenos">457</span><span class="cp">#define __PMA_PRESENT               0</span>
<span class="linenos">458</span><span class="cp">#define __PMA_MACRO_PRESENT         0</span>
<span class="linenos">459</span><span class="cp">#endif</span>
<span class="linenos">460</span>
<span class="linenos">461</span><span class="c1">// HPM Configuration</span>
<span class="linenos">462</span><span class="c1">// To enable HPM, just define macro CFG_HAS_HPM in cpufeature.h</span>
<span class="linenos">463</span><span class="cp">#ifdef CFG_HAS_HPM</span>
<span class="linenos">464</span><span class="cp">#define __HPM_PRESENT               1</span>
<span class="linenos">465</span><span class="cp">#define __HPM_VER                   CFG_HPM_VER</span>
<span class="linenos">466</span><span class="cp">#endif</span>
<span class="linenos">467</span>
<span class="linenos">468</span><span class="c1">// SMODE Configuration</span>
<span class="linenos">469</span><span class="c1">// To enable S-Mode, just define macro CFG_HAS_SMODE in cpufeature.h</span>
<span class="linenos">470</span><span class="cp">#ifdef CFG_HAS_SMODE</span>
<span class="linenos">471</span><span class="cp">#define __SMODE_PRESENT             1</span>
<span class="linenos">472</span><span class="cp">#endif</span>
<span class="linenos">473</span>
<span class="linenos">474</span><span class="c1">// NICE Configuration</span>
<span class="linenos">475</span><span class="c1">// To enable NICE, just define macro CFG_HAS_NICE in cpufeature.h</span>
<span class="linenos">476</span><span class="cp">#ifdef CFG_HAS_NICE</span>
<span class="linenos">477</span><span class="cp">#define __NICE_PRESENT              1</span>
<span class="linenos">478</span><span class="cp">#else</span>
<span class="linenos">479</span><span class="cp">#define __NICE_PRESENT              0</span>
<span class="linenos">480</span><span class="cp">#endif</span>
<span class="linenos">481</span>
<span class="linenos">482</span><span class="c1">// VNICE Configuration</span>
<span class="linenos">483</span><span class="c1">// To enable Vector NICE, just define macro CFG_HAS_VNICE in cpufeature.h</span>
<span class="linenos">484</span><span class="cp">#ifdef CFG_HAS_VNICE</span>
<span class="linenos">485</span><span class="cp">#define __VNICE_PRESENT             1</span>
<span class="linenos">486</span><span class="cp">#else</span>
<span class="linenos">487</span><span class="cp">#define __VNICE_PRESENT             0</span>
<span class="linenos">488</span><span class="cp">#endif</span>
<span class="linenos">489</span>
<span class="linenos">490</span><span class="cp">#ifndef __INC_INTRINSIC_API</span>
<span class="linenos">491</span><span class="cp">#define __INC_INTRINSIC_API         0                     </span><span class="cm">/*!&lt; Set to 1 if intrinsic api header files need to be included */</span>
<span class="linenos">492</span><span class="cp">#endif</span>
<span class="linenos">493</span>
<span class="linenos">494</span><span class="cp">#define __Vendor_SysTickConfig      0                     </span><span class="cm">/*!&lt; Set to 1 if different SysTick Config is used */</span>
<span class="linenos">495</span><span class="cp">#define __Vendor_EXCEPTION          0                     </span><span class="cm">/*!&lt; Set to 1 if vendor exception hander is present */</span>
<span class="linenos">496</span>
<span class="linenos">497</span>
<span class="linenos">498</span><span class="cm">/*!&lt; Set this timer hartid if you have only 1 hart in your cpu, and you know the timer hartid, just set it */</span>
<span class="linenos">499</span><span class="c1">//#define __SYSTIMER_HARTID           0</span>
<span class="linenos">500</span>
<span class="linenos">501</span>
<span class="linenos">502</span><span class="cp">#ifndef __HARTID_OFFSET</span>
<span class="linenos">503</span><span class="cm">/**</span>
<span class="linenos">504</span><span class="cm"> * If your hart index is different to your hartid, you must define this __HARTID_OFFSET macro.</span>
<span class="linenos">505</span><span class="cm"> * For example, if your cpu has 4 harts, and hartid start from 3, so the __HARTID_OFFSET should set to 3.</span>
<span class="linenos">506</span><span class="cm"> * Which means hartid 3-6 means hart index 0-3, this is useful for the timer software interrupt and timer interrupt trigger register location</span>
<span class="linenos">507</span><span class="cm"> */</span>
<span class="linenos">508</span><span class="cp">#define __HARTID_OFFSET             0</span>
<span class="linenos">509</span><span class="cp">#endif</span>
<span class="linenos">510</span>
<span class="linenos">511</span><span class="cm">/* Define boot hart id */</span>
<span class="linenos">512</span><span class="cp">#ifndef BOOT_HARTID</span>
<span class="linenos">513</span><span class="cm">/**</span>
<span class="linenos">514</span><span class="cm"> * Choosen boot hart id in current cluster when in soc system, need to align with the value defined in startup_&lt;Device&gt;.S,</span>
<span class="linenos">515</span><span class="cm"> * should start from 0, taken the mhartid bit 0-7 value</span>
<span class="linenos">516</span><span class="cm"> */</span>
<span class="linenos">517</span><span class="cp">#define BOOT_HARTID                 0</span>
<span class="linenos">518</span><span class="cp">#endif</span>
<span class="linenos">519</span>
<span class="linenos">520</span><span class="cm">/** @} */</span><span class="w"> </span><span class="cm">/* End of group Configuration_of_NMSIS */</span>
<span class="linenos">521</span>
<span class="linenos">522</span><span class="c1">// NOTE: Run Mode Control internally used Nuclei</span>
<span class="linenos">523</span><span class="c1">// RUNMODE_* macros are defined in SoC/&lt;Device&gt;/runmode.mk, for internal usage not intend for widely usage</span>
<span class="linenos">524</span><span class="cp">#ifdef RUNMODE_IC_EN</span>
<span class="linenos">525</span><span class="cp">#undef __ICACHE_PRESENT</span>
<span class="linenos">526</span><span class="cp">#define __ICACHE_PRESENT            RUNMODE_IC_EN         </span><span class="cm">/*!&lt; Controlled by macro RUNMODE_IC_EN */</span>
<span class="linenos">527</span><span class="cp">#endif</span>
<span class="linenos">528</span>
<span class="linenos">529</span><span class="cp">#ifdef RUNMODE_DC_EN</span>
<span class="linenos">530</span><span class="cp">#undef __DCACHE_PRESENT</span>
<span class="linenos">531</span><span class="cp">#define __DCACHE_PRESENT            RUNMODE_DC_EN         </span><span class="cm">/*!&lt; Controlled by macro RUNMODE_DC_EN */</span>
<span class="linenos">532</span><span class="cp">#endif</span>
<span class="linenos">533</span>
<span class="linenos">534</span><span class="cp">#ifdef RUNMODE_CCM_EN</span>
<span class="linenos">535</span><span class="cp">#undef __CCM_PRESENT</span>
<span class="linenos">536</span><span class="cp">#define __CCM_PRESENT               RUNMODE_CCM_EN        </span><span class="cm">/*!&lt; Controlled by macro RUNMODE_CCM_EN */</span>
<span class="linenos">537</span><span class="cp">#endif</span>
<span class="linenos">538</span>
<span class="linenos">539</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;nmsis_core.h&gt;</span><span class="c1">                         /*!&lt; Nuclei N/NX class processor and core peripherals */</span>
<span class="linenos">540</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;system_&lt;Device&gt;.h&quot;</span><span class="c1">                     /*!&lt; &lt;Device&gt; System */</span>
<span class="linenos">541</span>
<span class="linenos">542</span><span class="cm">/* ========================================  Start of section using anonymous unions  ======================================== */</span>
<span class="linenos">543</span>
<span class="linenos">544</span><span class="cp">#ifdef &lt;Device&gt;_RTC_FREQ</span>
<span class="linenos">545</span><span class="cp">#define RTC_FREQ                    &lt;Device&gt;_RTC_FREQ</span>
<span class="linenos">546</span><span class="cp">#else</span>
<span class="linenos">547</span><span class="cp">#define RTC_FREQ                    32768</span>
<span class="linenos">548</span><span class="cp">#endif</span>
<span class="linenos">549</span><span class="c1">// The TIMER frequency is just the RTC frequency</span>
<span class="linenos">550</span><span class="cp">#define SOC_TIMER_FREQ              RTC_FREQ</span>
<span class="linenos">551</span>
<span class="linenos">552</span>
<span class="linenos">553</span><span class="cm">/* =========================================================================================================================== */</span>
<span class="linenos">554</span><span class="cm">/* ================                            Device Specific Peripheral Section                             ================ */</span>
<span class="linenos">555</span><span class="cm">/* =========================================================================================================================== */</span>
<span class="linenos">556</span>
<span class="linenos">557</span>
<span class="linenos">558</span><span class="cm">/** @addtogroup Device_Peripheral_peripherals</span>
<span class="linenos">559</span><span class="cm">  * @{</span>
<span class="linenos">560</span><span class="cm">  */</span>
<span class="linenos">561</span>
<span class="linenos">562</span><span class="cm">/****************************************************************************</span>
<span class="linenos">563</span><span class="cm"> * Platform definitions</span>
<span class="linenos">564</span><span class="cm"> *****************************************************************************/</span>
<span class="linenos">565</span><span class="c1">// Interrupt Numbers, will be removed in future, please use SOC_INT_MAX - SOC_EXTERNAL_MAP_TO_ECLIC_IRQn_OFFSET</span>
<span class="linenos">566</span><span class="cp">#define SOC_ECLIC_NUM_INTERRUPTS    (SOC_INT_MAX - SOC_EXTERNAL_MAP_TO_ECLIC_IRQn_OFFSET)</span>
<span class="linenos">567</span>
<span class="linenos">568</span><span class="c1">// Interrupt Handler Definitions</span>
<span class="linenos">569</span><span class="cp">#define SOC_MTIMER_HANDLER          eclic_mtip_handler</span>
<span class="linenos">570</span><span class="cp">#define SOC_SOFTINT_HANDLER         eclic_msip_handler</span>
<span class="linenos">571</span>
<span class="linenos">572</span><span class="cm">/**</span>
<span class="linenos">573</span><span class="cm">  * @brief UART</span>
<span class="linenos">574</span><span class="cm">  */</span>
<span class="linenos">575</span><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">576</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">TXFIFO</span><span class="p">;</span>
<span class="linenos">577</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">RXFIFO</span><span class="p">;</span>
<span class="linenos">578</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">TXCTRL</span><span class="p">;</span>
<span class="linenos">579</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">RXCTRL</span><span class="p">;</span>
<span class="linenos">580</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">IE</span><span class="p">;</span>
<span class="linenos">581</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">IP</span><span class="p">;</span>
<span class="linenos">582</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">DIV</span><span class="p">;</span>
<span class="linenos">583</span><span class="p">}</span><span class="w"> </span><span class="n">UART_TypeDef</span><span class="p">;</span>
<span class="linenos">584</span>
<span class="linenos">585</span><span class="cm">/**</span>
<span class="linenos">586</span><span class="cm">  * @brief QSPI</span>
<span class="linenos">587</span><span class="cm">  */</span>
<span class="linenos">588</span><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">589</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">SCKDIV</span><span class="p">;</span>
<span class="linenos">590</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">SCKMODE</span><span class="p">;</span>
<span class="linenos">591</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">RESERVED0</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="linenos">592</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">FORCE</span><span class="p">;</span>
<span class="linenos">593</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">CSID</span><span class="p">;</span>
<span class="linenos">594</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">CSDEF</span><span class="p">;</span>
<span class="linenos">595</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">CSMODE</span><span class="p">;</span>
<span class="linenos">596</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">VERSION</span><span class="p">;</span>
<span class="linenos">597</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">RESERVED1</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="linenos">598</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">DELAY0</span><span class="p">;</span>
<span class="linenos">599</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">DELAY1</span><span class="p">;</span>
<span class="linenos">600</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">RESERVED2</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="linenos">601</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">FMT</span><span class="p">;</span>
<span class="linenos">602</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">RESERVED3</span><span class="p">;</span>
<span class="linenos">603</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">TXDATA</span><span class="p">;</span>
<span class="linenos">604</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">RXDATA</span><span class="p">;</span>
<span class="linenos">605</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">TXMARK</span><span class="p">;</span>
<span class="linenos">606</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">RXMARK</span><span class="p">;</span>
<span class="linenos">607</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">RESERVED4</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="linenos">608</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">FCTRL</span><span class="p">;</span>
<span class="linenos">609</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">FFMT</span><span class="p">;</span>
<span class="linenos">610</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">RESERVED5</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="linenos">611</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">IE</span><span class="p">;</span>
<span class="linenos">612</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">IP</span><span class="p">;</span>
<span class="linenos">613</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">FFMT1</span><span class="p">;</span>
<span class="linenos">614</span><span class="w">    </span><span class="n">__IOM</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">STATUS</span><span class="p">;</span>
<span class="linenos">615</span><span class="p">}</span><span class="w"> </span><span class="n">QSPI_TypeDef</span><span class="p">;</span>
<span class="linenos">616</span>
<span class="linenos">617</span><span class="cm">/*@}*/</span><span class="w"> </span><span class="cm">/* end of group &lt;Device&gt;_Peripherals */</span>
<span class="linenos">618</span>
<span class="linenos">619</span>
<span class="linenos">620</span><span class="cm">/* =========================================  End of section using anonymous unions  ========================================= */</span>
<span class="linenos">621</span>
<span class="linenos">622</span><span class="cm">/* Macros for memory access operations */</span>
<span class="linenos">623</span><span class="cp">#define _REG8P(p, i)                        ((volatile uint8_t *) ((uintptr_t)((p) + (i))))</span>
<span class="linenos">624</span><span class="cp">#define _REG16P(p, i)                       ((volatile uint16_t *) ((uintptr_t)((p) + (i))))</span>
<span class="linenos">625</span><span class="cp">#define _REG32P(p, i)                       ((volatile uint32_t *) ((uintptr_t)((p) + (i))))</span>
<span class="linenos">626</span><span class="cp">#define _REG64P(p, i)                       ((volatile uint64_t *) ((uintptr_t)((p) + (i))))</span>
<span class="linenos">627</span><span class="cp">#define _REG8(p, i)                         (*(_REG8P(p, i)))</span>
<span class="linenos">628</span><span class="cp">#define _REG16(p, i)                        (*(_REG16P(p, i)))</span>
<span class="linenos">629</span><span class="cp">#define _REG32(p, i)                        (*(_REG32P(p, i)))</span>
<span class="linenos">630</span><span class="cp">#define _REG64(p, i)                        (*(_REG64P(p, i)))</span>
<span class="linenos">631</span><span class="cp">#define REG8(addr)                          _REG8((addr), 0)</span>
<span class="linenos">632</span><span class="cp">#define REG16(addr)                         _REG16((addr), 0)</span>
<span class="linenos">633</span><span class="cp">#define REG32(addr)                         _REG32((addr), 0)</span>
<span class="linenos">634</span><span class="cp">#define REG64(addr)                         _REG64((addr), 0)</span>
<span class="linenos">635</span>
<span class="linenos">636</span><span class="cm">/* Macros for address type convert and access operations */</span>
<span class="linenos">637</span><span class="cp">#define ADDR16(addr)                        ((uint16_t)(uintptr_t)(addr))</span>
<span class="linenos">638</span><span class="cp">#define ADDR32(addr)                        ((uint32_t)(uintptr_t)(addr))</span>
<span class="linenos">639</span><span class="cp">#define ADDR64(addr)                        ((uint64_t)(uintptr_t)(addr))</span>
<span class="linenos">640</span><span class="cp">#define ADDR8P(addr)                        ((uint8_t *)(uintptr_t)(addr))</span>
<span class="linenos">641</span><span class="cp">#define ADDR16P(addr)                       ((uint16_t *)(uintptr_t)(addr))</span>
<span class="linenos">642</span><span class="cp">#define ADDR32P(addr)                       ((uint32_t *)(uintptr_t)(addr))</span>
<span class="linenos">643</span><span class="cp">#define ADDR64P(addr)                       ((uint64_t *)(uintptr_t)(addr))</span>
<span class="linenos">644</span>
<span class="linenos">645</span><span class="cm">/* Macros for Bit Operations */</span>
<span class="linenos">646</span><span class="cp">#if __riscv_xlen == 32</span>
<span class="linenos">647</span><span class="cp">#define BITMASK_MAX                         0xFFFFFFFFUL</span>
<span class="linenos">648</span><span class="cp">#define BITOFS_MAX                          31</span>
<span class="linenos">649</span><span class="cp">#else</span>
<span class="linenos">650</span><span class="cp">#define BITMASK_MAX                         0xFFFFFFFFFFFFFFFFULL</span>
<span class="linenos">651</span><span class="cp">#define BITOFS_MAX                          63</span>
<span class="linenos">652</span><span class="cp">#endif</span>
<span class="linenos">653</span>
<span class="linenos">654</span><span class="c1">// BIT/BITS only support bit mask for __riscv_xlen</span>
<span class="linenos">655</span><span class="c1">// For RISC-V 32 bit, it support mask 32 bit wide</span>
<span class="linenos">656</span><span class="c1">// For RISC-V 64 bit, it support mask 64 bit wide</span>
<span class="linenos">657</span><span class="cp">#define BIT(ofs)                            (0x1UL &lt;&lt; (ofs))</span>
<span class="linenos">658</span><span class="cp">#define BITS(start, end)                    ((BITMASK_MAX) &lt;&lt; (start) &amp; (BITMASK_MAX) &gt;&gt; (BITOFS_MAX - (end)))</span>
<span class="linenos">659</span><span class="cp">#define GET_BIT(regval, bitofs)             (((regval) &gt;&gt; (bitofs)) &amp; 0x1)</span>
<span class="linenos">660</span><span class="cp">#define SET_BIT(regval, bitofs)             ((regval) |= BIT(bitofs))</span>
<span class="linenos">661</span><span class="cp">#define CLR_BIT(regval, bitofs)             ((regval) &amp;= (~BIT(bitofs)))</span>
<span class="linenos">662</span><span class="cp">#define FLIP_BIT(regval, bitofs)            ((regval) ^= BIT(bitofs))</span>
<span class="linenos">663</span><span class="cp">#define WRITE_BIT(regval, bitofs, val)      CLR_BIT(regval, bitofs); ((regval) |= ((val) &lt;&lt; bitofs) &amp; BIT(bitofs))</span>
<span class="linenos">664</span><span class="cp">#define CHECK_BIT(regval, bitofs)           (!!((regval) &amp; (0x1UL&lt;&lt;(bitofs))))</span>
<span class="linenos">665</span><span class="cp">#define GET_BITS(regval, start, end)        (((regval) &amp; BITS((start), (end))) &gt;&gt; (start))</span>
<span class="linenos">666</span><span class="cp">#define SET_BITS(regval, start, end)        ((regval) |= BITS((start), (end)))</span>
<span class="linenos">667</span><span class="cp">#define CLR_BITS(regval, start, end)        ((regval) &amp;= (~BITS((start), (end))))</span>
<span class="linenos">668</span><span class="cp">#define FLIP_BITS(regval, start, end)       ((regval) ^= BITS((start), (end)))</span>
<span class="linenos">669</span><span class="cp">#define WRITE_BITS(regval, start, end, val) CLR_BITS(regval, start, end); ((regval) |= ((val) &lt;&lt; start) &amp; BITS((start), (end)))</span>
<span class="linenos">670</span><span class="cp">#define CHECK_BITS_ALL(regval, start, end)  (!((~(regval)) &amp; BITS((start), (end))))</span>
<span class="linenos">671</span><span class="cp">#define CHECK_BITS_ANY(regval, start, end)  ((regval) &amp; BITS((start), (end)))</span>
<span class="linenos">672</span>
<span class="linenos">673</span><span class="cp">#define BITMASK_SET(regval, mask)           ((regval) |= (mask))</span>
<span class="linenos">674</span><span class="cp">#define BITMASK_CLR(regval, mask)           ((regval) &amp;= (~(mask)))</span>
<span class="linenos">675</span><span class="cp">#define BITMASK_FLIP(regval, mask)          ((regval) ^= (mask))</span>
<span class="linenos">676</span><span class="cp">#define BITMASK_CHECK_ALL(regval, mask)     (!((~(regval)) &amp; (mask)))</span>
<span class="linenos">677</span><span class="cp">#define BITMASK_CHECK_ANY(regval, mask)     ((regval) &amp; (mask))</span>
<span class="linenos">678</span>
<span class="linenos">679</span><span class="cm">/* =========================================================================================================================== */</span>
<span class="linenos">680</span><span class="cm">/* ================                          Device Specific Peripheral Address Map                           ================ */</span>
<span class="linenos">681</span><span class="cm">/* =========================================================================================================================== */</span>
<span class="linenos">682</span>
<span class="linenos">683</span><span class="cm">/* ToDo: add here your device peripherals base addresses</span>
<span class="linenos">684</span><span class="cm">         following is an example for timer */</span>
<span class="linenos">685</span><span class="cm">/** @addtogroup Device_Peripheral_peripheralAddr</span>
<span class="linenos">686</span><span class="cm">  * @{</span>
<span class="linenos">687</span><span class="cm">  */</span>
<span class="linenos">688</span><span class="cm">/* ILM/DLM/FLASHXIP and Peripheral base address */</span>
<span class="linenos">689</span><span class="cp">#ifndef &lt;Device&gt;_FLASH_XIP_BASE</span>
<span class="linenos">690</span><span class="cp">#define QSPI_FLASH_BASE         (0x20000000UL)                </span><span class="cm">/*!&lt; (FLASH     ) Base Address */</span>
<span class="linenos">691</span><span class="cp">#else</span>
<span class="linenos">692</span><span class="cp">#define QSPI_FLASH_BASE         (&lt;Device&gt;_FLASH_XIP_BASE)      </span><span class="cm">/*!&lt; (FLASH     ) Base Address */</span>
<span class="linenos">693</span><span class="cp">#endif</span>
<span class="linenos">694</span>
<span class="linenos">695</span><span class="cp">#ifndef CFG_ILM_BASE_ADDR</span>
<span class="linenos">696</span><span class="cp">#define ONCHIP_ILM_BASE         (0x80000000UL)                </span><span class="cm">/*!&lt; (ILM       ) Base Address */</span>
<span class="linenos">697</span><span class="cp">#else</span>
<span class="linenos">698</span><span class="cp">#define ONCHIP_ILM_BASE         (CFG_ILM_BASE_ADDR)           </span><span class="cm">/*!&lt; (ILM       ) Base Address */</span>
<span class="linenos">699</span><span class="cp">#endif</span>
<span class="linenos">700</span>
<span class="linenos">701</span><span class="cp">#ifndef CFG_DLM_BASE_ADDR</span>
<span class="linenos">702</span><span class="cp">#define ONCHIP_DLM_BASE         (0x90000000UL)                </span><span class="cm">/*!&lt; (DLM       ) Base Address */</span>
<span class="linenos">703</span><span class="cp">#else</span>
<span class="linenos">704</span><span class="cp">#define ONCHIP_DLM_BASE         (CFG_DLM_BASE_ADDR)           </span><span class="cm">/*!&lt; (DLM       ) Base Address */</span>
<span class="linenos">705</span><span class="cp">#endif</span>
<span class="linenos">706</span>
<span class="linenos">707</span><span class="cp">#ifndef &lt;Device&gt;_SYSMEM_BASE</span>
<span class="linenos">708</span><span class="cp">#define ONCHIP_SRAM_BASE         (0xA0000000UL)                </span><span class="cm">/*!&lt; (SRAM       ) Base Address */</span>
<span class="linenos">709</span><span class="cp">#else</span>
<span class="linenos">710</span><span class="cp">#define ONCHIP_SRAM_BASE         (&lt;Device&gt;_SYSMEM_BASE)          </span><span class="cm">/*!&lt; (SRAM       ) Base Address */</span>
<span class="linenos">711</span><span class="cp">#endif</span>
<span class="linenos">712</span>
<span class="linenos">713</span><span class="cp">#ifndef &lt;Device&gt;_PERIPS_BASE</span>
<span class="linenos">714</span><span class="cp">#define &lt;Device&gt;_PERIPH_BASE     (0x10000000UL)                </span><span class="cm">/*!&lt; (Peripheral) Base Address */</span>
<span class="linenos">715</span><span class="cp">#else</span>
<span class="linenos">716</span><span class="cp">#define &lt;Device&gt;_PERIPH_BASE     (&lt;Device&gt;_PERIPS_BASE)         </span><span class="cm">/*!&lt; (Peripheral) Base Address */</span>
<span class="linenos">717</span><span class="cp">#endif</span>
<span class="linenos">718</span>
<span class="linenos">719</span><span class="cm">/* Peripheral memory map */</span>
<span class="linenos">720</span><span class="cp">#define UART0_BASE              (&lt;Device&gt;_PERIPH_BASE + 0x13000)          </span><span class="cm">/*!&lt; (UART0) Base Address */</span>
<span class="linenos">721</span><span class="cp">#define QSPI0_BASE              (&lt;Device&gt;_PERIPH_BASE + 0x14000)          </span><span class="cm">/*!&lt; (QSPI0) Base Address */</span>
<span class="linenos">722</span><span class="cp">#define UART1_BASE              (&lt;Device&gt;_PERIPH_BASE + 0x23000)          </span><span class="cm">/*!&lt; (UART1) Base Address */</span>
<span class="linenos">723</span><span class="cp">#define QSPI1_BASE              (&lt;Device&gt;_PERIPH_BASE + 0x24000)          </span><span class="cm">/*!&lt; (QSPI1) Base Address */</span>
<span class="linenos">724</span><span class="cp">#define QSPI2_BASE              (&lt;Device&gt;_PERIPH_BASE + 0x34000)          </span><span class="cm">/*!&lt; (QSPI2) Base Address */</span>
<span class="linenos">725</span>
<span class="linenos">726</span><span class="cm">/** @} */</span><span class="w"> </span><span class="cm">/* End of group Device_Peripheral_peripheralAddr */</span>
<span class="linenos">727</span>
<span class="linenos">728</span>
<span class="linenos">729</span><span class="cm">/* =========================================================================================================================== */</span>
<span class="linenos">730</span><span class="cm">/* ================                                  Peripheral declaration                                   ================ */</span>
<span class="linenos">731</span><span class="cm">/* =========================================================================================================================== */</span>
<span class="linenos">732</span>
<span class="linenos">733</span>
<span class="linenos">734</span><span class="cm">/* ToDo: add here your device peripherals pointer definitions</span>
<span class="linenos">735</span><span class="cm">         following is an example for timer */</span>
<span class="linenos">736</span><span class="cm">/** @addtogroup Device_Peripheral_declaration</span>
<span class="linenos">737</span><span class="cm">  * @{</span>
<span class="linenos">738</span><span class="cm">  */</span>
<span class="linenos">739</span><span class="cp">#define UART0                   ((UART_TypeDef *) UART0_BASE)</span>
<span class="linenos">740</span><span class="cp">#define QSPI0                   ((QSPI_TypeDef *) QSPI0_BASE)</span>
<span class="linenos">741</span><span class="cp">#define UART1                   ((UART_TypeDef *) UART1_BASE)</span>
<span class="linenos">742</span><span class="cp">#define QSPI1                   ((QSPI_TypeDef *) QSPI1_BASE)</span>
<span class="linenos">743</span><span class="cp">#define QSPI2                   ((QSPI_TypeDef *) QSPI2_BASE)</span>
<span class="linenos">744</span>
<span class="linenos">745</span><span class="cp">#define SPI0_REG(offset)        _REG32(QSPI0_BASE, offset)</span>
<span class="linenos">746</span><span class="cp">#define SPI1_REG(offset)        _REG32(QSPI1_BASE, offset)</span>
<span class="linenos">747</span><span class="cp">#define SPI2_REG(offset)        _REG32(QSPI2_BASE, offset)</span>
<span class="linenos">748</span><span class="cp">#define UART0_REG(offset)       _REG32(UART0_BASE, offset)</span>
<span class="linenos">749</span><span class="cp">#define UART1_REG(offset)       _REG32(UART1_BASE, offset)</span>
<span class="linenos">750</span>
<span class="linenos">751</span><span class="c1">// Misc</span>
<span class="linenos">752</span>
<span class="linenos">753</span><span class="c1">// Only used by Nuclei Internally, please dont use it</span>
<span class="linenos">754</span><span class="cp">#define SIMULATION_EXIT(ret)    { __WMB(); UART0-&gt;RXFIFO = (ret);       \</span>
<span class="linenos">755</span><span class="cp">                                    while (UART0-&gt;TXFIFO &amp; (1&lt;&lt;31));    \</span>
<span class="linenos">756</span><span class="cp">                                    UART0-&gt;TXFIFO = 4; }</span>
<span class="linenos">757</span>
<span class="linenos">758</span><span class="k">extern</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="nf">get_cpu_freq</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="linenos">759</span><span class="k">extern</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">delay_1ms</span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">count</span><span class="p">);</span>
<span class="linenos">760</span>
<span class="linenos">761</span><span class="cm">/** @} */</span><span class="w"> </span><span class="cm">/* End of group &lt;Device&gt; */</span>
<span class="linenos">762</span>
<span class="linenos">763</span><span class="cm">/** @} */</span><span class="w"> </span><span class="cm">/* End of group Nuclei */</span>
<span class="linenos">764</span>
<span class="linenos">765</span><span class="cp">#ifdef __cplusplus</span>
<span class="linenos">766</span><span class="p">}</span>
<span class="linenos">767</span><span class="cp">#endif</span>
<span class="linenos">768</span>
<span class="linenos">769</span><span class="cp">#endif  </span><span class="cm">/* __&lt;Device&gt;_H__ */</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="core_template_system_device.html" class="btn btn-neutral float-left" title="System Configuration Files system_&lt;Device&gt;.c and system_&lt;Device&gt;.h" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="register_mapping.html" class="btn btn-neutral float-right" title="Register Mapping" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-Present, Nuclei.
      <span class="lastupdated">Last updated on May 21, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>