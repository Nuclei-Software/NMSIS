

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Nuclei Customized DSP Instructions &mdash; NMSIS 1.0.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Peripheral Access" href="../core_periph_access.html" />
    <link rel="prev" title="32-bit Packing Instructions" href="nmsis_core_dsp_intrinsic_rv64_only/api_nmsis_core_dsp_intrinsic_rv64_32b_pack.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html">
          

          
            
            <img src="../../../_static/nmsis_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/introduction.html">Nuclei MCU Software Interface Standard(NMSIS)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">NMSIS Core</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../get_started.html">Using NMSIS in Embedded Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../core_templates.html">NMSIS-Core Device Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../register_mapping.html">Register Mapping</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">NMSIS Core API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../core_version_control.html">Version Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core_compiler_control.html">Compiler Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core_csr_access.html">Core CSR Register Access</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core_csr_encoding.html">Core CSR Encoding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core_register_type.html">Register Define and Type Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core_intrinsics.html">CPU Intrinsic Functions</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../api_nmsis_core_dsp_intrinsic.html">Intrinsic Functions for SIMD Instructions</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="api_nmsis_core_dsp_intrinsic_simd_data_process.html">SIMD Data Processing Instructions</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_nmsis_core_dsp_intrinsic_non_simd.html">Non-SIMD Instructions</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_nmsis_core_dsp_intrinsic_part_simd_data_process.html">Partial-SIMD Data Processing Instructions</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_nmsis_core_dsp_intrinsic_64b_profile.html">64-bit Profile Instructions</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_nmsis_core_dsp_intrinsic_rv64_only.html">RV64 Only Instructions</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Nuclei Customized DSP Instructions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../core_periph_access.html">Peripheral Access</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core_systick.html">Systick Timer(SysTimer)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core_interrupt_exception.html">Interrupts and Exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core_fpu.html">FPU Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core_pmp.html">PMP Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core_cache.html">Cache Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core_system_device.html">System Device Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core_arm_compatiable.html">ARM Compatiable Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../dsp/index.html">NMSIS DSP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nn/index.html">NMSIS NN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../appendix.html">Appendix</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">NMSIS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">NMSIS Core</a> &raquo;</li>
        
          <li><a href="../index.html">NMSIS Core API</a> &raquo;</li>
        
          <li><a href="../api_nmsis_core_dsp_intrinsic.html">Intrinsic Functions for SIMD Instructions</a> &raquo;</li>
        
      <li>Nuclei Customized DSP Instructions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/core/api/nmsis_core_dsp_intrinsic/api_nmsis_core_dsp_intrinsic_nuclei_custom.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="nuclei-customized-dsp-instructions">
<span id="nmsis-core-api-nuclei-customized-dsp-instructions"></span><h1>Nuclei Customized DSP Instructions<a class="headerlink" href="#nuclei-customized-dsp-instructions" title="Permalink to this headline">Â¶</a></h1>
<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1ga036660946bc3f379a731983caffca53b"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long long __RV_DKHM8(unsigned long long a, unsigned long long b)</code></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1gae39257eb12a014d3059394217135b9fb"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long long __RV_DKHM16(unsigned long long a, unsigned long long b)</code></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1ga7279c1730c173384063a9bef9c986010"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long long __RV_DKABS8(unsigned long long a)</code></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1ga7d5691b06128c42939278415561c2dc4"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long long __RV_DKABS16(unsigned long long a)</code></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1ga0f7b1184bde378bc5ae6e23f155ecb89"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long long __RV_DKSLRA8(unsigned long long a, int b)</code></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1ga1b02a9f2e52abd456bfdadc1dac9e188"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long long __RV_DKSLRA16(unsigned long long a, int b)</code></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1ga7f2598c19678a959960b6c6d3379e465"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long long __RV_DKADD8(unsigned long long a, unsigned long long b)</code></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1gaeb50cbc43674d8dd32e7455b6c25b394"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long long __RV_DKADD16(unsigned long long a, unsigned long long b)</code></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1ga5dbe06f7b351ff1477851894d6d0c927"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long long __RV_DKSUB8(unsigned long long a, unsigned long long b)</code></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1gaa5dfb634a380181e51e0636cb216fbb1"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long long __RV_DKSUB16(unsigned long long a, unsigned long long b)</code></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1ga1bdbaa4714d2052c162a076e676f4ea4"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long __RV_EXPD80(unsigned long a)</code></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1gad690c697580b52820282c03d6a6567c5"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long __RV_EXPD81(unsigned long a)</code></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1gafc4a523cfa64150d691bdc5d7d038810"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long __RV_EXPD82(unsigned long a)</code></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1ga6d8dce49013b778d0290cd057cf45dd0"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long __RV_EXPD83(unsigned long a)</code></dt>
<dd></dd></dl>

<dl class="group">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM"></span><em>group</em> <code class="sig-name descname">NMSIS_Core_DSP_Intrinsic_NUCLEI_CUSTOM</code></dt>
<dd><p>(RV32 only)Nuclei Customized DSP Instructions </p>
<p>This is Nuclei customized DSP instructions only for RV32 </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Functions</p>
<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1ga036660946bc3f379a731983caffca53b"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long long __RV_DKHM8(unsigned long long a, unsigned long long b)</code></dt>
<dd><p>DKHM8 (64-bit SIMD Signed Saturating Q7 Multiply) </p>
<p><strong>Type</strong>: SIMD</p>
<p><strong>Syntax</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DKHM8</span> <span class="n">Rd</span><span class="p">,</span> <span class="n">Rs1</span><span class="p">,</span> <span class="n">Rs2</span>
<span class="c1"># Rd, Rs1, Rs2 are all even/odd pair of registers</span>
</pre></div>
</div>
</p>
<p><strong>Purpose</strong>:<p>Do Q7xQ7 element multiplications simultaneously. The Q14 results are then reduced to Q7 numbers again.</p>
</p>
<p><strong>Description</strong>:<p>For the </p>
<code class="docutils literal notranslate"><span class="pre">DKHM8</span></code> instruction, multiply the top 8-bit Q7 content of 16-bit chunks in Rs1 with the top 8-bit Q7 content of 16-bit chunks in Rs2. At the same time, multiply the bottom 8-bit Q7 content of 16-bit chunks in Rs1 with the bottom 8-bit Q7 content of 16-bit chunks in Rs2.</p>
<p>The Q14 results are then right-shifted 7-bits and saturated into Q7 values. The Q7 results are then written into Rd. When both the two Q7 inputs of a multiplication are 0x80, saturation will happen. The result will be saturated to 0x7F and the overflow flag OV will be set.</p>
<p><strong>Operations</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">op1t</span> <span class="o">=</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span> <span class="n">op2t</span> <span class="o">=</span> <span class="n">Rs2</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span> <span class="o">//</span> <span class="n">top</span>
<span class="n">op1b</span> <span class="o">=</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="n">x</span><span class="p">];</span> <span class="n">op2b</span> <span class="o">=</span> <span class="n">Rs2</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="n">x</span><span class="p">];</span> <span class="o">//</span> <span class="n">bottom</span>
<span class="k">for</span> <span class="p">((</span><span class="n">aop</span><span class="p">,</span><span class="n">bop</span><span class="p">,</span><span class="n">res</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[(</span><span class="n">op1t</span><span class="p">,</span><span class="n">op2t</span><span class="p">,</span><span class="n">rest</span><span class="p">),</span> <span class="p">(</span><span class="n">op1b</span><span class="p">,</span><span class="n">op2b</span><span class="p">,</span><span class="n">resb</span><span class="p">)])</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="mh">0x80</span> <span class="o">!=</span> <span class="n">aop</span> <span class="o">|</span> <span class="mh">0x80</span> <span class="o">!=</span> <span class="n">bop</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">res</span> <span class="o">=</span> <span class="p">(</span><span class="n">aop</span> <span class="n">s</span><span class="o">*</span> <span class="n">bop</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">7</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">res</span><span class="o">=</span> <span class="mh">0x7F</span><span class="p">;</span>
    <span class="n">OV</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">Rd</span><span class="o">.</span><span class="n">H</span><span class="p">[</span><span class="n">x</span><span class="o">/</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">concat</span><span class="p">(</span><span class="n">rest</span><span class="p">,</span> <span class="n">resb</span><span class="p">);</span>
<span class="k">for</span> <span class="n">RV32</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span>
</pre></div>
</div>
</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>value stored in unsigned long long type </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">a</span></code>: unsigned long long type of value stored in a </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">b</span></code>: unsigned long long type of value stored in b </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1gae39257eb12a014d3059394217135b9fb"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long long __RV_DKHM16(unsigned long long a, unsigned long long b)</code></dt>
<dd><p>DKHM16 (64-bit SIMD Signed Saturating Q15 Multiply) </p>
<p><strong>Type</strong>: SIMD</p>
<p><strong>Syntax</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DKHM16</span> <span class="n">Rd</span><span class="p">,</span> <span class="n">Rs1</span><span class="p">,</span> <span class="n">Rs2</span>
<span class="c1"># Rd, Rs1, Rs2 are all even/odd pair of registers</span>
</pre></div>
</div>
</p>
<p><strong>Purpose</strong>:<p>Do Q15xQ15 element multiplications simultaneously. The Q30 results are then reduced to Q15 numbers again.</p>
</p>
<p><strong>Description</strong>:<p>For the </p>
<code class="docutils literal notranslate"><span class="pre">DKHM16</span></code> instruction, multiply the top 16-bit Q15 content of 32-bit chunks in Rs1 with the top 16-bit Q15 content of 32-bit chunks in Rs2. At the same time, multiply the bottom 16-bit Q15 content of 32-bit chunks in Rs1 with the bottom 16-bit Q15 content of 32-bit chunks in Rs2.</p>
<p>The Q30 results are then right-shifted 15-bits and saturated into Q15 values. The Q15 results are then written into Rd. When both the two Q15 inputs of a multiplication are 0x8000, saturation will happen. The result will be saturated to 0x7FFF and the overflow flag OV will be set.</p>
<p><strong>Operations</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">op1t</span> <span class="o">=</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">H</span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span> <span class="n">op2t</span> <span class="o">=</span> <span class="n">Rs2</span><span class="o">.</span><span class="n">H</span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span> <span class="o">//</span> <span class="n">top</span>
<span class="n">op1b</span> <span class="o">=</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">H</span><span class="p">[</span><span class="n">x</span><span class="p">];</span> <span class="n">op2b</span> <span class="o">=</span> <span class="n">Rs2</span><span class="o">.</span><span class="n">H</span><span class="p">[</span><span class="n">x</span><span class="p">];</span> <span class="o">//</span> <span class="n">bottom</span>
<span class="k">for</span> <span class="p">((</span><span class="n">aop</span><span class="p">,</span><span class="n">bop</span><span class="p">,</span><span class="n">res</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[(</span><span class="n">op1t</span><span class="p">,</span><span class="n">op2t</span><span class="p">,</span><span class="n">rest</span><span class="p">),</span> <span class="p">(</span><span class="n">op1b</span><span class="p">,</span><span class="n">op2b</span><span class="p">,</span><span class="n">resb</span><span class="p">)])</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="mh">0x8000</span> <span class="o">!=</span> <span class="n">aop</span> <span class="o">|</span> <span class="mh">0x8000</span> <span class="o">!=</span> <span class="n">bop</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">res</span> <span class="o">=</span> <span class="p">(</span><span class="n">aop</span> <span class="n">s</span><span class="o">*</span> <span class="n">bop</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">15</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">res</span><span class="o">=</span> <span class="mh">0x7FFF</span><span class="p">;</span>
    <span class="n">OV</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">Rd</span><span class="o">.</span><span class="n">W</span><span class="p">[</span><span class="n">x</span><span class="o">/</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">concat</span><span class="p">(</span><span class="n">rest</span><span class="p">,</span> <span class="n">resb</span><span class="p">);</span>
<span class="k">for</span> <span class="n">RV32</span><span class="p">:</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span>
</pre></div>
</div>
</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>value stored in unsigned long long type </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">a</span></code>: unsigned long long type of value stored in a </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">b</span></code>: unsigned long long type of value stored in b </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1ga7279c1730c173384063a9bef9c986010"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long long __RV_DKABS8(unsigned long long a)</code></dt>
<dd><p>DKABS8 (64-bit SIMD 8-bit Saturating Absolute) </p>
<p><strong>Type</strong>: SIMD</p>
<p><strong>Syntax</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DKABS8</span> <span class="n">Rd</span><span class="p">,</span> <span class="n">Rs1</span>
<span class="c1"># Rd, Rs1 are all even/odd pair of registers</span>
</pre></div>
</div>
</p>
<p><strong>Purpose</strong>:<p>Get the absolute value of 8-bit signed integer elements simultaneously.</p>
</p>
<p><strong>Description</strong>:<p>This instruction calculates the absolute value of 8-bit signed integer elements stored in Rs1 and writes the element results to Rd. If the input number is 0x80, this instruction generates 0x7f as the output and sets the OV bit to 1.</p>
</p>
<p><strong>Operations</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">src</span> <span class="o">=</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="n">x</span><span class="p">];</span>
<span class="k">if</span> <span class="p">(</span><span class="n">src</span> <span class="o">==</span> <span class="mh">0x80</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">src</span> <span class="o">=</span> <span class="mh">0x7f</span><span class="p">;</span>
  <span class="n">OV</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">src</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
  <span class="n">src</span> <span class="o">=</span> <span class="o">-</span><span class="n">src</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">Rd</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">src</span><span class="p">;</span>
<span class="k">for</span> <span class="n">RV32</span><span class="p">:</span> <span class="n">x</span><span class="o">=</span><span class="mf">7.</span><span class="o">..</span><span class="mi">0</span><span class="p">,</span>
</pre></div>
</div>
</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>value stored in unsigned long long type </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">a</span></code>: unsigned long long type of value stored in a </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1ga7d5691b06128c42939278415561c2dc4"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long long __RV_DKABS16(unsigned long long a)</code></dt>
<dd><p>DKABS16 (64-bit SIMD 16-bit Saturating Absolute) </p>
<p><strong>Type</strong>: SIMD</p>
<p><strong>Syntax</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DKABS16</span> <span class="n">Rd</span><span class="p">,</span> <span class="n">Rs1</span>
<span class="c1"># Rd, Rs1 are all even/odd pair of registers</span>
</pre></div>
</div>
</p>
<p><strong>Purpose</strong>:<p>Get the absolute value of 16-bit signed integer elements simultaneously.</p>
</p>
<p><strong>Description</strong>:<p>This instruction calculates the absolute value of 16-bit signed integer elements stored in Rs1 and writes the element results to Rd. If the input number is 0x8000, this instruction generates 0x7fff as the output and sets the OV bit to 1.</p>
</p>
<p><strong>Operations</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">src</span> <span class="o">=</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">H</span><span class="p">[</span><span class="n">x</span><span class="p">];</span>
<span class="k">if</span> <span class="p">(</span><span class="n">src</span> <span class="o">==</span> <span class="mh">0x8000</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">src</span> <span class="o">=</span> <span class="mh">0x7fff</span><span class="p">;</span>
  <span class="n">OV</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">src</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
  <span class="n">src</span> <span class="o">=</span> <span class="o">-</span><span class="n">src</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">Rd</span><span class="o">.</span><span class="n">H</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">src</span><span class="p">;</span>
<span class="k">for</span> <span class="n">RV32</span><span class="p">:</span> <span class="n">x</span><span class="o">=</span><span class="mf">3.</span><span class="o">..</span><span class="mi">0</span><span class="p">,</span>
</pre></div>
</div>
</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>value stored in unsigned long long type </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">a</span></code>: unsigned long long type of value stored in a </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1ga0f7b1184bde378bc5ae6e23f155ecb89"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long long __RV_DKSLRA8(unsigned long long a, int b)</code></dt>
<dd><p>DKSLRA8 (64-bit SIMD 8-bit Shift Left Logical with Saturation or Shift Right Arithmetic) </p>
<p><strong>Type</strong>: SIMD</p>
<p><strong>Syntax</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DKSLRA8</span> <span class="n">Rd</span><span class="p">,</span> <span class="n">Rs1</span><span class="p">,</span> <span class="n">Rs2</span>
<span class="c1"># Rd, Rs1 are all even/odd pair of registers</span>
</pre></div>
</div>
</p>
<p><strong>Purpose</strong>:<p>Do 8-bit elements logical left (positive) or arithmetic right (negative) shift operation with Q7 saturation for the left shift.</p>
</p>
<p><strong>Description</strong>:<p>The 8-bit data elements of Rs1 are left-shifted logically or right-shifted arithmetically based on the value of Rs2[3:0]. Rs2[3:0] is in the signed range of [-2^3, 2^3-1]. A positive Rs2[3:0] means logical left shift and a negative Rs2[3:0] means arithmetic right shift. The shift amount is the absolute value of Rs2[3:0]. However, the behavior of </p>
<code class="docutils literal notranslate"><span class="pre">Rs2[3:0]==-2^3</span> <span class="pre">(0x8)</span></code> is defined to be equivalent to the behavior of <code class="docutils literal notranslate"><span class="pre">Rs2[3:0]==-(2^3-1)</span> <span class="pre">(0x9)</span></code>. The left-shifted results are saturated to the 8-bit signed integer range of [-2^7, 2^7-1]. If any saturation happens, this instruction sets the OV flag. The value of Rs2[31:4] will not affect this instruction.</p>
<p><strong>Operations</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>if (Rs2[3:0] &lt; 0) {
  sa = -Rs2[3:0];
  sa = (sa == 8)? 7 : sa;
  Rd.B[x] = SE8(Rs1.B[x][7:sa]);
} else {
  sa = Rs2[2:0];
  res[(7+sa):0] = Rs1.B[x] &lt;&lt;(logic) sa;
  if (res &gt; (2^7)-1) {
    res[7:0] = 0x7f; OV = 1;
  } else if (res &lt; -2^7) {
    res[7:0] = 0x80; OV = 1;
  }
  Rd.B[x] = res[7:0];
}
for RV32: x=7...0,
</pre></div>
</div>
</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>value stored in unsigned long long type </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">a</span></code>: unsigned long long type of value stored in a </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">b</span></code>: int type of value stored in b </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1ga1b02a9f2e52abd456bfdadc1dac9e188"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long long __RV_DKSLRA16(unsigned long long a, int b)</code></dt>
<dd><p>DKSLRA16 (64-bit SIMD 16-bit Shift Left Logical with Saturation or Shift Right Arithmetic) </p>
<p><strong>Type</strong>: SIMD</p>
<p><strong>Syntax</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DKSLRA16</span> <span class="n">Rd</span><span class="p">,</span> <span class="n">Rs1</span><span class="p">,</span> <span class="n">Rs2</span>
<span class="c1"># Rd, Rs1 are all even/odd pair of registers</span>
</pre></div>
</div>
</p>
<p><strong>Purpose</strong>:<p>Do 16-bit elements logical left (positive) or arithmetic right (negative) shift operation with Q15 saturation for the left shift.</p>
</p>
<p><strong>Description</strong>:<p>The 16-bit data elements of Rs1 are left-shifted logically or right-shifted arithmetically based on the value of Rs2[4:0]. Rs2[4:0] is in the signed range of [-2^4, 2^4-1]. A positive Rs2[4:0] means logical left shift and a negative Rs2[4:0] means arithmetic right shift. The shift amount is the absolute value of Rs2[4:0]. However, the behavior of </p>
<code class="docutils literal notranslate"><span class="pre">Rs2[4:0]==-2^4</span> <span class="pre">(0x10)</span></code> is defined to be equivalent to the behavior of <code class="docutils literal notranslate"><span class="pre">Rs2[4:0]==-(2^4-1)</span> <span class="pre">(0x11)</span></code>. The left-shifted results are saturated to the 16-bit signed integer range of [-2^15, 2^15-1]. After the shift, saturation, or rounding, the final results are written to Rd. If any saturation happens, this instruction sets the OV flag. The value of Rs2[31:5] will not affect this instruction.</p>
<p><strong>Operations</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>if (Rs2[4:0] &lt; 0) {
  sa = -Rs2[4:0];
  sa = (sa == 16)? 15 : sa;
  Rd.H[x] = SE16(Rs1.H[x][15:sa]);
} else {
  sa = Rs2[3:0];
  res[(15+sa):0] = Rs1.H[x] &lt;&lt;(logic) sa;
  if (res &gt; (2^15)-1) {
    res[15:0] = 0x7fff; OV = 1;
  } else if (res &lt; -2^15) {
    res[15:0] = 0x8000; OV = 1;
  }
  d.H[x] = res[15:0];
}
for RV32: x=3...0,
</pre></div>
</div>
</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>value stored in unsigned long long type </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">a</span></code>: unsigned long long type of value stored in a </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">b</span></code>: int type of value stored in b </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1ga7f2598c19678a959960b6c6d3379e465"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long long __RV_DKADD8(unsigned long long a, unsigned long long b)</code></dt>
<dd><p>DKADD8 (64-bit SIMD 8-bit Signed Saturating Addition) </p>
<p><strong>Type</strong>: SIMD</p>
<p><strong>Syntax</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DKADD8</span> <span class="n">Rd</span><span class="p">,</span> <span class="n">Rs1</span><span class="p">,</span> <span class="n">Rs2</span>
<span class="c1"># Rd, Rs1, Rs2 are all even/odd pair of registers</span>
</pre></div>
</div>
</p>
<p><strong>Purpose</strong>:<p>Do 8-bit signed integer element saturating additions simultaneously.</p>
</p>
<p><strong>Description</strong>:<p>This instruction adds the 8-bit signed integer elements in Rs1 with the 8-bit signed integer elements in Rs2. If any of the results are beyond the Q7 number range (-2^7 &lt;= Q7 &lt;= 2^7-1), they are saturated to the range and the OV bit is set to 1. The saturated results are written to Rd.</p>
</p>
<p><strong>Operations</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">+</span> <span class="n">Rs2</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="n">x</span><span class="p">];</span>
<span class="k">if</span> <span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">127</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="mi">127</span><span class="p">;</span>
  <span class="n">OV</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">128</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">128</span><span class="p">;</span>
  <span class="n">OV</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">Rd</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">];</span>
<span class="k">for</span> <span class="n">RV32</span><span class="p">:</span> <span class="n">x</span><span class="o">=</span><span class="mf">7.</span><span class="o">..</span><span class="mi">0</span><span class="p">,</span>
</pre></div>
</div>
</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>value stored in unsigned long long type </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">a</span></code>: unsigned long long type of value stored in a </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">b</span></code>: unsigned long long type of value stored in b </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1gaeb50cbc43674d8dd32e7455b6c25b394"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long long __RV_DKADD16(unsigned long long a, unsigned long long b)</code></dt>
<dd><p>DKADD16 (64-bit SIMD 16-bit Signed Saturating Addition) </p>
<p><strong>Type</strong>: SIMD</p>
<p><strong>Syntax</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DKADD16</span> <span class="n">Rd</span><span class="p">,</span> <span class="n">Rs1</span><span class="p">,</span> <span class="n">Rs2</span>
<span class="c1"># Rd, Rs1, Rs2 are all even/odd pair of registers</span>
</pre></div>
</div>
</p>
<p><strong>Purpose</strong>:<p>Do 16-bit signed integer element saturating additions simultaneously.</p>
</p>
<p><strong>Description</strong>:<p>This instruction adds the 16-bit signed integer elements in Rs1 with the 16-bit signed integer elements in Rs2. If any of the results are beyond the Q15 number range (-2^15 &lt;= Q15 &lt;= 2^15-1), they are saturated to the range and the OV bit is set to 1. The saturated results are written to Rd.</p>
</p>
<p><strong>Operations</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">H</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">+</span> <span class="n">Rs2</span><span class="o">.</span><span class="n">H</span><span class="p">[</span><span class="n">x</span><span class="p">];</span>
<span class="k">if</span> <span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">32767</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="mi">32767</span><span class="p">;</span>
  <span class="n">OV</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">32768</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">32768</span><span class="p">;</span>
  <span class="n">OV</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">Rd</span><span class="o">.</span><span class="n">H</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">];</span>
<span class="k">for</span> <span class="n">RV32</span><span class="p">:</span> <span class="n">x</span><span class="o">=</span><span class="mf">3.</span><span class="o">..</span><span class="mi">0</span><span class="p">,</span>
</pre></div>
</div>
</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>value stored in unsigned long long type </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">a</span></code>: unsigned long long type of value stored in a </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">b</span></code>: unsigned long long type of value stored in b </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1ga5dbe06f7b351ff1477851894d6d0c927"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long long __RV_DKSUB8(unsigned long long a, unsigned long long b)</code></dt>
<dd><p>DKSUB8 (64-bit SIMD 8-bit Signed Saturating Subtraction) </p>
<p><strong>Type</strong>: SIMD</p>
<p><strong>Syntax</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DKSUB8</span> <span class="n">Rd</span><span class="p">,</span> <span class="n">Rs1</span><span class="p">,</span> <span class="n">Rs2</span>
<span class="c1"># Rd, Rs1, Rs2 are all even/odd pair of registers</span>
</pre></div>
</div>
</p>
<p><strong>Purpose</strong>:<p>Do 8-bit signed elements saturating subtractions simultaneously.</p>
</p>
<p><strong>Description</strong>:<p>This instruction subtracts the 8-bit signed integer elements in Rs2 from the 8-bit signed integer elements in Rs1. If any of the results are beyond the Q7 number range (-2^7 &lt;= Q7 &lt;= 2^7-1), they are saturated to the range and the OV bit is set to 1. The saturated results are written to Rd.</p>
</p>
<p><strong>Operations</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">-</span> <span class="n">Rs2</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="n">x</span><span class="p">];</span>
<span class="k">if</span> <span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">&gt;</span> <span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="mi">7</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="mi">7</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">OV</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">2</span><span class="o">^</span><span class="mi">7</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span><span class="o">^</span><span class="mi">7</span><span class="p">;</span>
  <span class="n">OV</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">Rd</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">];</span>
<span class="k">for</span> <span class="n">RV32</span><span class="p">:</span> <span class="n">x</span><span class="o">=</span><span class="mf">7.</span><span class="o">..</span><span class="mi">0</span><span class="p">,</span>
</pre></div>
</div>
</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>value stored in unsigned long long type </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">a</span></code>: unsigned long long type of value stored in a </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">b</span></code>: unsigned long long type of value stored in b </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1gaa5dfb634a380181e51e0636cb216fbb1"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long long __RV_DKSUB16(unsigned long long a, unsigned long long b)</code></dt>
<dd><p>DKSUB16 (64-bit SIMD 16-bit Signed Saturating Subtraction) </p>
<p><strong>Type</strong>: SIMD</p>
<p><strong>Syntax</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DKSUB16</span> <span class="n">Rd</span><span class="p">,</span> <span class="n">Rs1</span><span class="p">,</span> <span class="n">Rs2</span>
<span class="c1"># Rd, Rs1, Rs2 are all even/odd pair of registers</span>
</pre></div>
</div>
</p>
<p><strong>Purpose</strong>:<p>Do 16-bit signed integer elements saturating subtractions simultaneously.</p>
</p>
<p><strong>Description</strong>:<p>This instruction subtracts the 16-bit signed integer elements in Rs2 from the 16-bit signed integer elements in Rs1. If any of the results are beyond the Q15 number range (-2^15 &lt;= Q15 &lt;= 2^15-1), they are saturated to the range and the OV bit is set to 1. The saturated results are written to Rd.</p>
</p>
<p><strong>Operations</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">H</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">-</span> <span class="n">Rs2</span><span class="o">.</span><span class="n">H</span><span class="p">[</span><span class="n">x</span><span class="p">];</span>
<span class="k">if</span> <span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">&gt;</span> <span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="mi">15</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="mi">15</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">OV</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">2</span><span class="o">^</span><span class="mi">15</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span><span class="o">^</span><span class="mi">15</span><span class="p">;</span>
  <span class="n">OV</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">Rd</span><span class="o">.</span><span class="n">H</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">];</span>
<span class="k">for</span> <span class="n">RV32</span><span class="p">:</span> <span class="n">x</span><span class="o">=</span><span class="mf">3.</span><span class="o">..</span><span class="mi">0</span><span class="p">,</span>
</pre></div>
</div>
</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>value stored in unsigned long long type </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">a</span></code>: unsigned long long type of value stored in a </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">b</span></code>: unsigned long long type of value stored in b </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1ga1bdbaa4714d2052c162a076e676f4ea4"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long __RV_EXPD80(unsigned long a)</code></dt>
<dd><p>EXPD80 (Expand and Copy Byte 0 to 32bit) </p>
<p><strong>Type</strong>: DSP</p>
<p><strong>Syntax</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">EXPD80</span> <span class="n">Rd</span><span class="p">,</span> <span class="n">Rs1</span>
</pre></div>
</div>
</p>
<p><strong>Purpose</strong>:<p>Copy 8-bit data from 32-bit chunks into 4 bytes in a register.</p>
</p>
<p><strong>Description</strong>:<p>Moves Rs1.B[0][7:0] to Rd.[0][7:0], Rd.[1][7:0], Rd.[2][7:0], Rd.[3][7:0]</p>
</p>
<p><strong>Operations</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Rd</span><span class="o">.</span><span class="n">W</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="mi">31</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">CONCAT</span><span class="p">(</span><span class="n">Rs1</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">7</span><span class="p">:</span><span class="mi">0</span><span class="p">],</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">7</span><span class="p">:</span><span class="mi">0</span><span class="p">],</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">7</span><span class="p">:</span><span class="mi">0</span><span class="p">],</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">7</span><span class="p">:</span><span class="mi">0</span><span class="p">]);</span>
<span class="k">for</span> <span class="n">RV32</span><span class="p">:</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span>
</pre></div>
</div>
</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>value stored in unsigned long type </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">a</span></code>: unsigned long type of value stored in a </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1gad690c697580b52820282c03d6a6567c5"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long __RV_EXPD81(unsigned long a)</code></dt>
<dd><p>EXPD81 (Expand and Copy Byte 1 to 32bit) </p>
<p><strong>Type</strong>: DSP</p>
<p><strong>Syntax</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">EXPD81</span> <span class="n">Rd</span><span class="p">,</span> <span class="n">Rs1</span>
</pre></div>
</div>
</p>
<p><strong>Purpose</strong>:<p>Copy 8-bit data from 32-bit chunks into 4 bytes in a register.</p>
</p>
<p><strong>Description</strong>:<p>Moves Rs1.B[1][7:0] to Rd.[0][7:0], Rd.[1][7:0], Rd.[2][7:0], Rd.[3][7:0]</p>
</p>
<p><strong>Operations</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Rd</span><span class="o">.</span><span class="n">W</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="mi">31</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">CONCAT</span><span class="p">(</span><span class="n">Rs1</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">7</span><span class="p">:</span><span class="mi">0</span><span class="p">],</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">7</span><span class="p">:</span><span class="mi">0</span><span class="p">],</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">7</span><span class="p">:</span><span class="mi">0</span><span class="p">],</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">7</span><span class="p">:</span><span class="mi">0</span><span class="p">]);</span>
<span class="k">for</span> <span class="n">RV32</span><span class="p">:</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span>
</pre></div>
</div>
</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>value stored in unsigned long type </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">a</span></code>: unsigned long type of value stored in a </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1gafc4a523cfa64150d691bdc5d7d038810"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long __RV_EXPD82(unsigned long a)</code></dt>
<dd><p>EXPD82 (Expand and Copy Byte 2 to 32bit) </p>
<p><strong>Type</strong>: DSP</p>
<p><strong>Syntax</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">EXPD82</span> <span class="n">Rd</span><span class="p">,</span> <span class="n">Rs1</span>
</pre></div>
</div>
</p>
<p><strong>Purpose</strong>:<p>Copy 8-bit data from 32-bit chunks into 4 bytes in a register.</p>
</p>
<p><strong>Description</strong>:<p>Moves Rs1.B[2][7:0] to Rd.[0][7:0], Rd.[1][7:0], Rd.[2][7:0], Rd.[3][7:0]</p>
</p>
<p><strong>Operations</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Rd</span><span class="o">.</span><span class="n">W</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="mi">31</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">CONCAT</span><span class="p">(</span><span class="n">Rs1</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">7</span><span class="p">:</span><span class="mi">0</span><span class="p">],</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">7</span><span class="p">:</span><span class="mi">0</span><span class="p">],</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">7</span><span class="p">:</span><span class="mi">0</span><span class="p">],</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">7</span><span class="p">:</span><span class="mi">0</span><span class="p">]);</span>
<span class="k">for</span> <span class="n">RV32</span><span class="p">:</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span>
</pre></div>
</div>
</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>value stored in unsigned long type </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">a</span></code>: unsigned long type of value stored in a </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt>
<span class="target" id="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__CUSTOM_1ga6d8dce49013b778d0290cd057cf45dd0"></span><code class="sig-name descname">__STATIC_FORCEINLINE unsigned long __RV_EXPD83(unsigned long a)</code></dt>
<dd><p>EXPD83 (Expand and Copy Byte 3 to 32bit) </p>
<p><strong>Type</strong>: DSP</p>
<p><strong>Syntax</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">EXPD83</span> <span class="n">Rd</span><span class="p">,</span> <span class="n">Rs1</span>
</pre></div>
</div>
</p>
<p><strong>Purpose</strong>:<p>Copy 8-bit data from 32-bit chunks into 4 bytes in a register.</p>
</p>
<p><strong>Description</strong>:<p>Moves Rs1.B[3][7:0] to Rd.[0][7:0], Rd.[1][7:0], Rd.[2][7:0], Rd.[3][7:0]</p>
</p>
<p><strong>Operations</strong>:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Rd</span><span class="o">.</span><span class="n">W</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="mi">31</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">CONCAT</span><span class="p">(</span><span class="n">Rs1</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">7</span><span class="p">:</span><span class="mi">0</span><span class="p">],</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">7</span><span class="p">:</span><span class="mi">0</span><span class="p">],</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">7</span><span class="p">:</span><span class="mi">0</span><span class="p">],</span> <span class="n">Rs1</span><span class="o">.</span><span class="n">B</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">7</span><span class="p">:</span><span class="mi">0</span><span class="p">]);</span>
<span class="k">for</span> <span class="n">RV32</span><span class="p">:</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span>
</pre></div>
</div>
</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>value stored in unsigned long type </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">a</span></code>: unsigned long type of value stored in a </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../core_periph_access.html" class="btn btn-neutral float-right" title="Peripheral Access" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="nmsis_core_dsp_intrinsic_rv64_only/api_nmsis_core_dsp_intrinsic_rv64_32b_pack.html" class="btn btn-neutral float-left" title="32-bit Packing Instructions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019-Present, Nuclei
      <span class="lastupdated">
        Last updated on Sep 10, 2021.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>