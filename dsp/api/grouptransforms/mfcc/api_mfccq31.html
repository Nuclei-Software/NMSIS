<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MFCC Q31 &mdash; NMSIS 1.2.1 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Real FFT Functions" href="../api_realfft.html" />
    <link rel="prev" title="MFCC Q15" href="api_mfccq15.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html">
            <img src="../../../../_static/nmsis_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.2.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../introduction/introduction.html">Nuclei MCU Software Interface Standard(NMSIS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../core/index.html">NMSIS Core</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">NMSIS DSP</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../get_started.html">Using NMSIS-DSP</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">NMSIS DSP API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../api_groupmath.html">Basic Math Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_groupbayes.html">Bayesian estimators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_groupcmplxmath.html">Complex Math Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_groupcontroller.html">Controller Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_groupdistance.html">Distance functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_groupfastmath.html">Fast Math Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_groupfilters.html">Filtering Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_groupinterpolation.html">Interpolation Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_groupmatrix.html">Matrix Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_groupquaternionmath.html">Quaternion Math Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_groupstats.html">Statistics Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_groupsupport.html">Support Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_groupsvm.html">SVM Functions</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../api_grouptransforms.html">Transform Functions</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../api_complexfft.html">Complex FFT Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_dct4_idct4.html">DCT Type IV Functions</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../api_mfcc.html">MFCC</a><ul class="current">
<li class="toctree-l5"><a class="reference internal" href="api_mfccf32.html">MFCC F32</a></li>
<li class="toctree-l5"><a class="reference internal" href="api_mfccf16.html">MFCC F16</a></li>
<li class="toctree-l5"><a class="reference internal" href="api_mfccq15.html">MFCC Q15</a></li>
<li class="toctree-l5 current"><a class="current reference internal" href="#">MFCC Q31</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../api_realfft.html">Real FFT Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api_groupwindow.html">Window Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api_groupexamples.html">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../changelog.html">Changelog</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../nn/index.html">NMSIS NN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../appendix.html">Appendix</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">NMSIS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../../index.html">NMSIS DSP</a> &raquo;</li>
          <li><a href="../../index.html">NMSIS DSP API</a> &raquo;</li>
          <li><a href="../../api_grouptransforms.html">Transform Functions</a> &raquo;</li>
          <li><a href="../api_mfcc.html">MFCC</a> &raquo;</li>
      <li>MFCC Q31</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/dsp/api/grouptransforms/mfcc/api_mfccq31.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mfcc-q31">
<span id="nmsis-dsp-api-mfcc-q31"></span><h1>MFCC Q31<a class="headerlink" href="#mfcc-q31" title="Permalink to this headline"></a></h1>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419riscv_mfcc_init_q31P23riscv_mfcc_instance_q318uint32_t8uint32_t8uint32_tPK5q31_tPK8uint32_tPK8uint32_tPK5q31_tPK5q31_t">
<span id="_CPPv319riscv_mfcc_init_q31P23riscv_mfcc_instance_q318uint32_t8uint32_t8uint32_tPK5q31_tPK8uint32_tPK8uint32_tPK5q31_tPK5q31_t"></span><span id="_CPPv219riscv_mfcc_init_q31P23riscv_mfcc_instance_q318uint32_t8uint32_t8uint32_tPK5q31_tPK8uint32_tPK8uint32_tPK5q31_tPK5q31_t"></span><span id="riscv_mfcc_init_q31__riscv_mfcc_instance_q31P.uint32_t.uint32_t.uint32_t.q31_tCP.uint32_tCP.uint32_tCP.q31_tCP.q31_tCP"></span><span class="target" id="group__MFCCQ31_1ga378623ee05d79a6b67220fe0bc1d1540"></span><span class="n"><span class="pre">riscv_status</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">riscv_mfcc_init_q31</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">riscv_mfcc_instance_q31</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">S</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">fftLen</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">nbMelFilters</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">nbDctOutputs</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">q31_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">dctCoefs</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">filterPos</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">filterLengths</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">q31_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">filterCoefs</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">q31_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">windowCoefs</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419riscv_mfcc_init_q31P23riscv_mfcc_instance_q318uint32_t8uint32_t8uint32_tPK5q31_tPK8uint32_tPK8uint32_tPK5q31_tPK5q31_t" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="group__MFCCQ31_1ga5938abff1041f262bc9f4690eb86836f"></span><span class="sig-name descname"><span class="pre">MFCC_INIT_Q31</span> <span class="pre">(32)</span></span></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="group__MFCCQ31_1ga01f9a4c1d4fc806b97e531fc59cc76ab"></span><span class="sig-name descname"><span class="pre">MFCC_INIT_Q31</span> <span class="pre">(64)</span></span></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="group__MFCCQ31_1ga01b22816464e7f88dec3a3bdbc138972"></span><span class="sig-name descname"><span class="pre">MFCC_INIT_Q31</span> <span class="pre">(128)</span></span></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="group__MFCCQ31_1gab585708a53e0b4e72fb54f775ddebc9f"></span><span class="sig-name descname"><span class="pre">MFCC_INIT_Q31</span> <span class="pre">(256)</span></span></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="group__MFCCQ31_1ga7abf49c1f248298eddc376c4e13c626f"></span><span class="sig-name descname"><span class="pre">MFCC_INIT_Q31</span> <span class="pre">(512)</span></span></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="group__MFCCQ31_1ga834377be64404add06d51a9e61ea46e1"></span><span class="sig-name descname"><span class="pre">MFCC_INIT_Q31</span> <span class="pre">(1024)</span></span></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="group__MFCCQ31_1gae8bb1e87c23d8eb91c6a6312f39d064b"></span><span class="sig-name descname"><span class="pre">MFCC_INIT_Q31</span> <span class="pre">(2048)</span></span></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="group__MFCCQ31_1ga98fb28f8b0c21accb46481bf1c629a7f"></span><span class="sig-name descname"><span class="pre">MFCC_INIT_Q31</span> <span class="pre">(4096)</span></span></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414riscv_mfcc_q31PK23riscv_mfcc_instance_q31P5q31_tP5q31_tP5q31_t">
<span id="_CPPv314riscv_mfcc_q31PK23riscv_mfcc_instance_q31P5q31_tP5q31_tP5q31_t"></span><span id="_CPPv214riscv_mfcc_q31PK23riscv_mfcc_instance_q31P5q31_tP5q31_tP5q31_t"></span><span id="riscv_mfcc_q31__riscv_mfcc_instance_q31CP.q31_tP.q31_tP.q31_tP"></span><span class="target" id="group__MFCCQ31_1ga060a8eb0a30b79fec4f451efc352b34a"></span><span class="n"><span class="pre">riscv_status</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">riscv_mfcc_q31</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">riscv_mfcc_instance_q31</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">S</span></span>, <span class="n"><span class="pre">q31_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pSrc</span></span>, <span class="n"><span class="pre">q31_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pDst</span></span>, <span class="n"><span class="pre">q31_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pTmp</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414riscv_mfcc_q31PK23riscv_mfcc_instance_q31P5q31_tP5q31_tP5q31_t" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MFCC_INIT_Q31">
<span class="target" id="group__MFCCQ31_1ga3bb8d23af27ca4a0c08fc69289b7b639"></span><span class="sig-name descname"><span class="n"><span class="pre">MFCC_INIT_Q31</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">LEN</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MFCC_INIT_Q31" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__MFCCQ31"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">MFCCQ31</span></span></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp">
<span class="target" id="group__MFCCQ31_1ga3bb8d23af27ca4a0c08fc69289b7b639"></span><span class="sig-name descname"><span class="n"><span class="pre">MFCC_INIT_Q31</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">LEN</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="group__MFCCQ31_1ga378623ee05d79a6b67220fe0bc1d1540"></span><span class="n"><span class="pre">riscv_status</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">riscv_mfcc_init_q31</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">riscv_mfcc_instance_q31</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">S</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">fftLen</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">nbMelFilters</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">nbDctOutputs</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">q31_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">dctCoefs</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">filterPos</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">filterLengths</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">q31_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">filterCoefs</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">q31_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">windowCoefs</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Generic initialization of the MFCC Q31 instance structure. </p>
<p>
window coefficients can describe (for instance) a Hamming window. The array has the same size as the FFT length.<dl class="simple">
<dt><strong>Description</strong></dt><dd><p>The matrix of Mel filter coefficients is sparse. Most of the coefficients are zero. To avoid multiplying the spectrogram by those zeros, the filter is applied only to a given position in the spectrogram and on a given number of FFT bins (the filter length). It is the reason for the arrays filterPos and filterLengths.</p>
</dd>
</dl>
</p>
<p>The folder Scripts is containing a Python script which can be used to generate the filter, dct and window arrays. <dl class="simple">
<dt><strong></strong></dt><dd><p>This function should be used only if you don’t know the FFT sizes that you’ll need at build time. The use of this function will prevent the linker from removing the FFT tables that are not needed and the library code size will be bigger than needed.</p>
</dd>
<dt><strong></strong></dt><dd><p>If you use NMSIS-DSP as a static library, and if you know the MFCC sizes that you need at build time, then it is better to use the initialization functions defined for each MFCC size. </p>
</dd>
</dl>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> – <strong>[out]</strong> points to the mfcc instance structure </p></li>
<li><p><strong>fftLen</strong> – <strong>[in]</strong> fft length </p></li>
<li><p><strong>nbMelFilters</strong> – <strong>[in]</strong> number of Mel filters </p></li>
<li><p><strong>nbDctOutputs</strong> – <strong>[in]</strong> number of Dct outputs </p></li>
<li><p><strong>dctCoefs</strong> – <strong>[in]</strong> points to an array of DCT coefficients </p></li>
<li><p><strong>filterPos</strong> – <strong>[in]</strong> points of the array of filter positions </p></li>
<li><p><strong>filterLengths</strong> – <strong>[in]</strong> points to the array of filter lengths </p></li>
<li><p><strong>filterCoefs</strong> – <strong>[in]</strong> points to the array of filter coefficients </p></li>
<li><p><strong>windowCoefs</strong> – <strong>[in]</strong> points to the array of window coefficients</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>error status</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="group__MFCCQ31_1ga5938abff1041f262bc9f4690eb86836f"></span><span class="sig-name descname"><span class="pre">MFCC_INIT_Q31</span> <span class="pre">(32)</span></span></dt>
<dd><p>Initialization of the MFCC Q31 instance structure for 32 sample MFCC. </p>
<p>
window coefficients can describe (for instance) a Hamming window. The array has the same size as the FFT length.<dl class="simple">
<dt><strong>Description</strong></dt><dd><p>The matrix of Mel filter coefficients is sparse. Most of the coefficients are zero. To avoid multiplying the spectrogram by those zeros, the filter is applied only to a given position in the spectrogram and on a given number of FFT bins (the filter length). It is the reason for the arrays filterPos and filterLengths.</p>
</dd>
</dl>
</p>
<p>The folder Scripts is containing a Python script which can be used to generate the filter, dct and window arrays. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> – <strong>[out]</strong> points to the mfcc instance structure </p></li>
<li><p><strong>nbMelFilters</strong> – <strong>[in]</strong> number of Mel filters </p></li>
<li><p><strong>nbDctOutputs</strong> – <strong>[in]</strong> number of Dct outputs </p></li>
<li><p><strong>dctCoefs</strong> – <strong>[in]</strong> points to an array of DCT coefficients </p></li>
<li><p><strong>filterPos</strong> – <strong>[in]</strong> points of the array of filter positions </p></li>
<li><p><strong>filterLengths</strong> – <strong>[in]</strong> points to the array of filter lengths </p></li>
<li><p><strong>filterCoefs</strong> – <strong>[in]</strong> points to the array of filter coefficients </p></li>
<li><p><strong>windowCoefs</strong> – <strong>[in]</strong> points to the array of window coefficients</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>error status</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="group__MFCCQ31_1ga01f9a4c1d4fc806b97e531fc59cc76ab"></span><span class="sig-name descname"><span class="pre">MFCC_INIT_Q31</span> <span class="pre">(64)</span></span></dt>
<dd><p>Initialization of the MFCC Q31 instance structure for 64 sample MFCC. </p>
<p>
window coefficients can describe (for instance) a Hamming window. The array has the same size as the FFT length.<dl class="simple">
<dt><strong>Description</strong></dt><dd><p>The matrix of Mel filter coefficients is sparse. Most of the coefficients are zero. To avoid multiplying the spectrogram by those zeros, the filter is applied only to a given position in the spectrogram and on a given number of FFT bins (the filter length). It is the reason for the arrays filterPos and filterLengths.</p>
</dd>
</dl>
</p>
<p>The folder Scripts is containing a Python script which can be used to generate the filter, dct and window arrays. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> – <strong>[out]</strong> points to the mfcc instance structure </p></li>
<li><p><strong>nbMelFilters</strong> – <strong>[in]</strong> number of Mel filters </p></li>
<li><p><strong>nbDctOutputs</strong> – <strong>[in]</strong> number of Dct outputs </p></li>
<li><p><strong>dctCoefs</strong> – <strong>[in]</strong> points to an array of DCT coefficients </p></li>
<li><p><strong>filterPos</strong> – <strong>[in]</strong> points of the array of filter positions </p></li>
<li><p><strong>filterLengths</strong> – <strong>[in]</strong> points to the array of filter lengths </p></li>
<li><p><strong>filterCoefs</strong> – <strong>[in]</strong> points to the array of filter coefficients </p></li>
<li><p><strong>windowCoefs</strong> – <strong>[in]</strong> points to the array of window coefficients</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>error status</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="group__MFCCQ31_1ga01b22816464e7f88dec3a3bdbc138972"></span><span class="sig-name descname"><span class="pre">MFCC_INIT_Q31</span> <span class="pre">(128)</span></span></dt>
<dd><p>Initialization of the MFCC Q31 instance structure for 128 sample MFCC. </p>
<p>
window coefficients can describe (for instance) a Hamming window. The array has the same size as the FFT length.<dl class="simple">
<dt><strong>Description</strong></dt><dd><p>The matrix of Mel filter coefficients is sparse. Most of the coefficients are zero. To avoid multiplying the spectrogram by those zeros, the filter is applied only to a given position in the spectrogram and on a given number of FFT bins (the filter length). It is the reason for the arrays filterPos and filterLengths.</p>
</dd>
</dl>
</p>
<p>The folder Scripts is containing a Python script which can be used to generate the filter, dct and window arrays. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> – <strong>[out]</strong> points to the mfcc instance structure </p></li>
<li><p><strong>nbMelFilters</strong> – <strong>[in]</strong> number of Mel filters </p></li>
<li><p><strong>nbDctOutputs</strong> – <strong>[in]</strong> number of Dct outputs </p></li>
<li><p><strong>dctCoefs</strong> – <strong>[in]</strong> points to an array of DCT coefficients </p></li>
<li><p><strong>filterPos</strong> – <strong>[in]</strong> points of the array of filter positions </p></li>
<li><p><strong>filterLengths</strong> – <strong>[in]</strong> points to the array of filter lengths </p></li>
<li><p><strong>filterCoefs</strong> – <strong>[in]</strong> points to the array of filter coefficients </p></li>
<li><p><strong>windowCoefs</strong> – <strong>[in]</strong> points to the array of window coefficients</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>error status</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="group__MFCCQ31_1gab585708a53e0b4e72fb54f775ddebc9f"></span><span class="sig-name descname"><span class="pre">MFCC_INIT_Q31</span> <span class="pre">(256)</span></span></dt>
<dd><p>Initialization of the MFCC Q31 instance structure for 256 sample MFCC. </p>
<p>
window coefficients can describe (for instance) a Hamming window. The array has the same size as the FFT length.<dl class="simple">
<dt><strong>Description</strong></dt><dd><p>The matrix of Mel filter coefficients is sparse. Most of the coefficients are zero. To avoid multiplying the spectrogram by those zeros, the filter is applied only to a given position in the spectrogram and on a given number of FFT bins (the filter length). It is the reason for the arrays filterPos and filterLengths.</p>
</dd>
</dl>
</p>
<p>The folder Scripts is containing a Python script which can be used to generate the filter, dct and window arrays. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> – <strong>[out]</strong> points to the mfcc instance structure </p></li>
<li><p><strong>nbMelFilters</strong> – <strong>[in]</strong> number of Mel filters </p></li>
<li><p><strong>nbDctOutputs</strong> – <strong>[in]</strong> number of Dct outputs </p></li>
<li><p><strong>dctCoefs</strong> – <strong>[in]</strong> points to an array of DCT coefficients </p></li>
<li><p><strong>filterPos</strong> – <strong>[in]</strong> points of the array of filter positions </p></li>
<li><p><strong>filterLengths</strong> – <strong>[in]</strong> points to the array of filter lengths </p></li>
<li><p><strong>filterCoefs</strong> – <strong>[in]</strong> points to the array of filter coefficients </p></li>
<li><p><strong>windowCoefs</strong> – <strong>[in]</strong> points to the array of window coefficients</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>error status</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="group__MFCCQ31_1ga7abf49c1f248298eddc376c4e13c626f"></span><span class="sig-name descname"><span class="pre">MFCC_INIT_Q31</span> <span class="pre">(512)</span></span></dt>
<dd><p>Initialization of the MFCC Q31 instance structure for 512 sample MFCC. </p>
<p>
window coefficients can describe (for instance) a Hamming window. The array has the same size as the FFT length.<dl class="simple">
<dt><strong>Description</strong></dt><dd><p>The matrix of Mel filter coefficients is sparse. Most of the coefficients are zero. To avoid multiplying the spectrogram by those zeros, the filter is applied only to a given position in the spectrogram and on a given number of FFT bins (the filter length). It is the reason for the arrays filterPos and filterLengths.</p>
</dd>
</dl>
</p>
<p>The folder Scripts is containing a Python script which can be used to generate the filter, dct and window arrays. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> – <strong>[out]</strong> points to the mfcc instance structure </p></li>
<li><p><strong>nbMelFilters</strong> – <strong>[in]</strong> number of Mel filters </p></li>
<li><p><strong>nbDctOutputs</strong> – <strong>[in]</strong> number of Dct outputs </p></li>
<li><p><strong>dctCoefs</strong> – <strong>[in]</strong> points to an array of DCT coefficients </p></li>
<li><p><strong>filterPos</strong> – <strong>[in]</strong> points of the array of filter positions </p></li>
<li><p><strong>filterLengths</strong> – <strong>[in]</strong> points to the array of filter lengths </p></li>
<li><p><strong>filterCoefs</strong> – <strong>[in]</strong> points to the array of filter coefficients </p></li>
<li><p><strong>windowCoefs</strong> – <strong>[in]</strong> points to the array of window coefficients</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>error status</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="group__MFCCQ31_1ga834377be64404add06d51a9e61ea46e1"></span><span class="sig-name descname"><span class="pre">MFCC_INIT_Q31</span> <span class="pre">(1024)</span></span></dt>
<dd><p>Initialization of the MFCC Q31 instance structure for 1024 sample MFCC. </p>
<p>
window coefficients can describe (for instance) a Hamming window. The array has the same size as the FFT length.<dl class="simple">
<dt><strong>Description</strong></dt><dd><p>The matrix of Mel filter coefficients is sparse. Most of the coefficients are zero. To avoid multiplying the spectrogram by those zeros, the filter is applied only to a given position in the spectrogram and on a given number of FFT bins (the filter length). It is the reason for the arrays filterPos and filterLengths.</p>
</dd>
</dl>
</p>
<p>The folder Scripts is containing a Python script which can be used to generate the filter, dct and window arrays. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> – <strong>[out]</strong> points to the mfcc instance structure </p></li>
<li><p><strong>nbMelFilters</strong> – <strong>[in]</strong> number of Mel filters </p></li>
<li><p><strong>nbDctOutputs</strong> – <strong>[in]</strong> number of Dct outputs </p></li>
<li><p><strong>dctCoefs</strong> – <strong>[in]</strong> points to an array of DCT coefficients </p></li>
<li><p><strong>filterPos</strong> – <strong>[in]</strong> points of the array of filter positions </p></li>
<li><p><strong>filterLengths</strong> – <strong>[in]</strong> points to the array of filter lengths </p></li>
<li><p><strong>filterCoefs</strong> – <strong>[in]</strong> points to the array of filter coefficients </p></li>
<li><p><strong>windowCoefs</strong> – <strong>[in]</strong> points to the array of window coefficients</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>error status</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="group__MFCCQ31_1gae8bb1e87c23d8eb91c6a6312f39d064b"></span><span class="sig-name descname"><span class="pre">MFCC_INIT_Q31</span> <span class="pre">(2048)</span></span></dt>
<dd><p>Initialization of the MFCC Q31 instance structure for 2048 sample MFCC. </p>
<p>
window coefficients can describe (for instance) a Hamming window. The array has the same size as the FFT length.<dl class="simple">
<dt><strong>Description</strong></dt><dd><p>The matrix of Mel filter coefficients is sparse. Most of the coefficients are zero. To avoid multiplying the spectrogram by those zeros, the filter is applied only to a given position in the spectrogram and on a given number of FFT bins (the filter length). It is the reason for the arrays filterPos and filterLengths.</p>
</dd>
</dl>
</p>
<p>The folder Scripts is containing a Python script which can be used to generate the filter, dct and window arrays. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> – <strong>[out]</strong> points to the mfcc instance structure </p></li>
<li><p><strong>nbMelFilters</strong> – <strong>[in]</strong> number of Mel filters </p></li>
<li><p><strong>nbDctOutputs</strong> – <strong>[in]</strong> number of Dct outputs </p></li>
<li><p><strong>dctCoefs</strong> – <strong>[in]</strong> points to an array of DCT coefficients </p></li>
<li><p><strong>filterPos</strong> – <strong>[in]</strong> points of the array of filter positions </p></li>
<li><p><strong>filterLengths</strong> – <strong>[in]</strong> points to the array of filter lengths </p></li>
<li><p><strong>filterCoefs</strong> – <strong>[in]</strong> points to the array of filter coefficients </p></li>
<li><p><strong>windowCoefs</strong> – <strong>[in]</strong> points to the array of window coefficients</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>error status</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="group__MFCCQ31_1ga98fb28f8b0c21accb46481bf1c629a7f"></span><span class="sig-name descname"><span class="pre">MFCC_INIT_Q31</span> <span class="pre">(4096)</span></span></dt>
<dd><p>Initialization of the MFCC Q31 instance structure for 4096 sample MFCC. </p>
<p>
window coefficients can describe (for instance) a Hamming window. The array has the same size as the FFT length.<dl class="simple">
<dt><strong>Description</strong></dt><dd><p>The matrix of Mel filter coefficients is sparse. Most of the coefficients are zero. To avoid multiplying the spectrogram by those zeros, the filter is applied only to a given position in the spectrogram and on a given number of FFT bins (the filter length). It is the reason for the arrays filterPos and filterLengths.</p>
</dd>
</dl>
</p>
<p>The folder Scripts is containing a Python script which can be used to generate the filter, dct and window arrays. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> – <strong>[out]</strong> points to the mfcc instance structure </p></li>
<li><p><strong>nbMelFilters</strong> – <strong>[in]</strong> number of Mel filters </p></li>
<li><p><strong>nbDctOutputs</strong> – <strong>[in]</strong> number of Dct outputs </p></li>
<li><p><strong>dctCoefs</strong> – <strong>[in]</strong> points to an array of DCT coefficients </p></li>
<li><p><strong>filterPos</strong> – <strong>[in]</strong> points of the array of filter positions </p></li>
<li><p><strong>filterLengths</strong> – <strong>[in]</strong> points to the array of filter lengths </p></li>
<li><p><strong>filterCoefs</strong> – <strong>[in]</strong> points to the array of filter coefficients </p></li>
<li><p><strong>windowCoefs</strong> – <strong>[in]</strong> points to the array of window coefficients</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>error status</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="group__MFCCQ31_1ga060a8eb0a30b79fec4f451efc352b34a"></span><span class="n"><span class="pre">riscv_status</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">riscv_mfcc_q31</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">riscv_mfcc_instance_q31</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">S</span></span>, <span class="n"><span class="pre">q31_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pSrc</span></span>, <span class="n"><span class="pre">q31_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pDst</span></span>, <span class="n"><span class="pre">q31_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pTmp</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>MFCC Q31. </p>
<p>
The temporary buffer has a 2*fft length.<dl class="simple">
<dt><strong>Description</strong></dt><dd><p>The number of input samples is the FFT length used when initializing the instance data structure.</p>
</dd>
</dl>
</p>
<p>The source buffer is modified by this function.</p>
<p>The function may saturate. If the FFT length is too big and the number of MEL filters too small then the fixed point computations may saturate. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> – <strong>[in]</strong> points to the mfcc instance structure </p></li>
<li><p><strong>pSrc</strong> – <strong>[in]</strong> points to the input samples in Q31 </p></li>
<li><p><strong>pDst</strong> – <strong>[out]</strong> points to the output MFCC values in q8.23 format </p></li>
<li><p><strong>pTmp</strong> – <strong>[inout]</strong> points to a temporary buffer of complex</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>none</p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="api_mfccq15.html" class="btn btn-neutral float-left" title="MFCC Q15" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../api_realfft.html" class="btn btn-neutral float-right" title="Real FFT Functions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-Present, Nuclei.
      <span class="lastupdated">Last updated on Jun 28, 2024.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>