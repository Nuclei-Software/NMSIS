<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NMSIS-Core: Nuclei N1 SIMD DSP Additional Instructions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="nmsis_logo_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NMSIS-Core
   &#160;<span id="projectnumber">Version 1.4.0</span>
   </div>
   <div id="projectbrief">NMSIS-Core support for Nuclei processor-based devices</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__NMSIS__Core__DSP__Intrinsic__NUCLEI__N1.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Nuclei N1 SIMD DSP Additional Instructions<div class="ingroups"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic.html">Intrinsic Functions for SIMD Instructions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>(RV32 only)Nuclei Customized N1 DSP Instructions  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga036660946bc3f379a731983caffca53b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__N1.html#ga036660946bc3f379a731983caffca53b">__RV_DKHM8</a> (unsigned long long a, unsigned long long b)</td></tr>
<tr class="memdesc:ga036660946bc3f379a731983caffca53b"><td class="mdescLeft">&#160;</td><td class="mdescRight">DKHM8 (64-bit SIMD Signed Saturating Q7 Multiply)  <a href="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__N1.html#ga036660946bc3f379a731983caffca53b">More...</a><br /></td></tr>
<tr class="separator:ga036660946bc3f379a731983caffca53b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae39257eb12a014d3059394217135b9fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__N1.html#gae39257eb12a014d3059394217135b9fb">__RV_DKHM16</a> (unsigned long long a, unsigned long long b)</td></tr>
<tr class="memdesc:gae39257eb12a014d3059394217135b9fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">DKHM16 (64-bit SIMD Signed Saturating Q15 Multiply)  <a href="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__N1.html#gae39257eb12a014d3059394217135b9fb">More...</a><br /></td></tr>
<tr class="separator:gae39257eb12a014d3059394217135b9fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7279c1730c173384063a9bef9c986010"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__N1.html#ga7279c1730c173384063a9bef9c986010">__RV_DKABS8</a> (unsigned long long a)</td></tr>
<tr class="memdesc:ga7279c1730c173384063a9bef9c986010"><td class="mdescLeft">&#160;</td><td class="mdescRight">DKABS8 (64-bit SIMD 8-bit Saturating Absolute)  <a href="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__N1.html#ga7279c1730c173384063a9bef9c986010">More...</a><br /></td></tr>
<tr class="separator:ga7279c1730c173384063a9bef9c986010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d5691b06128c42939278415561c2dc4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__N1.html#ga7d5691b06128c42939278415561c2dc4">__RV_DKABS16</a> (unsigned long long a)</td></tr>
<tr class="memdesc:ga7d5691b06128c42939278415561c2dc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">DKABS16 (64-bit SIMD 16-bit Saturating Absolute)  <a href="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__N1.html#ga7d5691b06128c42939278415561c2dc4">More...</a><br /></td></tr>
<tr class="separator:ga7d5691b06128c42939278415561c2dc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0f7b1184bde378bc5ae6e23f155ecb89"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__N1.html#ga0f7b1184bde378bc5ae6e23f155ecb89">__RV_DKSLRA8</a> (unsigned long long a, int b)</td></tr>
<tr class="memdesc:ga0f7b1184bde378bc5ae6e23f155ecb89"><td class="mdescLeft">&#160;</td><td class="mdescRight">DKSLRA8 (64-bit SIMD 8-bit Shift Left Logical with Saturation or Shift Right Arithmetic)  <a href="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__N1.html#ga0f7b1184bde378bc5ae6e23f155ecb89">More...</a><br /></td></tr>
<tr class="separator:ga0f7b1184bde378bc5ae6e23f155ecb89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b02a9f2e52abd456bfdadc1dac9e188"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__N1.html#ga1b02a9f2e52abd456bfdadc1dac9e188">__RV_DKSLRA16</a> (unsigned long long a, int b)</td></tr>
<tr class="memdesc:ga1b02a9f2e52abd456bfdadc1dac9e188"><td class="mdescLeft">&#160;</td><td class="mdescRight">DKSLRA16 (64-bit SIMD 16-bit Shift Left Logical with Saturation or Shift Right Arithmetic)  <a href="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__N1.html#ga1b02a9f2e52abd456bfdadc1dac9e188">More...</a><br /></td></tr>
<tr class="separator:ga1b02a9f2e52abd456bfdadc1dac9e188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f2598c19678a959960b6c6d3379e465"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__N1.html#ga7f2598c19678a959960b6c6d3379e465">__RV_DKADD8</a> (unsigned long long a, unsigned long long b)</td></tr>
<tr class="memdesc:ga7f2598c19678a959960b6c6d3379e465"><td class="mdescLeft">&#160;</td><td class="mdescRight">DKADD8 (64-bit SIMD 8-bit Signed Saturating Addition)  <a href="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__N1.html#ga7f2598c19678a959960b6c6d3379e465">More...</a><br /></td></tr>
<tr class="separator:ga7f2598c19678a959960b6c6d3379e465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb50cbc43674d8dd32e7455b6c25b394"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__N1.html#gaeb50cbc43674d8dd32e7455b6c25b394">__RV_DKADD16</a> (unsigned long long a, unsigned long long b)</td></tr>
<tr class="memdesc:gaeb50cbc43674d8dd32e7455b6c25b394"><td class="mdescLeft">&#160;</td><td class="mdescRight">DKADD16 (64-bit SIMD 16-bit Signed Saturating Addition)  <a href="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__N1.html#gaeb50cbc43674d8dd32e7455b6c25b394">More...</a><br /></td></tr>
<tr class="separator:gaeb50cbc43674d8dd32e7455b6c25b394"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5dbe06f7b351ff1477851894d6d0c927"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__N1.html#ga5dbe06f7b351ff1477851894d6d0c927">__RV_DKSUB8</a> (unsigned long long a, unsigned long long b)</td></tr>
<tr class="memdesc:ga5dbe06f7b351ff1477851894d6d0c927"><td class="mdescLeft">&#160;</td><td class="mdescRight">DKSUB8 (64-bit SIMD 8-bit Signed Saturating Subtraction)  <a href="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__N1.html#ga5dbe06f7b351ff1477851894d6d0c927">More...</a><br /></td></tr>
<tr class="separator:ga5dbe06f7b351ff1477851894d6d0c927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa5dfb634a380181e51e0636cb216fbb1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__N1.html#gaa5dfb634a380181e51e0636cb216fbb1">__RV_DKSUB16</a> (unsigned long long a, unsigned long long b)</td></tr>
<tr class="memdesc:gaa5dfb634a380181e51e0636cb216fbb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">DKSUB16 (64-bit SIMD 16-bit Signed Saturating Subtraction)  <a href="group__NMSIS__Core__DSP__Intrinsic__NUCLEI__N1.html#gaa5dfb634a380181e51e0636cb216fbb1">More...</a><br /></td></tr>
<tr class="separator:gaa5dfb634a380181e51e0636cb216fbb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>(RV32 only)Nuclei Customized N1 DSP Instructions </p>
<p>This is Nuclei customized DSP N1 instructions only for RV32 </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga7d5691b06128c42939278415561c2dc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7d5691b06128c42939278415561c2dc4">&#9670;&nbsp;</a></span>__RV_DKABS16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long long __RV_DKABS16 </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DKABS16 (64-bit SIMD 16-bit Saturating Absolute) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">DKABS16 Rd, Rs1</div>
<div class="line"><span class="preprocessor"># Rd, Rs1 are all even/odd pair of registers</span></div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Get the absolute value of 16-bit signed integer elements simultaneously.</p>
<p><b>Description</b>:<br  />
This instruction calculates the absolute value of 16-bit signed integer elements stored in Rs1 and writes the element results to Rd. If the input number is 0x8000, this instruction generates 0x7fff as the output and sets the OV bit to 1.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">src = Rs1.H[x];</div>
<div class="line"><span class="keywordflow">if</span> (src == 0x8000) {</div>
<div class="line">  src = 0x7fff;</div>
<div class="line">  OV = 1;</div>
<div class="line">} <span class="keywordflow">else</span> <span class="keywordflow">if</span> (src[15] == 1)</div>
<div class="line">  src = -src;</div>
<div class="line">}</div>
<div class="line">Rd.H[x] = src;</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=3...0,</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long long type of value stored in a </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l18396">18396</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l18397"></a><span class="lineno">18397</span>&#160;{</div>
<div class="line"><a name="l18398"></a><span class="lineno">18398</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l18399"></a><span class="lineno">18399</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;dkabs16 %0, %1&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a));</div>
<div class="line"><a name="l18400"></a><span class="lineno">18400</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l18401"></a><span class="lineno">18401</span>&#160;}</div>
<div class="ttc" id="agroup__NMSIS__Core__CompilerControl_html_ga1378040bcf22428955c6e3ce9c2053cd"><div class="ttname"><a href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a></div><div class="ttdeci">#define __ASM</div><div class="ttdoc">Pass information from the compiler to the assembler.</div><div class="ttdef"><b>Definition:</b> <a href="nmsis__gcc_8h_source.html#l00055">nmsis_gcc.h:55</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga7279c1730c173384063a9bef9c986010"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7279c1730c173384063a9bef9c986010">&#9670;&nbsp;</a></span>__RV_DKABS8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long long __RV_DKABS8 </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DKABS8 (64-bit SIMD 8-bit Saturating Absolute) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">DKABS8 Rd, Rs1</div>
<div class="line"><span class="preprocessor"># Rd, Rs1 are all even/odd pair of registers</span></div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Get the absolute value of 8-bit signed integer elements simultaneously.</p>
<p><b>Description</b>:<br  />
This instruction calculates the absolute value of 8-bit signed integer elements stored in Rs1 and writes the element results to Rd. If the input number is 0x80, this instruction generates 0x7f as the output and sets the OV bit to 1.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">src = Rs1.B[x];</div>
<div class="line"><span class="keywordflow">if</span> (src == 0x80) {</div>
<div class="line">  src = 0x7f;</div>
<div class="line">  OV = 1;</div>
<div class="line">} <span class="keywordflow">else</span> <span class="keywordflow">if</span> (src[7] == 1)</div>
<div class="line">  src = -src;</div>
<div class="line">}</div>
<div class="line">Rd.B[x] = src;</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=7...0,</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long long type of value stored in a </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l18351">18351</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l18352"></a><span class="lineno">18352</span>&#160;{</div>
<div class="line"><a name="l18353"></a><span class="lineno">18353</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l18354"></a><span class="lineno">18354</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;dkabs8 %0, %1&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a));</div>
<div class="line"><a name="l18355"></a><span class="lineno">18355</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l18356"></a><span class="lineno">18356</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="gaeb50cbc43674d8dd32e7455b6c25b394"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeb50cbc43674d8dd32e7455b6c25b394">&#9670;&nbsp;</a></span>__RV_DKADD16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long long __RV_DKADD16 </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DKADD16 (64-bit SIMD 16-bit Signed Saturating Addition) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">DKADD16 Rd, Rs1, Rs2</div>
<div class="line"><span class="preprocessor"># Rd, Rs1, Rs2 are all even/odd pair of registers</span></div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do 16-bit signed integer element saturating additions simultaneously.</p>
<p><b>Description</b>:<br  />
This instruction adds the 16-bit signed integer elements in Rs1 with the 16-bit signed integer elements in Rs2. If any of the results are beyond the Q15 number range (-2^15 &lt;= Q15 &lt;= 2^15-1), they are saturated to the range and the OV bit is set to 1. The saturated results are written to Rd.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">res[x] = Rs1.H[x] + Rs2.H[x];</div>
<div class="line"><span class="keywordflow">if</span> (res[x] &gt; 32767) {</div>
<div class="line">  res[x] = 32767;</div>
<div class="line">  OV = 1;</div>
<div class="line">} <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res[x] &lt; -32768) {</div>
<div class="line">  res[x] = -32768;</div>
<div class="line">  OV = 1;</div>
<div class="line">}</div>
<div class="line">Rd.H[x] = res[x];</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=3...0,</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned long long type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l18607">18607</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l18608"></a><span class="lineno">18608</span>&#160;{</div>
<div class="line"><a name="l18609"></a><span class="lineno">18609</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l18610"></a><span class="lineno">18610</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;dkadd16 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l18611"></a><span class="lineno">18611</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l18612"></a><span class="lineno">18612</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga7f2598c19678a959960b6c6d3379e465"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7f2598c19678a959960b6c6d3379e465">&#9670;&nbsp;</a></span>__RV_DKADD8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long long __RV_DKADD8 </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DKADD8 (64-bit SIMD 8-bit Signed Saturating Addition) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">DKADD8 Rd, Rs1, Rs2</div>
<div class="line"><span class="preprocessor"># Rd, Rs1, Rs2 are all even/odd pair of registers</span></div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do 8-bit signed integer element saturating additions simultaneously.</p>
<p><b>Description</b>:<br  />
This instruction adds the 8-bit signed integer elements in Rs1 with the 8-bit signed integer elements in Rs2. If any of the results are beyond the Q7 number range (-2^7 &lt;= Q7 &lt;= 2^7-1), they are saturated to the range and the OV bit is set to 1. The saturated results are written to Rd.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">res[x] = Rs1.B[x] + Rs2.B[x];</div>
<div class="line"><span class="keywordflow">if</span> (res[x] &gt; 127) {</div>
<div class="line">  res[x] = 127;</div>
<div class="line">  OV = 1;</div>
<div class="line">} <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res[x] &lt; -128) {</div>
<div class="line">  res[x] = -128;</div>
<div class="line">  OV = 1;</div>
<div class="line">}</div>
<div class="line">Rd.B[x] = res[x];</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=7...0,</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned long long type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l18560">18560</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l18561"></a><span class="lineno">18561</span>&#160;{</div>
<div class="line"><a name="l18562"></a><span class="lineno">18562</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l18563"></a><span class="lineno">18563</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;dkadd8 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l18564"></a><span class="lineno">18564</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l18565"></a><span class="lineno">18565</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="gae39257eb12a014d3059394217135b9fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae39257eb12a014d3059394217135b9fb">&#9670;&nbsp;</a></span>__RV_DKHM16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long long __RV_DKHM16 </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DKHM16 (64-bit SIMD Signed Saturating Q15 Multiply) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">DKHM16 Rd, Rs1, Rs2</div>
<div class="line"><span class="preprocessor"># Rd, Rs1, Rs2 are all even/odd pair of registers</span></div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do Q15xQ15 element multiplications simultaneously. The Q30 results are then reduced to Q15 numbers again.</p>
<p><b>Description</b>:<br  />
For the <code>DKHM16</code> instruction, multiply the top 16-bit Q15 content of 32-bit chunks in Rs1 with the top 16-bit Q15 content of 32-bit chunks in Rs2. At the same time, multiply the bottom 16-bit Q15 content of 32-bit chunks in Rs1 with the bottom 16-bit Q15 content of 32-bit chunks in Rs2.</p>
<p>The Q30 results are then right-shifted 15-bits and saturated into Q15 values. The Q15 results are then written into Rd. When both the two Q15 inputs of a multiplication are 0x8000, saturation will happen. The result will be saturated to 0x7FFF and the overflow flag OV will be set.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">op1t = Rs1.H[x+1]; op2t = Rs2.H[x+1]; <span class="comment">// top</span></div>
<div class="line">op1b = Rs1.H[x]; op2b = Rs2.H[x]; <span class="comment">// bottom</span></div>
<div class="line"><span class="keywordflow">for</span> ((aop,bop,res) in [(op1t,op2t,rest), (op1b,op2b,resb)]) {</div>
<div class="line">  <span class="keywordflow">if</span> (0x8000 != aop | 0x8000 != bop) {</div>
<div class="line">    res = (aop s* bop) &gt;&gt; 15;</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    res= 0x7FFF;</div>
<div class="line">    OV = 1;</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line">Rd.W[x/2] = concat(rest, resb);</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=0, 2</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned long long type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l18306">18306</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l18307"></a><span class="lineno">18307</span>&#160;{</div>
<div class="line"><a name="l18308"></a><span class="lineno">18308</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l18309"></a><span class="lineno">18309</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;dkhm16 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l18310"></a><span class="lineno">18310</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l18311"></a><span class="lineno">18311</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga036660946bc3f379a731983caffca53b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga036660946bc3f379a731983caffca53b">&#9670;&nbsp;</a></span>__RV_DKHM8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long long __RV_DKHM8 </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DKHM8 (64-bit SIMD Signed Saturating Q7 Multiply) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">DKHM8 Rd, Rs1, Rs2</div>
<div class="line"><span class="preprocessor"># Rd, Rs1, Rs2 are all even/odd pair of registers</span></div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do Q7xQ7 element multiplications simultaneously. The Q14 results are then reduced to Q7 numbers again.</p>
<p><b>Description</b>:<br  />
For the <code>DKHM8</code> instruction, multiply the top 8-bit Q7 content of 16-bit chunks in Rs1 with the top 8-bit Q7 content of 16-bit chunks in Rs2. At the same time, multiply the bottom 8-bit Q7 content of 16-bit chunks in Rs1 with the bottom 8-bit Q7 content of 16-bit chunks in Rs2.</p>
<p>The Q14 results are then right-shifted 7-bits and saturated into Q7 values. The Q7 results are then written into Rd. When both the two Q7 inputs of a multiplication are 0x80, saturation will happen. The result will be saturated to 0x7F and the overflow flag OV will be set.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">op1t = Rs1.B[x+1]; op2t = Rs2.B[x+1]; <span class="comment">// top</span></div>
<div class="line">op1b = Rs1.B[x]; op2b = Rs2.B[x]; <span class="comment">// bottom</span></div>
<div class="line"><span class="keywordflow">for</span> ((aop,bop,res) in [(op1t,op2t,rest), (op1b,op2b,resb)]) {</div>
<div class="line">  <span class="keywordflow">if</span> (0x80 != aop | 0x80 != bop) {</div>
<div class="line">    res = (aop s* bop) &gt;&gt; 7;</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    res= 0x7F;</div>
<div class="line">    OV = 1;</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line">Rd.H[x/2] = concat(rest, resb);</div>
<div class="line"><span class="keywordflow">for</span> RV32, x=0,2,4,6</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned long long type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l18251">18251</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l18252"></a><span class="lineno">18252</span>&#160;{</div>
<div class="line"><a name="l18253"></a><span class="lineno">18253</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l18254"></a><span class="lineno">18254</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;dkhm8 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l18255"></a><span class="lineno">18255</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l18256"></a><span class="lineno">18256</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga1b02a9f2e52abd456bfdadc1dac9e188"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b02a9f2e52abd456bfdadc1dac9e188">&#9670;&nbsp;</a></span>__RV_DKSLRA16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long long __RV_DKSLRA16 </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DKSLRA16 (64-bit SIMD 16-bit Shift Left Logical with Saturation or Shift Right Arithmetic) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">DKSLRA16 Rd, Rs1, Rs2</div>
<div class="line"><span class="preprocessor"># Rd, Rs1 are all even/odd pair of registers</span></div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do 16-bit elements logical left (positive) or arithmetic right (negative) shift operation with Q15 saturation for the left shift.</p>
<p><b>Description</b>:<br  />
The 16-bit data elements of Rs1 are left-shifted logically or right-shifted arithmetically based on the value of Rs2[4:0]. Rs2[4:0] is in the signed range of [-2^4, 2^4-1]. A positive Rs2[4:0] means logical left shift and a negative Rs2[4:0] means arithmetic right shift. The shift amount is the absolute value of Rs2[4:0]. However, the behavior of <code>Rs2[4:0]==-2^4 (0x10)</code> is defined to be equivalent to the behavior of <code>Rs2[4:0]==-(2^4-1) (0x11)</code>. The left-shifted results are saturated to the 16-bit signed integer range of [-2^15, 2^15-1]. After the shift, saturation, or rounding, the final results are written to Rd. If any saturation happens, this instruction sets the OV flag. The value of Rs2[31:5] will not affect this instruction.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (Rs2[4:0] &lt; 0) {</div>
<div class="line">  sa = -Rs2[4:0];</div>
<div class="line">  sa = (sa == 16)? 15 : sa;</div>
<div class="line">  Rd.H[x] = SE16(Rs1.H[x][15:sa]);</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  sa = Rs2[3:0];</div>
<div class="line">  res[(15+sa):0] = Rs1.H[x] &lt;&lt;(logic) sa;</div>
<div class="line">  <span class="keywordflow">if</span> (res &gt; (2^15)-1) {</div>
<div class="line">    res[15:0] = 0x7fff; OV = 1;</div>
<div class="line">  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res &lt; -2^15) {</div>
<div class="line">    res[15:0] = 0x8000; OV = 1;</div>
<div class="line">  }</div>
<div class="line">  d.H[x] = res[15:0];</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=3...0,</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l18513">18513</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l18514"></a><span class="lineno">18514</span>&#160;{</div>
<div class="line"><a name="l18515"></a><span class="lineno">18515</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l18516"></a><span class="lineno">18516</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;dkslra16 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l18517"></a><span class="lineno">18517</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l18518"></a><span class="lineno">18518</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga0f7b1184bde378bc5ae6e23f155ecb89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0f7b1184bde378bc5ae6e23f155ecb89">&#9670;&nbsp;</a></span>__RV_DKSLRA8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long long __RV_DKSLRA8 </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DKSLRA8 (64-bit SIMD 8-bit Shift Left Logical with Saturation or Shift Right Arithmetic) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">DKSLRA8 Rd, Rs1, Rs2</div>
<div class="line"><span class="preprocessor"># Rd, Rs1 are all even/odd pair of registers</span></div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do 8-bit elements logical left (positive) or arithmetic right (negative) shift operation with Q7 saturation for the left shift.</p>
<p><b>Description</b>:<br  />
The 8-bit data elements of Rs1 are left-shifted logically or right-shifted arithmetically based on the value of Rs2[3:0]. Rs2[3:0] is in the signed range of [-2^3, 2^3-1]. A positive Rs2[3:0] means logical left shift and a negative Rs2[3:0] means arithmetic right shift. The shift amount is the absolute value of Rs2[3:0]. However, the behavior of <code>Rs2[3:0]==-2^3 (0x8)</code> is defined to be equivalent to the behavior of <code>Rs2[3:0]==-(2^3-1) (0x9)</code>. The left-shifted results are saturated to the 8-bit signed integer range of [-2^7, 2^7-1]. If any saturation happens, this instruction sets the OV flag. The value of Rs2[31:4] will not affect this instruction.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (Rs2[3:0] &lt; 0) {</div>
<div class="line">  sa = -Rs2[3:0];</div>
<div class="line">  sa = (sa == 8)? 7 : sa;</div>
<div class="line">  Rd.B[x] = SE8(Rs1.B[x][7:sa]);</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  sa = Rs2[2:0];</div>
<div class="line">  res[(7+sa):0] = Rs1.B[x] &lt;&lt;(logic) sa;</div>
<div class="line">  <span class="keywordflow">if</span> (res &gt; (2^7)-1) {</div>
<div class="line">    res[7:0] = 0x7f; OV = 1;</div>
<div class="line">  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res &lt; -2^7) {</div>
<div class="line">    res[7:0] = 0x80; OV = 1;</div>
<div class="line">  }</div>
<div class="line">  Rd.B[x] = res[7:0];</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=7...0,</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l18454">18454</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l18455"></a><span class="lineno">18455</span>&#160;{</div>
<div class="line"><a name="l18456"></a><span class="lineno">18456</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l18457"></a><span class="lineno">18457</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;dkslra8 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l18458"></a><span class="lineno">18458</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l18459"></a><span class="lineno">18459</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="gaa5dfb634a380181e51e0636cb216fbb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa5dfb634a380181e51e0636cb216fbb1">&#9670;&nbsp;</a></span>__RV_DKSUB16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long long __RV_DKSUB16 </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DKSUB16 (64-bit SIMD 16-bit Signed Saturating Subtraction) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">DKSUB16 Rd, Rs1, Rs2</div>
<div class="line"><span class="preprocessor"># Rd, Rs1, Rs2 are all even/odd pair of registers</span></div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do 16-bit signed integer elements saturating subtractions simultaneously.</p>
<p><b>Description</b>:<br  />
This instruction subtracts the 16-bit signed integer elements in Rs2 from the 16-bit signed integer elements in Rs1. If any of the results are beyond the Q15 number range (-2^15 &lt;= Q15 &lt;= 2^15-1), they are saturated to the range and the OV bit is set to 1. The saturated results are written to Rd.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">res[x] = Rs1.H[x] - Rs2.H[x];</div>
<div class="line"><span class="keywordflow">if</span> (res[x] &gt; (2^15)-1) {</div>
<div class="line">  res[x] = (2^15)-1;</div>
<div class="line">  OV = 1;</div>
<div class="line">} <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res[x] &lt; -2^15) {</div>
<div class="line">  res[x] = -2^15;</div>
<div class="line">  OV = 1;</div>
<div class="line">}</div>
<div class="line">Rd.H[x] = res[x];</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=3...0,</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned long long type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l18702">18702</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l18703"></a><span class="lineno">18703</span>&#160;{</div>
<div class="line"><a name="l18704"></a><span class="lineno">18704</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l18705"></a><span class="lineno">18705</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;dksub16 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l18706"></a><span class="lineno">18706</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l18707"></a><span class="lineno">18707</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga5dbe06f7b351ff1477851894d6d0c927"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5dbe06f7b351ff1477851894d6d0c927">&#9670;&nbsp;</a></span>__RV_DKSUB8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long long __RV_DKSUB8 </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DKSUB8 (64-bit SIMD 8-bit Signed Saturating Subtraction) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">DKSUB8 Rd, Rs1, Rs2</div>
<div class="line"><span class="preprocessor"># Rd, Rs1, Rs2 are all even/odd pair of registers</span></div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do 8-bit signed elements saturating subtractions simultaneously.</p>
<p><b>Description</b>:<br  />
This instruction subtracts the 8-bit signed integer elements in Rs2 from the 8-bit signed integer elements in Rs1. If any of the results are beyond the Q7 number range (-2^7 &lt;= Q7 &lt;= 2^7-1), they are saturated to the range and the OV bit is set to 1. The saturated results are written to Rd.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">res[x] = Rs1.B[x] - Rs2.B[x];</div>
<div class="line"><span class="keywordflow">if</span> (res[x] &gt; (2^7)-1) {</div>
<div class="line">  res[x] = (2^7)-1;</div>
<div class="line">  OV = 1;</div>
<div class="line">} <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res[x] &lt; -2^7) {</div>
<div class="line">  res[x] = -2^7;</div>
<div class="line">  OV = 1;</div>
<div class="line">}</div>
<div class="line">Rd.B[x] = res[x];</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=7...0,</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned long long type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l18654">18654</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l18655"></a><span class="lineno">18655</span>&#160;{</div>
<div class="line"><a name="l18656"></a><span class="lineno">18656</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l18657"></a><span class="lineno">18657</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;dksub8 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l18658"></a><span class="lineno">18658</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l18659"></a><span class="lineno">18659</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed May 14 2025 04:08:27 for NMSIS-Core by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
