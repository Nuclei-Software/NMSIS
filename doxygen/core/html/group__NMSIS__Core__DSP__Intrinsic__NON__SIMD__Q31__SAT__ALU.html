<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NMSIS-Core: Non-SIMD Q31 saturation ALU Instructions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="nmsis_logo_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NMSIS-Core
   &#160;<span id="projectnumber">Version 1.2.0</span>
   </div>
   <div id="projectbrief">NMSIS-Core support for Nuclei processor-based devices</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Non-SIMD Q31 saturation ALU Instructions<div class="ingroups"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic.html">Intrinsic Functions for SIMD Instructions</a> &raquo; <a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD.html">Non-SIMD Instructions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Non-SIMD Q31 saturation ALU Instructions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gabe1e56e815426d757f416698bcae2529"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#gabe1e56e815426d757f416698bcae2529">__RV_KSLLIW</a>(a,  b)</td></tr>
<tr class="memdesc:gabe1e56e815426d757f416698bcae2529"><td class="mdescLeft">&#160;</td><td class="mdescRight">KSLLIW (Saturating Shift Left Logical Immediate for Word)  <a href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#gabe1e56e815426d757f416698bcae2529">More...</a><br /></td></tr>
<tr class="separator:gabe1e56e815426d757f416698bcae2529"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1bdcf3e62c9328169f9052c3e01a0fd1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga1bdcf3e62c9328169f9052c3e01a0fd1">__RV_KABSW</a> (signed long a)</td></tr>
<tr class="memdesc:ga1bdcf3e62c9328169f9052c3e01a0fd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">KABSW (Scalar 32-bit Absolute Value with Saturation)  <a href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga1bdcf3e62c9328169f9052c3e01a0fd1">More...</a><br /></td></tr>
<tr class="separator:ga1bdcf3e62c9328169f9052c3e01a0fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9faead3db3c1ffb6a8566719b1f46ffa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga9faead3db3c1ffb6a8566719b1f46ffa">__RV_KADDW</a> (int a, int b)</td></tr>
<tr class="memdesc:ga9faead3db3c1ffb6a8566719b1f46ffa"><td class="mdescLeft">&#160;</td><td class="mdescRight">KADDW (Signed Addition with Q31 Saturation)  <a href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga9faead3db3c1ffb6a8566719b1f46ffa">More...</a><br /></td></tr>
<tr class="separator:ga9faead3db3c1ffb6a8566719b1f46ffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7e18b0f1cd5e9110bbb38a058eb01d97"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga7e18b0f1cd5e9110bbb38a058eb01d97">__RV_KDMBB</a> (unsigned int a, unsigned int b)</td></tr>
<tr class="memdesc:ga7e18b0f1cd5e9110bbb38a058eb01d97"><td class="mdescLeft">&#160;</td><td class="mdescRight">KDMBB (Signed Saturating Double Multiply B16 x B16)  <a href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga7e18b0f1cd5e9110bbb38a058eb01d97">More...</a><br /></td></tr>
<tr class="separator:ga7e18b0f1cd5e9110bbb38a058eb01d97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga067179bedfe1e3e48bbd8df87bed48dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga067179bedfe1e3e48bbd8df87bed48dc">__RV_KDMBT</a> (unsigned int a, unsigned int b)</td></tr>
<tr class="memdesc:ga067179bedfe1e3e48bbd8df87bed48dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">KDMBT (Signed Saturating Double Multiply B16 x T16)  <a href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga067179bedfe1e3e48bbd8df87bed48dc">More...</a><br /></td></tr>
<tr class="separator:ga067179bedfe1e3e48bbd8df87bed48dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeac5ef72f33c8014a3f045587046c5de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#gaeac5ef72f33c8014a3f045587046c5de">__RV_KDMTT</a> (unsigned int a, unsigned int b)</td></tr>
<tr class="memdesc:gaeac5ef72f33c8014a3f045587046c5de"><td class="mdescLeft">&#160;</td><td class="mdescRight">KDMTT (Signed Saturating Double Multiply T16 x T16)  <a href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#gaeac5ef72f33c8014a3f045587046c5de">More...</a><br /></td></tr>
<tr class="separator:gaeac5ef72f33c8014a3f045587046c5de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1dfb3b7d81e19adc86e14e98971f3e42"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga1dfb3b7d81e19adc86e14e98971f3e42">__RV_KDMABB</a> (long t, unsigned int a, unsigned int b)</td></tr>
<tr class="memdesc:ga1dfb3b7d81e19adc86e14e98971f3e42"><td class="mdescLeft">&#160;</td><td class="mdescRight">KDMABB (Signed Saturating Double Multiply Addition B16 x B16)  <a href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga1dfb3b7d81e19adc86e14e98971f3e42">More...</a><br /></td></tr>
<tr class="separator:ga1dfb3b7d81e19adc86e14e98971f3e42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga15d10fbf27043451ffe312f61a7356d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga15d10fbf27043451ffe312f61a7356d0">__RV_KDMABT</a> (long t, unsigned int a, unsigned int b)</td></tr>
<tr class="memdesc:ga15d10fbf27043451ffe312f61a7356d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">KDMABT (Signed Saturating Double Multiply Addition B16 x T16)  <a href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga15d10fbf27043451ffe312f61a7356d0">More...</a><br /></td></tr>
<tr class="separator:ga15d10fbf27043451ffe312f61a7356d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga64a75e6b0aecedf02afd2df4458a6ee1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga64a75e6b0aecedf02afd2df4458a6ee1">__RV_KDMATT</a> (long t, unsigned int a, unsigned int b)</td></tr>
<tr class="memdesc:ga64a75e6b0aecedf02afd2df4458a6ee1"><td class="mdescLeft">&#160;</td><td class="mdescRight">KDMATT (Signed Saturating Double Multiply Addition T16 x T16)  <a href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga64a75e6b0aecedf02afd2df4458a6ee1">More...</a><br /></td></tr>
<tr class="separator:ga64a75e6b0aecedf02afd2df4458a6ee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab5dc82aa8b7514f882979a71d88fb154"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#gab5dc82aa8b7514f882979a71d88fb154">__RV_KSLLW</a> (long a, unsigned int b)</td></tr>
<tr class="memdesc:gab5dc82aa8b7514f882979a71d88fb154"><td class="mdescLeft">&#160;</td><td class="mdescRight">KSLLW (Saturating Shift Left Logical for Word)  <a href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#gab5dc82aa8b7514f882979a71d88fb154">More...</a><br /></td></tr>
<tr class="separator:gab5dc82aa8b7514f882979a71d88fb154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a01ea385d7d505ab86f7db697567e5b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga3a01ea385d7d505ab86f7db697567e5b">__RV_KSLRAW</a> (int a, int b)</td></tr>
<tr class="memdesc:ga3a01ea385d7d505ab86f7db697567e5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">KSLRAW (Shift Left Logical with Q31 Saturation or Shift Right Arithmetic)  <a href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga3a01ea385d7d505ab86f7db697567e5b">More...</a><br /></td></tr>
<tr class="separator:ga3a01ea385d7d505ab86f7db697567e5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f23cd90864721f831fefd87acd4182e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga9f23cd90864721f831fefd87acd4182e">__RV_KSLRAW_U</a> (int a, int b)</td></tr>
<tr class="memdesc:ga9f23cd90864721f831fefd87acd4182e"><td class="mdescLeft">&#160;</td><td class="mdescRight">KSLRAW.u (Shift Left Logical with Q31 Saturation or Rounding Shift Right Arithmetic)  <a href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga9f23cd90864721f831fefd87acd4182e">More...</a><br /></td></tr>
<tr class="separator:ga9f23cd90864721f831fefd87acd4182e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a28907bd6cda3a2caa1e2200eafaec3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga2a28907bd6cda3a2caa1e2200eafaec3">__RV_KSUBW</a> (int a, int b)</td></tr>
<tr class="memdesc:ga2a28907bd6cda3a2caa1e2200eafaec3"><td class="mdescLeft">&#160;</td><td class="mdescRight">KSUBW (Signed Subtraction with Q31 Saturation)  <a href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga2a28907bd6cda3a2caa1e2200eafaec3">More...</a><br /></td></tr>
<tr class="separator:ga2a28907bd6cda3a2caa1e2200eafaec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga836b1f78407443c88b5958a7cfb3361f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga836b1f78407443c88b5958a7cfb3361f">__RV_UKADDW</a> (unsigned int a, unsigned int b)</td></tr>
<tr class="memdesc:ga836b1f78407443c88b5958a7cfb3361f"><td class="mdescLeft">&#160;</td><td class="mdescRight">UKADDW (Unsigned Addition with U32 Saturation)  <a href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#ga836b1f78407443c88b5958a7cfb3361f">More...</a><br /></td></tr>
<tr class="separator:ga836b1f78407443c88b5958a7cfb3361f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae102902e2e1e3a606807064ab3ea763f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#gae102902e2e1e3a606807064ab3ea763f">__RV_UKSUBW</a> (unsigned int a, unsigned int b)</td></tr>
<tr class="memdesc:gae102902e2e1e3a606807064ab3ea763f"><td class="mdescLeft">&#160;</td><td class="mdescRight">UKSUBW (Unsigned Subtraction with U32 Saturation)  <a href="group__NMSIS__Core__DSP__Intrinsic__NON__SIMD__Q31__SAT__ALU.html#gae102902e2e1e3a606807064ab3ea763f">More...</a><br /></td></tr>
<tr class="separator:gae102902e2e1e3a606807064ab3ea763f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Non-SIMD Q31 saturation ALU Instructions. </p>
<p>there are Non-SIMD Q31 saturation ALU Instructions </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gabe1e56e815426d757f416698bcae2529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabe1e56e815426d757f416698bcae2529">&#9670;&nbsp;</a></span>__RV_KSLLIW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RV_KSLLIW</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KSLLIW (Saturating Shift Left Logical Immediate for Word) </p>
<p><b>Type</b>: DSP</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">KSLLIW Rd, Rs1, imm5u</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do logical left shift operation with saturation on a 32-bit word. The shift amount is an immediate value.</p>
<p><b>Description</b>:<br  />
The first word data in Rs1 is left-shifted logically. The shifted out bits are filled with zero and the shift amount is specified by the imm5u constant. Any shifted value greater than 2^31-1 is saturated to 2^31-1. Any shifted value smaller than -2^31 is saturated to -2^31. And the saturated result is sign-extended and written to Rd. If any saturation is performed, set OV bit to 1.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">sa = imm5u;</div>
<div class="line">res[(31+sa):0] = Rs1.W[0] &lt;&lt; sa;</div>
<div class="line">if (res &gt; (2^31)-1) {</div>
<div class="line">  res = 0x7fffffff; OV = 1;</div>
<div class="line">} <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res &lt; -2^31) {</div>
<div class="line">  res = 0x80000000; OV = 1;</div>
<div class="line">}</div>
<div class="line">Rd[31:0] = res[31:0]; <span class="comment">// RV32</span></div>
<div class="line">Rd[63:0] = SE(res[31:0]); <span class="comment">// RV64</span></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l04617">4617</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga1bdcf3e62c9328169f9052c3e01a0fd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1bdcf3e62c9328169f9052c3e01a0fd1">&#9670;&nbsp;</a></span>__RV_KABSW()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_KABSW </td>
          <td>(</td>
          <td class="paramtype">signed long&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KABSW (Scalar 32-bit Absolute Value with Saturation) </p>
<p><b>Type</b>: DSP</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">KABSW Rd, Rs1</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Get the absolute value of a signed 32-bit integer in a general register.</p>
<p><b>Description</b>:<br  />
This instruction calculates the absolute value of a signed 32-bit integer stored in Rs1. The result is sign-extended (for RV64) and written to Rd. This instruction with the minimum negative integer input of 0x80000000 will produce a saturated output of maximum positive integer of 0x7fffffff and the OV flag will be set to 1.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (Rs1.W[0] &gt;= 0) {</div>
<div class="line">  res = Rs1.W[0];</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  If (Rs1.W[0] == 0x80000000) {</div>
<div class="line">    res = 0x7fffffff;</div>
<div class="line">    OV = 1;</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    res = -Rs1.W[0];</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line">Rd = SE32(res);</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>signed long type of value stored in a </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l01506">1506</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;{</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;kabsw %0, %1&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a));</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga9faead3db3c1ffb6a8566719b1f46ffa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9faead3db3c1ffb6a8566719b1f46ffa">&#9670;&nbsp;</a></span>__RV_KADDW()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long __RV_KADDW </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KADDW (Signed Addition with Q31 Saturation) </p>
<p><b>Type</b>: DSP</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">KADDW Rd, Rs1, Rs2</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Add the lower 32-bit signed content of two registers with Q31 saturation.</p>
<p><b>Description</b>:<br  />
The lower 32-bit signed content of Rs1 is added with the lower 32-bit signed content of Rs2. And the result is saturated to the 32-bit signed integer range of [-2^31, 2^31-1] and then sign- extended and written to Rd. If saturation happens, this instruction sets the OV flag.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">tmp = Rs1.W[0] + Rs2.W[0];</div>
<div class="line"><span class="keywordflow">if</span> (tmp &gt; (2^31)-1) {</div>
<div class="line">  res = (2^31)-1;</div>
<div class="line">  OV = 1;</div>
<div class="line">} <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp &lt; -2^31) {</div>
<div class="line">  res = -2^31;</div>
<div class="line">  OV = 1</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  res = tmp;</div>
<div class="line">}</div>
<div class="line">Rd = res[31:0]; <span class="comment">// RV32</span></div>
<div class="line">Rd = SE(res[31:0]) <span class="comment">// RV64</span></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>int type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l01761">1761</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;{</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;kaddw %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga1dfb3b7d81e19adc86e14e98971f3e42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1dfb3b7d81e19adc86e14e98971f3e42">&#9670;&nbsp;</a></span>__RV_KDMABB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long __RV_KDMABB </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KDMABB (Signed Saturating Double Multiply Addition B16 x B16) </p>
<p><b>Type</b>: DSP</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">KDMAxy Rd, Rs1, Rs2 (xy = BB, BT, TT)</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Multiply the signed Q15 integer contents of two 16-bit data in the corresponding portion of the lower 32-bit chunk in registers and then double and saturate the Q31 result, add the result with the sign-extended lower 32-bit chunk destination register and write the saturated addition result into the destination register. If saturation happens, an overflow flag OV will be set.</p>
<p><b>Description</b>:<br  />
Multiply the top or bottom 16-bit Q15 content of the lower 32-bit portion in Rs1 with the top or bottom 16-bit Q15 content of the lower 32-bit portion in Rs2. The Q30 result is then doubled and saturated into a Q31 value. The Q31 value is then added with the content of Rd. If the addition result is beyond the Q31 number range (-2^31 &lt;= Q31 &lt;= 2^31-1), it is saturated to the range and the OV flag is set to 1. The result after saturation is written to Rd. When both the two Q15 inputs are 0x8000, saturation will happen and the overflow flag OV will be set.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">aop = Rs1.H[0]; bop = Rs2.H[0]; <span class="comment">// KDMABB</span></div>
<div class="line">aop = Rs1.H[0]; bop = Rs2.H[1]; <span class="comment">// KDMABT</span></div>
<div class="line">aop = Rs1.H[1]; bop = Rs2.H[1]; <span class="comment">// KDMATT</span></div>
<div class="line">If (0x8000 != aop | 0x8000 != bop) {</div>
<div class="line">  Mresult = aop * bop;</div>
<div class="line">  resQ31 = Mresult &lt;&lt; 1;</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  resQ31 = 0x7FFFFFFF;</div>
<div class="line">  OV = 1;</div>
<div class="line">}</div>
<div class="line">resadd = Rd + resQ31; <span class="comment">// RV32</span></div>
<div class="line">resadd = Rd.W[0] + resQ31; <span class="comment">// RV64</span></div>
<div class="line"><span class="keywordflow">if</span> (resadd &gt; (2^31)-1) {</div>
<div class="line">  resadd = (2^31)-1;</div>
<div class="line">  OV = 1;</div>
<div class="line">} <span class="keywordflow">else</span> <span class="keywordflow">if</span> (resadd &lt; -2^31) {</div>
<div class="line">  resadd = -2^31;</div>
<div class="line">  OV = 1;</div>
<div class="line">}</div>
<div class="line">Rd = resadd; <span class="comment">// RV32</span></div>
<div class="line">Rd = SE(resadd); <span class="comment">// RV64</span></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>long type of value stored in t </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned int type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l02105">2105</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;{</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;kdmabb %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;+r&quot;</span>(t) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    <span class="keywordflow">return</span> t;</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga15d10fbf27043451ffe312f61a7356d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga15d10fbf27043451ffe312f61a7356d0">&#9670;&nbsp;</a></span>__RV_KDMABT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long __RV_KDMABT </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KDMABT (Signed Saturating Double Multiply Addition B16 x T16) </p>
<p><b>Type</b>: DSP</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">KDMAxy Rd, Rs1, Rs2 (xy = BB, BT, TT)</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Multiply the signed Q15 integer contents of two 16-bit data in the corresponding portion of the lower 32-bit chunk in registers and then double and saturate the Q31 result, add the result with the sign-extended lower 32-bit chunk destination register and write the saturated addition result into the destination register. If saturation happens, an overflow flag OV will be set.</p>
<p><b>Description</b>:<br  />
Multiply the top or bottom 16-bit Q15 content of the lower 32-bit portion in Rs1 with the top or bottom 16-bit Q15 content of the lower 32-bit portion in Rs2. The Q30 result is then doubled and saturated into a Q31 value. The Q31 value is then added with the content of Rd. If the addition result is beyond the Q31 number range (-2^31 &lt;= Q31 &lt;= 2^31-1), it is saturated to the range and the OV flag is set to 1. The result after saturation is written to Rd. When both the two Q15 inputs are 0x8000, saturation will happen and the overflow flag OV will be set.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">aop = Rs1.H[0]; bop = Rs2.H[0]; <span class="comment">// KDMABB</span></div>
<div class="line">aop = Rs1.H[0]; bop = Rs2.H[1]; <span class="comment">// KDMABT</span></div>
<div class="line">aop = Rs1.H[1]; bop = Rs2.H[1]; <span class="comment">// KDMATT</span></div>
<div class="line">If (0x8000 != aop | 0x8000 != bop) {</div>
<div class="line">  Mresult = aop * bop;</div>
<div class="line">  resQ31 = Mresult &lt;&lt; 1;</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  resQ31 = 0x7FFFFFFF;</div>
<div class="line">  OV = 1;</div>
<div class="line">}</div>
<div class="line">resadd = Rd + resQ31; <span class="comment">// RV32</span></div>
<div class="line">resadd = Rd.W[0] + resQ31; <span class="comment">// RV64</span></div>
<div class="line"><span class="keywordflow">if</span> (resadd &gt; (2^31)-1) {</div>
<div class="line">  resadd = (2^31)-1;</div>
<div class="line">  OV = 1;</div>
<div class="line">} <span class="keywordflow">else</span> <span class="keywordflow">if</span> (resadd &lt; -2^31) {</div>
<div class="line">  resadd = -2^31;</div>
<div class="line">  OV = 1;</div>
<div class="line">}</div>
<div class="line">Rd = resadd; <span class="comment">// RV32</span></div>
<div class="line">Rd = SE(resadd); <span class="comment">// RV64</span></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>long type of value stored in t </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned int type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l02169">2169</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;{</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;kdmabt %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;+r&quot;</span>(t) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    <span class="keywordflow">return</span> t;</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga64a75e6b0aecedf02afd2df4458a6ee1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga64a75e6b0aecedf02afd2df4458a6ee1">&#9670;&nbsp;</a></span>__RV_KDMATT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long __RV_KDMATT </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KDMATT (Signed Saturating Double Multiply Addition T16 x T16) </p>
<p><b>Type</b>: DSP</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">KDMAxy Rd, Rs1, Rs2 (xy = BB, BT, TT)</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Multiply the signed Q15 integer contents of two 16-bit data in the corresponding portion of the lower 32-bit chunk in registers and then double and saturate the Q31 result, add the result with the sign-extended lower 32-bit chunk destination register and write the saturated addition result into the destination register. If saturation happens, an overflow flag OV will be set.</p>
<p><b>Description</b>:<br  />
Multiply the top or bottom 16-bit Q15 content of the lower 32-bit portion in Rs1 with the top or bottom 16-bit Q15 content of the lower 32-bit portion in Rs2. The Q30 result is then doubled and saturated into a Q31 value. The Q31 value is then added with the content of Rd. If the addition result is beyond the Q31 number range (-2^31 &lt;= Q31 &lt;= 2^31-1), it is saturated to the range and the OV flag is set to 1. The result after saturation is written to Rd. When both the two Q15 inputs are 0x8000, saturation will happen and the overflow flag OV will be set.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">aop = Rs1.H[0]; bop = Rs2.H[0]; <span class="comment">// KDMABB</span></div>
<div class="line">aop = Rs1.H[0]; bop = Rs2.H[1]; <span class="comment">// KDMABT</span></div>
<div class="line">aop = Rs1.H[1]; bop = Rs2.H[1]; <span class="comment">// KDMATT</span></div>
<div class="line">If (0x8000 != aop | 0x8000 != bop) {</div>
<div class="line">  Mresult = aop * bop;</div>
<div class="line">  resQ31 = Mresult &lt;&lt; 1;</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  resQ31 = 0x7FFFFFFF;</div>
<div class="line">  OV = 1;</div>
<div class="line">}</div>
<div class="line">resadd = Rd + resQ31; <span class="comment">// RV32</span></div>
<div class="line">resadd = Rd.W[0] + resQ31; <span class="comment">// RV64</span></div>
<div class="line"><span class="keywordflow">if</span> (resadd &gt; (2^31)-1) {</div>
<div class="line">  resadd = (2^31)-1;</div>
<div class="line">  OV = 1;</div>
<div class="line">} <span class="keywordflow">else</span> <span class="keywordflow">if</span> (resadd &lt; -2^31) {</div>
<div class="line">  resadd = -2^31;</div>
<div class="line">  OV = 1;</div>
<div class="line">}</div>
<div class="line">Rd = resadd; <span class="comment">// RV32</span></div>
<div class="line">Rd = SE(resadd); <span class="comment">// RV64</span></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>long type of value stored in t </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned int type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l02233">2233</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;{</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;kdmatt %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;+r&quot;</span>(t) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    <span class="keywordflow">return</span> t;</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga7e18b0f1cd5e9110bbb38a058eb01d97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7e18b0f1cd5e9110bbb38a058eb01d97">&#9670;&nbsp;</a></span>__RV_KDMBB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long __RV_KDMBB </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KDMBB (Signed Saturating Double Multiply B16 x B16) </p>
<p><b>Type</b>: DSP</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">KDMxy Rd, Rs1, Rs2 (xy = BB, BT, TT)</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Multiply the signed Q15 integer contents of two 16-bit data in the corresponding portion of the lower 32-bit chunk in registers and then double and saturate the Q31 result. The result is written into the destination register for RV32 or sign-extended to 64-bits and written into the destination register for RV64. If saturation happens, an overflow flag OV will be set.</p>
<p><b>Description</b>:<br  />
Multiply the top or bottom 16-bit Q15 content of the lower 32-bit portion in Rs1 with the top or bottom 16-bit Q15 content of the lower 32-bit portion in Rs2. The Q30 result is then doubled and saturated into a Q31 value. The Q31 value is then written into Rd (sign-extended in RV64). When both the two Q15 inputs are 0x8000, saturation will happen. The result will be saturated to 0x7FFFFFFF and the overflow flag OV will be set.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">aop = Rs1.H[0]; bop = Rs2.H[0]; <span class="comment">// KDMBB</span></div>
<div class="line">aop = Rs1.H[0]; bop = Rs2.H[1]; <span class="comment">// KDMBT</span></div>
<div class="line">aop = Rs1.H[1]; bop = Rs2.H[1]; <span class="comment">// KDMTT</span></div>
<div class="line">If (0x8000 != aop | 0x8000 != bop) {</div>
<div class="line">  Mresult = aop * bop;</div>
<div class="line">  resQ31 = Mresult &lt;&lt; 1;</div>
<div class="line">  Rd = resQ31; <span class="comment">// RV32</span></div>
<div class="line">  Rd = SE(resQ31); <span class="comment">// RV64</span></div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  resQ31 = 0x7FFFFFFF;</div>
<div class="line">  Rd = resQ31; <span class="comment">// RV32</span></div>
<div class="line">  Rd = SE(resQ31); <span class="comment">// RV64</span></div>
<div class="line">  OV = 1;</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned int type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l01930">1930</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;{</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;kdmbb %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga067179bedfe1e3e48bbd8df87bed48dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga067179bedfe1e3e48bbd8df87bed48dc">&#9670;&nbsp;</a></span>__RV_KDMBT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long __RV_KDMBT </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KDMBT (Signed Saturating Double Multiply B16 x T16) </p>
<p><b>Type</b>: DSP</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">KDMxy Rd, Rs1, Rs2 (xy = BB, BT, TT)</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Multiply the signed Q15 integer contents of two 16-bit data in the corresponding portion of the lower 32-bit chunk in registers and then double and saturate the Q31 result. The result is written into the destination register for RV32 or sign-extended to 64-bits and written into the destination register for RV64. If saturation happens, an overflow flag OV will be set.</p>
<p><b>Description</b>:<br  />
Multiply the top or bottom 16-bit Q15 content of the lower 32-bit portion in Rs1 with the top or bottom 16-bit Q15 content of the lower 32-bit portion in Rs2. The Q30 result is then doubled and saturated into a Q31 value. The Q31 value is then written into Rd (sign-extended in RV64). When both the two Q15 inputs are 0x8000, saturation will happen. The result will be saturated to 0x7FFFFFFF and the overflow flag OV will be set.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">aop = Rs1.H[0]; bop = Rs2.H[0]; <span class="comment">// KDMBB</span></div>
<div class="line">aop = Rs1.H[0]; bop = Rs2.H[1]; <span class="comment">// KDMBT</span></div>
<div class="line">aop = Rs1.H[1]; bop = Rs2.H[1]; <span class="comment">// KDMTT</span></div>
<div class="line">If (0x8000 != aop | 0x8000 != bop) {</div>
<div class="line">  Mresult = aop * bop;</div>
<div class="line">  resQ31 = Mresult &lt;&lt; 1;</div>
<div class="line">  Rd = resQ31; <span class="comment">// RV32</span></div>
<div class="line">  Rd = SE(resQ31); <span class="comment">// RV64</span></div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  resQ31 = 0x7FFFFFFF;</div>
<div class="line">  Rd = resQ31; <span class="comment">// RV32</span></div>
<div class="line">  Rd = SE(resQ31); <span class="comment">// RV64</span></div>
<div class="line">  OV = 1;</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned int type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l01985">1985</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;{</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;kdmbt %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="gaeac5ef72f33c8014a3f045587046c5de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeac5ef72f33c8014a3f045587046c5de">&#9670;&nbsp;</a></span>__RV_KDMTT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long __RV_KDMTT </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KDMTT (Signed Saturating Double Multiply T16 x T16) </p>
<p><b>Type</b>: DSP</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">KDMxy Rd, Rs1, Rs2 (xy = BB, BT, TT)</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Multiply the signed Q15 integer contents of two 16-bit data in the corresponding portion of the lower 32-bit chunk in registers and then double and saturate the Q31 result. The result is written into the destination register for RV32 or sign-extended to 64-bits and written into the destination register for RV64. If saturation happens, an overflow flag OV will be set.</p>
<p><b>Description</b>:<br  />
Multiply the top or bottom 16-bit Q15 content of the lower 32-bit portion in Rs1 with the top or bottom 16-bit Q15 content of the lower 32-bit portion in Rs2. The Q30 result is then doubled and saturated into a Q31 value. The Q31 value is then written into Rd (sign-extended in RV64). When both the two Q15 inputs are 0x8000, saturation will happen. The result will be saturated to 0x7FFFFFFF and the overflow flag OV will be set.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">aop = Rs1.H[0]; bop = Rs2.H[0]; <span class="comment">// KDMBB</span></div>
<div class="line">aop = Rs1.H[0]; bop = Rs2.H[1]; <span class="comment">// KDMBT</span></div>
<div class="line">aop = Rs1.H[1]; bop = Rs2.H[1]; <span class="comment">// KDMTT</span></div>
<div class="line">If (0x8000 != aop | 0x8000 != bop) {</div>
<div class="line">  Mresult = aop * bop;</div>
<div class="line">  resQ31 = Mresult &lt;&lt; 1;</div>
<div class="line">  Rd = resQ31; <span class="comment">// RV32</span></div>
<div class="line">  Rd = SE(resQ31); <span class="comment">// RV64</span></div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  resQ31 = 0x7FFFFFFF;</div>
<div class="line">  Rd = resQ31; <span class="comment">// RV32</span></div>
<div class="line">  Rd = SE(resQ31); <span class="comment">// RV64</span></div>
<div class="line">  OV = 1;</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned int type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l02040">2040</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;{</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;kdmtt %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="gab5dc82aa8b7514f882979a71d88fb154"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab5dc82aa8b7514f882979a71d88fb154">&#9670;&nbsp;</a></span>__RV_KSLLW()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long __RV_KSLLW </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KSLLW (Saturating Shift Left Logical for Word) </p>
<p><b>Type</b>: DSP</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">KSLLW Rd, Rs1, Rs2</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do logical left shift operation with saturation on a 32-bit word. The shift amount is a variable from a GPR.</p>
<p><b>Description</b>:<br  />
The first word data in Rs1 is left-shifted logically. The shifted out bits are filled with zero and the shift amount is specified by the low-order 5-bits of the value in the Rs2 register. Any shifted value greater than 2^31-1 is saturated to 2^31-1. Any shifted value smaller than -2^31 is saturated to -2^31. And the saturated result is sign-extended and written to Rd. If any saturation is performed, set OV bit to 1.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">sa = Rs2[4:0];</div>
<div class="line">res[(31+sa):0] = Rs1.W[0] &lt;&lt; sa;</div>
<div class="line">if (res &gt; (2^31)-1) {</div>
<div class="line">  res = 0x7fffffff; OV = 1;</div>
<div class="line">} <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res &lt; -2^31) {</div>
<div class="line">  res = 0x80000000; OV = 1;</div>
<div class="line">}</div>
<div class="line">Rd[31:0] = res[31:0]; <span class="comment">// RV32</span></div>
<div class="line">Rd[63:0] = SE(res[31:0]); <span class="comment">// RV64</span></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l04570">4570</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;{</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;    <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;ksllw %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga3a01ea385d7d505ab86f7db697567e5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3a01ea385d7d505ab86f7db697567e5b">&#9670;&nbsp;</a></span>__RV_KSLRAW()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long __RV_KSLRAW </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KSLRAW (Shift Left Logical with Q31 Saturation or Shift Right Arithmetic) </p>
<p><b>Type</b>: DSP</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">KSLRAW Rd, Rs1, Rs2</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Perform a logical left (positive) or arithmetic right (negative) shift operation with Q31 saturation for the left shift on a 32-bit data.</p>
<p><b>Description</b>:<br  />
The lower 32-bit content of Rs1 is left-shifted logically or right-shifted arithmetically based on the value of Rs2[5:0]. Rs2[5:0] is in the signed range of [-25, 25-1]. A positive Rs2[5:0] means logical left shift and a negative Rs2[5:0] means arithmetic right shift. The shift amount is the absolute value of Rs2[5:0] clamped to the actual shift range of [0, 31]. The left-shifted result is saturated to the 32-bit signed integer range of [-2^31, 2^31-1]. After the shift operation, the final result is bit-31 sign-extended and written to Rd. If any saturation happens, this instruction sets the OV flag. The value of Rs2[31:6] will not affected the operation of this instruction.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (Rs2[5:0] &lt; 0) {</div>
<div class="line">  sa = -Rs2[5:0];</div>
<div class="line">  sa = (sa == 32)? 31 : sa;</div>
<div class="line">  res[31:0] = Rs1.W[0] &gt;&gt;(arith) sa;</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  sa = Rs2[5:0];</div>
<div class="line">  tmp = Rs1.W[0] &lt;&lt;(logic) sa;</div>
<div class="line">  <span class="keywordflow">if</span> (tmp &gt; (2^31)-1) {</div>
<div class="line">    res[31:0] = (2^31)-1;</div>
<div class="line">    OV = 1;</div>
<div class="line">  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp &lt; -2^31) {</div>
<div class="line">    res[31:0] = -2^31;</div>
<div class="line">    OV = 1</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    res[31:0] = tmp[31:0];</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line">Rd = res[31:0]; <span class="comment">// RV32</span></div>
<div class="line">Rd = SE64(res[31:0]); <span class="comment">// RV64</span></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>int type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l05158">5158</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;{</div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;    <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;kslraw %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga9f23cd90864721f831fefd87acd4182e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f23cd90864721f831fefd87acd4182e">&#9670;&nbsp;</a></span>__RV_KSLRAW_U()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long __RV_KSLRAW_U </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KSLRAW.u (Shift Left Logical with Q31 Saturation or Rounding Shift Right Arithmetic) </p>
<p><b>Type</b>: DSP</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">KSLRAW.u Rd, Rs1, Rs2</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Perform a logical left (positive) or arithmetic right (negative) shift operation with Q31 saturation for the left shift and a rounding up operation for the right shift on a 32-bit data.</p>
<p><b>Description</b>:<br  />
The lower 32-bit content of Rs1 is left-shifted logically or right-shifted arithmetically based on the value of Rs2[5:0]. Rs2[5:0] is in the signed range of [-25, 25-1]. A positive Rs2[5:0] means logical left shift and a negative Rs2[5:0] means arithmetic right shift. The shift amount is the absolute value of Rs2[5:0] clamped to the actual shift range of [0, 31]. The left-shifted result is saturated to the 32-bit signed integer range of [-2^31, 2^31-1]. The right-shifted result is added a 1 to the most significant discarded bit position for rounding effect. After the shift, saturation, or rounding, the final result is bit-31 sign-extended and written to Rd. If any saturation happens, this instruction sets the OV flag. The value of Rs2[31:6] will not affect the operation of this instruction.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (Rs2[5:0] &lt; 0) {</div>
<div class="line">  sa = -Rs2[5:0];</div>
<div class="line">  sa = (sa == 32)? 31 : sa;</div>
<div class="line">  res[31:-1] = SE33(Rs1[31:(sa-1)]) + 1;</div>
<div class="line">  rst[31:0] = res[31:0];</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  sa = Rs2[5:0];</div>
<div class="line">  tmp = Rs1.W[0] &lt;&lt;(logic) sa;</div>
<div class="line">  <span class="keywordflow">if</span> (tmp &gt; (2^31)-1) {</div>
<div class="line">    rst[31:0] = (2^31)-1;</div>
<div class="line">    OV = 1;</div>
<div class="line">  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp &lt; -2^31) {</div>
<div class="line">    rst[31:0] = -2^31;</div>
<div class="line">    OV = 1</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    rst[31:0] = tmp[31:0];</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line">Rd = rst[31:0]; <span class="comment">// RV32</span></div>
<div class="line">Rd = SE64(rst[31:0]); <span class="comment">// RV64</span></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>int type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l05221">5221</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;{</div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;    <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;kslraw.u %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga2a28907bd6cda3a2caa1e2200eafaec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2a28907bd6cda3a2caa1e2200eafaec3">&#9670;&nbsp;</a></span>__RV_KSUBW()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> long __RV_KSUBW </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KSUBW (Signed Subtraction with Q31 Saturation) </p>
<p><b>Type</b>: DSP</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">KSUBW Rd, Rs1, Rs2</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Subtract the signed lower 32-bit content of two registers with Q31 saturation.</p>
<p><b>Description</b>:<br  />
The signed lower 32-bit content of Rs2 is subtracted from the signed lower 32-bit content of Rs1. And the result is saturated to the 32-bit signed integer range of [-2^31, 2^31-1] and then sign-extened and written to Rd. If saturation happens, this instruction sets the OV flag.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">tmp = Rs1.W[0] - Rs2.W[0];</div>
<div class="line"><span class="keywordflow">if</span> (tmp &gt; (2^31)-1) {</div>
<div class="line">  res = (2^31)-1;</div>
<div class="line">  OV = 1;</div>
<div class="line">} <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp &lt; -2^31) {</div>
<div class="line">res = -2^31;</div>
<div class="line">  OV = 1</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  res = tmp;</div>
<div class="line">}</div>
<div class="line">Rd = res[31:0]; <span class="comment">// RV32</span></div>
<div class="line">Rd = SE(res[31:0]); <span class="comment">// RV64</span></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>int type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l05591">5591</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;{</div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;    <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;ksubw %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga836b1f78407443c88b5958a7cfb3361f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga836b1f78407443c88b5958a7cfb3361f">&#9670;&nbsp;</a></span>__RV_UKADDW()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_UKADDW </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UKADDW (Unsigned Addition with U32 Saturation) </p>
<p><b>Type</b>: DSP</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">UKADDW Rd, Rs1, Rs2</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Add the unsigned lower 32-bit content of two registers with U32 saturation.</p>
<p><b>Description</b>:<br  />
The unsigned lower 32-bit content of Rs1 is added with the unsigned lower 32-bit content of Rs2. And the result is saturated to the 32-bit unsigned integer range of [0, 2^32-1] and then sign-extended and written to Rd. If saturation happens, this instruction sets the OV flag.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">tmp = Rs1.W[0] + Rs2.W[0];</div>
<div class="line"><span class="keywordflow">if</span> (tmp &gt; (2^32)-1) {</div>
<div class="line">  tmp[31:0] = (2^32)-1;</div>
<div class="line">  OV = 1;</div>
<div class="line">}</div>
<div class="line">Rd = tmp[31:0]; <span class="comment">// RV32</span></div>
<div class="line">Rd = SE(tmp[31:0]); <span class="comment">// RV64</span></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned int type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l11609">11609</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l11610"></a><span class="lineno">11610</span>&#160;{</div>
<div class="line"><a name="l11611"></a><span class="lineno">11611</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l11612"></a><span class="lineno">11612</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;ukaddw %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l11613"></a><span class="lineno">11613</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l11614"></a><span class="lineno">11614</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="gae102902e2e1e3a606807064ab3ea763f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae102902e2e1e3a606807064ab3ea763f">&#9670;&nbsp;</a></span>__RV_UKSUBW()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_UKSUBW </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UKSUBW (Unsigned Subtraction with U32 Saturation) </p>
<p><b>Type</b>: DSP</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">UKSUBW Rd, Rs1, Rs2</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Subtract the unsigned lower 32-bit content of two registers with unsigned 32-bit saturation.</p>
<p><b>Description</b>:<br  />
The unsigned lower 32-bit content of Rs2 is subtracted from the unsigned lower 32-bit content of Rs1. And the result is saturated to the 32-bit unsigned integer range of [0, 2^32-1] and then sign-extended and written to Rd. If saturation happens, this instruction sets the OV flag.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">tmp = Rs1.W[0] - Rs2.W[0];</div>
<div class="line"><span class="keywordflow">if</span> (tmp &lt; 0) {</div>
<div class="line">  tmp[31:0] = 0;</div>
<div class="line">  OV = 1;</div>
<div class="line">}</div>
<div class="line">Rd = tmp[31:0]; <span class="comment">// RV32</span></div>
<div class="line">Rd = SE(tmp[31:0]); <span class="comment">// RV64</span></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned int type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l12203">12203</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l12204"></a><span class="lineno">12204</span>&#160;{</div>
<div class="line"><a name="l12205"></a><span class="lineno">12205</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l12206"></a><span class="lineno">12206</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;uksubw %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l12207"></a><span class="lineno">12207</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l12208"></a><span class="lineno">12208</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__NMSIS__Core__CompilerControl_html_ga1378040bcf22428955c6e3ce9c2053cd"><div class="ttname"><a href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a></div><div class="ttdeci">#define __ASM</div><div class="ttdoc">Pass information from the compiler to the assembler.</div><div class="ttdef"><b>Definition:</b> <a href="nmsis__gcc_8h_source.html#l00055">nmsis_gcc.h:55</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Nov 3 2023 09:15:53 for NMSIS-Core by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
