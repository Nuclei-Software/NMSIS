<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NMSIS-Core: (RV64 Only) SIMD Q15 Saturating Multiply Instructions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="nmsis_logo_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NMSIS-Core
   &#160;<span id="projectnumber">Version 1.0.2</span>
   </div>
   <div id="projectbrief">NMSIS-Core support for Nuclei processor-based devices</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__NMSIS__Core__DSP__Intrinsic__RV64__SIMD__Q15__SAT__MULT.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">(RV64 Only) SIMD Q15 Saturating Multiply Instructions<div class="ingroups"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic.html">Intrinsic Functions for SIMD Instructions</a> &raquo; <a class="el" href="group__NMSIS__Core__DSP__Intrinsic__RV64__ONLY.html">RV64 Only Instructions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>(RV64 Only) SIMD Q15 Saturating Multiply Instructions  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2ef54e3c36ac953d6b0c5505bcb82fa7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__RV64__SIMD__Q15__SAT__MULT.html#ga2ef54e3c36ac953d6b0c5505bcb82fa7">__RV_KDMBB16</a> (unsigned long a, unsigned long b)</td></tr>
<tr class="memdesc:ga2ef54e3c36ac953d6b0c5505bcb82fa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">KDMBB16 (SIMD Signed Saturating Double Multiply B16 x B16)  <a href="#ga2ef54e3c36ac953d6b0c5505bcb82fa7">More...</a><br /></td></tr>
<tr class="separator:ga2ef54e3c36ac953d6b0c5505bcb82fa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaabd178e790fb3e2f172efe367869982e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__RV64__SIMD__Q15__SAT__MULT.html#gaabd178e790fb3e2f172efe367869982e">__RV_KDMBT16</a> (unsigned long a, unsigned long b)</td></tr>
<tr class="memdesc:gaabd178e790fb3e2f172efe367869982e"><td class="mdescLeft">&#160;</td><td class="mdescRight">KDMBT16 (SIMD Signed Saturating Double Multiply B16 x T16)  <a href="#gaabd178e790fb3e2f172efe367869982e">More...</a><br /></td></tr>
<tr class="separator:gaabd178e790fb3e2f172efe367869982e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05495c1787257dcc91b826929f7185c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__RV64__SIMD__Q15__SAT__MULT.html#ga05495c1787257dcc91b826929f7185c7">__RV_KDMTT16</a> (unsigned long a, unsigned long b)</td></tr>
<tr class="memdesc:ga05495c1787257dcc91b826929f7185c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">KDMTT16 (SIMD Signed Saturating Double Multiply T16 x T16)  <a href="#ga05495c1787257dcc91b826929f7185c7">More...</a><br /></td></tr>
<tr class="separator:ga05495c1787257dcc91b826929f7185c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ac7979002270bfa658be6a6e041c5f9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__RV64__SIMD__Q15__SAT__MULT.html#ga2ac7979002270bfa658be6a6e041c5f9">__RV_KDMABB16</a> (unsigned long t, unsigned long a, unsigned long b)</td></tr>
<tr class="memdesc:ga2ac7979002270bfa658be6a6e041c5f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">KDMABB16 (SIMD Signed Saturating Double Multiply Addition B16 x B16)  <a href="#ga2ac7979002270bfa658be6a6e041c5f9">More...</a><br /></td></tr>
<tr class="separator:ga2ac7979002270bfa658be6a6e041c5f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga180a49b034ce67949bc0db6bfbdce058"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__RV64__SIMD__Q15__SAT__MULT.html#ga180a49b034ce67949bc0db6bfbdce058">__RV_KDMABT16</a> (unsigned long t, unsigned long a, unsigned long b)</td></tr>
<tr class="memdesc:ga180a49b034ce67949bc0db6bfbdce058"><td class="mdescLeft">&#160;</td><td class="mdescRight">KDMABT16 (SIMD Signed Saturating Double Multiply Addition B16 x T16)  <a href="#ga180a49b034ce67949bc0db6bfbdce058">More...</a><br /></td></tr>
<tr class="separator:ga180a49b034ce67949bc0db6bfbdce058"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga952ad06fdf63f05d19c3bc4a2a8cc9b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__RV64__SIMD__Q15__SAT__MULT.html#ga952ad06fdf63f05d19c3bc4a2a8cc9b8">__RV_KDMATT16</a> (unsigned long t, unsigned long a, unsigned long b)</td></tr>
<tr class="memdesc:ga952ad06fdf63f05d19c3bc4a2a8cc9b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">KDMATT16 (SIMD Signed Saturating Double Multiply Addition T16 x T16)  <a href="#ga952ad06fdf63f05d19c3bc4a2a8cc9b8">More...</a><br /></td></tr>
<tr class="separator:ga952ad06fdf63f05d19c3bc4a2a8cc9b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga58ec69e4c58f7cb34556ef4f4a153615"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__RV64__SIMD__Q15__SAT__MULT.html#ga58ec69e4c58f7cb34556ef4f4a153615">__RV_KHMBB16</a> (unsigned long a, unsigned long b)</td></tr>
<tr class="memdesc:ga58ec69e4c58f7cb34556ef4f4a153615"><td class="mdescLeft">&#160;</td><td class="mdescRight">KHMBB16 (SIMD Signed Saturating Half Multiply B16 x B16)  <a href="#ga58ec69e4c58f7cb34556ef4f4a153615">More...</a><br /></td></tr>
<tr class="separator:ga58ec69e4c58f7cb34556ef4f4a153615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga30da509f228f12e85fccc10646cebc28"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__RV64__SIMD__Q15__SAT__MULT.html#ga30da509f228f12e85fccc10646cebc28">__RV_KHMBT16</a> (unsigned long a, unsigned long b)</td></tr>
<tr class="memdesc:ga30da509f228f12e85fccc10646cebc28"><td class="mdescLeft">&#160;</td><td class="mdescRight">KHMBT16 (SIMD Signed Saturating Half Multiply B16 x T16)  <a href="#ga30da509f228f12e85fccc10646cebc28">More...</a><br /></td></tr>
<tr class="separator:ga30da509f228f12e85fccc10646cebc28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga93e865bc3f39a52053267fdce080a7a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__RV64__SIMD__Q15__SAT__MULT.html#ga93e865bc3f39a52053267fdce080a7a1">__RV_KHMTT16</a> (unsigned long a, unsigned long b)</td></tr>
<tr class="memdesc:ga93e865bc3f39a52053267fdce080a7a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">KHMTT16 (SIMD Signed Saturating Half Multiply T16 x T16)  <a href="#ga93e865bc3f39a52053267fdce080a7a1">More...</a><br /></td></tr>
<tr class="separator:ga93e865bc3f39a52053267fdce080a7a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>(RV64 Only) SIMD Q15 Saturating Multiply Instructions </p>
<p>there are 9 (RV64 Only) SIMD Q15 saturating Multiply Instructions </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga2ac7979002270bfa658be6a6e041c5f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2ac7979002270bfa658be6a6e041c5f9">&#9670;&nbsp;</a></span>__RV_KDMABB16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_KDMABB16 </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KDMABB16 (SIMD Signed Saturating Double Multiply Addition B16 x B16) </p>
<p><b>Type</b>: SIMD (RV64 only)</p>
<p><b>Syntax</b>:<br />
</p><div class="fragment"><div class="line">KDMAxy16 Rd, Rs1, Rs2 (xy = BB, BT, TT)</div></div><!-- fragment --><p><b>Purpose</b>:<br />
Multiply the signed Q15 integer contents of two 16-bit data in the corresponding portion of the 32-bit chunks in registers and then double and saturate the Q31 results, add the results with the values of the corresponding 32-bit chunks from the destination register and write the saturated addition results back into the corresponding 32-bit chunks of the destination register. If saturation happens, an overflow flag OV will be set.</p>
<p><b>Description</b>:<br />
Multiply the top or bottom 16-bit Q15 content of the 32-bit portions in Rs1 with the top or bottom 16-bit Q15 content of the corresponding 32-bit portions in Rs2. The Q30 results are then doubled and saturated into Q31 values. The Q31 values are then added with the content of the corresponding 32-bit portions of Rd. If the addition results are beyond the Q31 number range (-2^31 &lt;= Q31 &lt;= 2^31-1), they are saturated to the range and the OV flag is set to 1. The results after saturation are written back to Rd. When both the two Q15 inputs are 0x8000, saturation will happen and the overflow flag OV will be set.</p>
<p><b>Operations</b>:<br />
</p><div class="fragment"><div class="line"><span class="comment">// KDMABB16: (x,y,z)=(0,0,0),(2,2,1)</span></div><div class="line"><span class="comment">// KDMABT16: (x,y,z)=(0,1,0),(2,3,1)</span></div><div class="line"><span class="comment">// KDMATT16: (x,y,z)=(1,1,0),(3,3,1)</span></div><div class="line">aop[z] = Rs1.H[x]; bop[z] = Rs2.H[y];</div><div class="line">If (0x8000 != aop[z] | 0x8000 != bop[z]) {</div><div class="line">  Mresult[z] = aop[z] * bop[z];</div><div class="line">  resQ31[z] = Mresult[z] &lt;&lt; 1;</div><div class="line">} <span class="keywordflow">else</span> {</div><div class="line">  resQ31[z] = 0x7FFFFFFF;</div><div class="line">  OV = 1;</div><div class="line">}</div><div class="line">resadd[z] = Rd.W[z] + resQ31[z];</div><div class="line"><span class="keywordflow">if</span> (resadd[z] &gt; (2^31)-1) {</div><div class="line">  resadd[z] = (2^31)-1;</div><div class="line">  OV = 1;</div><div class="line">} <span class="keywordflow">else</span> <span class="keywordflow">if</span> (resadd[z] &lt; -2^31) {</div><div class="line">  resadd[z] = -2^31;</div><div class="line">  OV = 1;</div><div class="line">}</div><div class="line">Rd.W[z] = resadd[z];</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>unsigned long type of value stored in t </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned long type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l14319">14319</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>

<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00059">__ASM</a>.</p>
<div class="fragment"><div class="line"><a name="l14320"></a><span class="lineno">14320</span>&#160;{</div><div class="line"><a name="l14321"></a><span class="lineno">14321</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;kdmabb16 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;+r&quot;</span>(t) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div><div class="line"><a name="l14322"></a><span class="lineno">14322</span>&#160;    <span class="keywordflow">return</span> t;</div><div class="line"><a name="l14323"></a><span class="lineno">14323</span>&#160;}</div><div class="ttc" id="group__NMSIS__Core__CompilerControl_html_ga1378040bcf22428955c6e3ce9c2053cd"><div class="ttname"><a href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a></div><div class="ttdeci">#define __ASM</div><div class="ttdoc">Pass information from the compiler to the assembler. </div><div class="ttdef"><b>Definition:</b> <a href="nmsis__gcc_8h_source.html#l00059">nmsis_gcc.h:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga180a49b034ce67949bc0db6bfbdce058"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga180a49b034ce67949bc0db6bfbdce058">&#9670;&nbsp;</a></span>__RV_KDMABT16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_KDMABT16 </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KDMABT16 (SIMD Signed Saturating Double Multiply Addition B16 x T16) </p>
<p><b>Type</b>: SIMD (RV64 only)</p>
<p><b>Syntax</b>:<br />
</p><div class="fragment"><div class="line">KDMAxy16 Rd, Rs1, Rs2 (xy = BB, BT, TT)</div></div><!-- fragment --><p><b>Purpose</b>:<br />
Multiply the signed Q15 integer contents of two 16-bit data in the corresponding portion of the 32-bit chunks in registers and then double and saturate the Q31 results, add the results with the values of the corresponding 32-bit chunks from the destination register and write the saturated addition results back into the corresponding 32-bit chunks of the destination register. If saturation happens, an overflow flag OV will be set.</p>
<p><b>Description</b>:<br />
Multiply the top or bottom 16-bit Q15 content of the 32-bit portions in Rs1 with the top or bottom 16-bit Q15 content of the corresponding 32-bit portions in Rs2. The Q30 results are then doubled and saturated into Q31 values. The Q31 values are then added with the content of the corresponding 32-bit portions of Rd. If the addition results are beyond the Q31 number range (-2^31 &lt;= Q31 &lt;= 2^31-1), they are saturated to the range and the OV flag is set to 1. The results after saturation are written back to Rd. When both the two Q15 inputs are 0x8000, saturation will happen and the overflow flag OV will be set.</p>
<p><b>Operations</b>:<br />
</p><div class="fragment"><div class="line"><span class="comment">// KDMABB16: (x,y,z)=(0,0,0),(2,2,1)</span></div><div class="line"><span class="comment">// KDMABT16: (x,y,z)=(0,1,0),(2,3,1)</span></div><div class="line"><span class="comment">// KDMATT16: (x,y,z)=(1,1,0),(3,3,1)</span></div><div class="line">aop[z] = Rs1.H[x]; bop[z] = Rs2.H[y];</div><div class="line">If (0x8000 != aop[z] | 0x8000 != bop[z]) {</div><div class="line">  Mresult[z] = aop[z] * bop[z];</div><div class="line">  resQ31[z] = Mresult[z] &lt;&lt; 1;</div><div class="line">} <span class="keywordflow">else</span> {</div><div class="line">  resQ31[z] = 0x7FFFFFFF;</div><div class="line">  OV = 1;</div><div class="line">}</div><div class="line">resadd[z] = Rd.W[z] + resQ31[z];</div><div class="line"><span class="keywordflow">if</span> (resadd[z] &gt; (2^31)-1) {</div><div class="line">  resadd[z] = (2^31)-1;</div><div class="line">  OV = 1;</div><div class="line">} <span class="keywordflow">else</span> <span class="keywordflow">if</span> (resadd[z] &lt; -2^31) {</div><div class="line">  resadd[z] = -2^31;</div><div class="line">  OV = 1;</div><div class="line">}</div><div class="line">Rd.W[z] = resadd[z];</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>unsigned long type of value stored in t </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned long type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l14384">14384</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>

<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00059">__ASM</a>.</p>
<div class="fragment"><div class="line"><a name="l14385"></a><span class="lineno">14385</span>&#160;{</div><div class="line"><a name="l14386"></a><span class="lineno">14386</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;kdmabt16 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;+r&quot;</span>(t) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div><div class="line"><a name="l14387"></a><span class="lineno">14387</span>&#160;    <span class="keywordflow">return</span> t;</div><div class="line"><a name="l14388"></a><span class="lineno">14388</span>&#160;}</div><div class="ttc" id="group__NMSIS__Core__CompilerControl_html_ga1378040bcf22428955c6e3ce9c2053cd"><div class="ttname"><a href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a></div><div class="ttdeci">#define __ASM</div><div class="ttdoc">Pass information from the compiler to the assembler. </div><div class="ttdef"><b>Definition:</b> <a href="nmsis__gcc_8h_source.html#l00059">nmsis_gcc.h:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga952ad06fdf63f05d19c3bc4a2a8cc9b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga952ad06fdf63f05d19c3bc4a2a8cc9b8">&#9670;&nbsp;</a></span>__RV_KDMATT16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_KDMATT16 </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KDMATT16 (SIMD Signed Saturating Double Multiply Addition T16 x T16) </p>
<p><b>Type</b>: SIMD (RV64 only)</p>
<p><b>Syntax</b>:<br />
</p><div class="fragment"><div class="line">KDMAxy16 Rd, Rs1, Rs2 (xy = BB, BT, TT)</div></div><!-- fragment --><p><b>Purpose</b>:<br />
Multiply the signed Q15 integer contents of two 16-bit data in the corresponding portion of the 32-bit chunks in registers and then double and saturate the Q31 results, add the results with the values of the corresponding 32-bit chunks from the destination register and write the saturated addition results back into the corresponding 32-bit chunks of the destination register. If saturation happens, an overflow flag OV will be set.</p>
<p><b>Description</b>:<br />
Multiply the top or bottom 16-bit Q15 content of the 32-bit portions in Rs1 with the top or bottom 16-bit Q15 content of the corresponding 32-bit portions in Rs2. The Q30 results are then doubled and saturated into Q31 values. The Q31 values are then added with the content of the corresponding 32-bit portions of Rd. If the addition results are beyond the Q31 number range (-2^31 &lt;= Q31 &lt;= 2^31-1), they are saturated to the range and the OV flag is set to 1. The results after saturation are written back to Rd. When both the two Q15 inputs are 0x8000, saturation will happen and the overflow flag OV will be set.</p>
<p><b>Operations</b>:<br />
</p><div class="fragment"><div class="line"><span class="comment">// KDMABB16: (x,y,z)=(0,0,0),(2,2,1)</span></div><div class="line"><span class="comment">// KDMABT16: (x,y,z)=(0,1,0),(2,3,1)</span></div><div class="line"><span class="comment">// KDMATT16: (x,y,z)=(1,1,0),(3,3,1)</span></div><div class="line">aop[z] = Rs1.H[x]; bop[z] = Rs2.H[y];</div><div class="line">If (0x8000 != aop[z] | 0x8000 != bop[z]) {</div><div class="line">  Mresult[z] = aop[z] * bop[z];</div><div class="line">  resQ31[z] = Mresult[z] &lt;&lt; 1;</div><div class="line">} <span class="keywordflow">else</span> {</div><div class="line">  resQ31[z] = 0x7FFFFFFF;</div><div class="line">  OV = 1;</div><div class="line">}</div><div class="line">resadd[z] = Rd.W[z] + resQ31[z];</div><div class="line"><span class="keywordflow">if</span> (resadd[z] &gt; (2^31)-1) {</div><div class="line">  resadd[z] = (2^31)-1;</div><div class="line">  OV = 1;</div><div class="line">} <span class="keywordflow">else</span> <span class="keywordflow">if</span> (resadd[z] &lt; -2^31) {</div><div class="line">  resadd[z] = -2^31;</div><div class="line">  OV = 1;</div><div class="line">}</div><div class="line">Rd.W[z] = resadd[z];</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>unsigned long type of value stored in t </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned long type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l14449">14449</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>

<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00059">__ASM</a>.</p>
<div class="fragment"><div class="line"><a name="l14450"></a><span class="lineno">14450</span>&#160;{</div><div class="line"><a name="l14451"></a><span class="lineno">14451</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;kdmatt16 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;+r&quot;</span>(t) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div><div class="line"><a name="l14452"></a><span class="lineno">14452</span>&#160;    <span class="keywordflow">return</span> t;</div><div class="line"><a name="l14453"></a><span class="lineno">14453</span>&#160;}</div><div class="ttc" id="group__NMSIS__Core__CompilerControl_html_ga1378040bcf22428955c6e3ce9c2053cd"><div class="ttname"><a href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a></div><div class="ttdeci">#define __ASM</div><div class="ttdoc">Pass information from the compiler to the assembler. </div><div class="ttdef"><b>Definition:</b> <a href="nmsis__gcc_8h_source.html#l00059">nmsis_gcc.h:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga2ef54e3c36ac953d6b0c5505bcb82fa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2ef54e3c36ac953d6b0c5505bcb82fa7">&#9670;&nbsp;</a></span>__RV_KDMBB16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_KDMBB16 </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KDMBB16 (SIMD Signed Saturating Double Multiply B16 x B16) </p>
<p><b>Type</b>: SIMD (RV64 only)</p>
<p><b>Syntax</b>:<br />
</p><div class="fragment"><div class="line">KDMxy16 Rd, Rs1, Rs2 (xy = BB, BT, TT)</div></div><!-- fragment --><p><b>Purpose</b>:<br />
Multiply the signed Q15 integer contents of two 16-bit data in the corresponding portion of the 32-bit chunks in registers and then double and saturate the Q31 results into the 32-bit chunks in the destination register. If saturation happens, an overflow flag OV will be set.</p>
<p><b>Description</b>:<br />
Multiply the top or bottom 16-bit Q15 content of the 32-bit portions in Rs1 with the top or bottom 16-bit Q15 content of the 32-bit portions in Rs2. The Q30 results are then doubled and saturated into Q31 values. The Q31 values are then written into the 32-bit chunks in Rd. When both the two Q15 inputs are 0x8000, saturation will happen. The result will be saturated to 0x7FFFFFFF and the overflow flag OV will be set.</p>
<p><b>Operations</b>:<br />
</p><div class="fragment"><div class="line"><span class="comment">// KDMBB16: (x,y,z)=(0,0,0),(2,2,1)</span></div><div class="line"><span class="comment">// KDMBT16: (x,y,z)=(0,1,0),(2,3,1)</span></div><div class="line"><span class="comment">// KDMTT16: (x,y,z)=(1,1,0),(3,3,1)</span></div><div class="line">aop[z] = Rs1.H[x]; bop[z] = Rs2.H[y];</div><div class="line">If (0x8000 != aop[z] | 0x8000 != bop[z]) {</div><div class="line">  Mresult[z] = aop[z] * bop[z];</div><div class="line">  resQ31[z] = Mresult[z] &lt;&lt; 1;</div><div class="line">} <span class="keywordflow">else</span> {</div><div class="line">  resQ31[z] = 0x7FFFFFFF;</div><div class="line">  OV = 1;</div><div class="line">}</div><div class="line">Rd.W[z] = resQ31[z];</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned long type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l14149">14149</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>

<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00059">__ASM</a>.</p>
<div class="fragment"><div class="line"><a name="l14150"></a><span class="lineno">14150</span>&#160;{</div><div class="line"><a name="l14151"></a><span class="lineno">14151</span>&#160;    <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> result;</div><div class="line"><a name="l14152"></a><span class="lineno">14152</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;kdmbb16 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div><div class="line"><a name="l14153"></a><span class="lineno">14153</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l14154"></a><span class="lineno">14154</span>&#160;}</div><div class="ttc" id="group__NMSIS__Core__CompilerControl_html_ga1378040bcf22428955c6e3ce9c2053cd"><div class="ttname"><a href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a></div><div class="ttdeci">#define __ASM</div><div class="ttdoc">Pass information from the compiler to the assembler. </div><div class="ttdef"><b>Definition:</b> <a href="nmsis__gcc_8h_source.html#l00059">nmsis_gcc.h:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gaabd178e790fb3e2f172efe367869982e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaabd178e790fb3e2f172efe367869982e">&#9670;&nbsp;</a></span>__RV_KDMBT16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_KDMBT16 </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KDMBT16 (SIMD Signed Saturating Double Multiply B16 x T16) </p>
<p><b>Type</b>: SIMD (RV64 only)</p>
<p><b>Syntax</b>:<br />
</p><div class="fragment"><div class="line">KDMxy16 Rd, Rs1, Rs2 (xy = BB, BT, TT)</div></div><!-- fragment --><p><b>Purpose</b>:<br />
Multiply the signed Q15 integer contents of two 16-bit data in the corresponding portion of the 32-bit chunks in registers and then double and saturate the Q31 results into the 32-bit chunks in the destination register. If saturation happens, an overflow flag OV will be set.</p>
<p><b>Description</b>:<br />
Multiply the top or bottom 16-bit Q15 content of the 32-bit portions in Rs1 with the top or bottom 16-bit Q15 content of the 32-bit portions in Rs2. The Q30 results are then doubled and saturated into Q31 values. The Q31 values are then written into the 32-bit chunks in Rd. When both the two Q15 inputs are 0x8000, saturation will happen. The result will be saturated to 0x7FFFFFFF and the overflow flag OV will be set.</p>
<p><b>Operations</b>:<br />
</p><div class="fragment"><div class="line"><span class="comment">// KDMBB16: (x,y,z)=(0,0,0),(2,2,1)</span></div><div class="line"><span class="comment">// KDMBT16: (x,y,z)=(0,1,0),(2,3,1)</span></div><div class="line"><span class="comment">// KDMTT16: (x,y,z)=(1,1,0),(3,3,1)</span></div><div class="line">aop[z] = Rs1.H[x]; bop[z] = Rs2.H[y];</div><div class="line">If (0x8000 != aop[z] | 0x8000 != bop[z]) {</div><div class="line">  Mresult[z] = aop[z] * bop[z];</div><div class="line">  resQ31[z] = Mresult[z] &lt;&lt; 1;</div><div class="line">} <span class="keywordflow">else</span> {</div><div class="line">  resQ31[z] = 0x7FFFFFFF;</div><div class="line">  OV = 1;</div><div class="line">}</div><div class="line">Rd.W[z] = resQ31[z];</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned long type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l14201">14201</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>

<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00059">__ASM</a>.</p>
<div class="fragment"><div class="line"><a name="l14202"></a><span class="lineno">14202</span>&#160;{</div><div class="line"><a name="l14203"></a><span class="lineno">14203</span>&#160;    <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> result;</div><div class="line"><a name="l14204"></a><span class="lineno">14204</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;kdmbt16 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div><div class="line"><a name="l14205"></a><span class="lineno">14205</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l14206"></a><span class="lineno">14206</span>&#160;}</div><div class="ttc" id="group__NMSIS__Core__CompilerControl_html_ga1378040bcf22428955c6e3ce9c2053cd"><div class="ttname"><a href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a></div><div class="ttdeci">#define __ASM</div><div class="ttdoc">Pass information from the compiler to the assembler. </div><div class="ttdef"><b>Definition:</b> <a href="nmsis__gcc_8h_source.html#l00059">nmsis_gcc.h:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga05495c1787257dcc91b826929f7185c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga05495c1787257dcc91b826929f7185c7">&#9670;&nbsp;</a></span>__RV_KDMTT16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_KDMTT16 </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KDMTT16 (SIMD Signed Saturating Double Multiply T16 x T16) </p>
<p><b>Type</b>: SIMD (RV64 only)</p>
<p><b>Syntax</b>:<br />
</p><div class="fragment"><div class="line">KDMxy16 Rd, Rs1, Rs2 (xy = BB, BT, TT)</div></div><!-- fragment --><p><b>Purpose</b>:<br />
Multiply the signed Q15 integer contents of two 16-bit data in the corresponding portion of the 32-bit chunks in registers and then double and saturate the Q31 results into the 32-bit chunks in the destination register. If saturation happens, an overflow flag OV will be set.</p>
<p><b>Description</b>:<br />
Multiply the top or bottom 16-bit Q15 content of the 32-bit portions in Rs1 with the top or bottom 16-bit Q15 content of the 32-bit portions in Rs2. The Q30 results are then doubled and saturated into Q31 values. The Q31 values are then written into the 32-bit chunks in Rd. When both the two Q15 inputs are 0x8000, saturation will happen. The result will be saturated to 0x7FFFFFFF and the overflow flag OV will be set.</p>
<p><b>Operations</b>:<br />
</p><div class="fragment"><div class="line"><span class="comment">// KDMBB16: (x,y,z)=(0,0,0),(2,2,1)</span></div><div class="line"><span class="comment">// KDMBT16: (x,y,z)=(0,1,0),(2,3,1)</span></div><div class="line"><span class="comment">// KDMTT16: (x,y,z)=(1,1,0),(3,3,1)</span></div><div class="line">aop[z] = Rs1.H[x]; bop[z] = Rs2.H[y];</div><div class="line">If (0x8000 != aop[z] | 0x8000 != bop[z]) {</div><div class="line">  Mresult[z] = aop[z] * bop[z];</div><div class="line">  resQ31[z] = Mresult[z] &lt;&lt; 1;</div><div class="line">} <span class="keywordflow">else</span> {</div><div class="line">  resQ31[z] = 0x7FFFFFFF;</div><div class="line">  OV = 1;</div><div class="line">}</div><div class="line">Rd.W[z] = resQ31[z];</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned long type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l14253">14253</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>

<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00059">__ASM</a>.</p>
<div class="fragment"><div class="line"><a name="l14254"></a><span class="lineno">14254</span>&#160;{</div><div class="line"><a name="l14255"></a><span class="lineno">14255</span>&#160;    <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> result;</div><div class="line"><a name="l14256"></a><span class="lineno">14256</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;kdmtt16 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div><div class="line"><a name="l14257"></a><span class="lineno">14257</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l14258"></a><span class="lineno">14258</span>&#160;}</div><div class="ttc" id="group__NMSIS__Core__CompilerControl_html_ga1378040bcf22428955c6e3ce9c2053cd"><div class="ttname"><a href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a></div><div class="ttdeci">#define __ASM</div><div class="ttdoc">Pass information from the compiler to the assembler. </div><div class="ttdef"><b>Definition:</b> <a href="nmsis__gcc_8h_source.html#l00059">nmsis_gcc.h:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga58ec69e4c58f7cb34556ef4f4a153615"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga58ec69e4c58f7cb34556ef4f4a153615">&#9670;&nbsp;</a></span>__RV_KHMBB16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_KHMBB16 </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KHMBB16 (SIMD Signed Saturating Half Multiply B16 x B16) </p>
<p><b>Type</b>: SIMD (RV64 Only)</p>
<p><b>Syntax</b>:<br />
</p><div class="fragment"><div class="line">KHMxy16 Rd, Rs1, Rs2 (xy = BB, BT, TT)</div></div><!-- fragment --><p><b>Purpose</b>:<br />
Multiply the signed Q15 integer contents of two 16-bit data in the corresponding portion of the 32-bit chunks in registers and then right-shift 15 bits to turn the Q30 results into Q15 numbers again and saturate the Q15 results into the destination register. If saturation happens, an overflow flag OV will be set.</p>
<p><b>Description</b>:<br />
Multiply the top or bottom 16-bit Q15 content of the 32-bit portions in Rs1 with the top or bottom 16-bit Q15 content of the 32-bit portion in Rs2. The Q30 results are then right-shifted 15- bits and saturated into Q15 values. The 32-bit Q15 values are then written into the 32-bit chunks in Rd. When both the two Q15 inputs are 0x8000, saturation will happen. The result will be saturated to 0x7FFF and the overflow flag OV will be set.</p>
<p><b>Operations</b>:<br />
</p><div class="fragment"><div class="line"><span class="comment">// KHMBB16: (x,y,z)=(0,0,0),(2,2,1)</span></div><div class="line"><span class="comment">// KHMBT16: (x,y,z)=(0,1,0),(2,3,1)</span></div><div class="line"><span class="comment">// KHMTT16: (x,y,z)=(1,1,0),(3,3,1)</span></div><div class="line">aop = Rs1.H[x]; bop = Rs2.H[y];</div><div class="line">If (0x8000 != aop | 0x8000 != bop) {</div><div class="line">  Mresult[31:0] = aop * bop;</div><div class="line">  res[15:0] = Mresult[30:15];</div><div class="line">} <span class="keywordflow">else</span> {</div><div class="line">  res[15:0] = 0x7FFF;</div><div class="line">  OV = 1;</div><div class="line">}</div><div class="line">Rd.W[z] = SE32(res[15:0]);</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned long type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l14501">14501</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>

<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00059">__ASM</a>.</p>
<div class="fragment"><div class="line"><a name="l14502"></a><span class="lineno">14502</span>&#160;{</div><div class="line"><a name="l14503"></a><span class="lineno">14503</span>&#160;    <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> result;</div><div class="line"><a name="l14504"></a><span class="lineno">14504</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;khmbb16 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div><div class="line"><a name="l14505"></a><span class="lineno">14505</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l14506"></a><span class="lineno">14506</span>&#160;}</div><div class="ttc" id="group__NMSIS__Core__CompilerControl_html_ga1378040bcf22428955c6e3ce9c2053cd"><div class="ttname"><a href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a></div><div class="ttdeci">#define __ASM</div><div class="ttdoc">Pass information from the compiler to the assembler. </div><div class="ttdef"><b>Definition:</b> <a href="nmsis__gcc_8h_source.html#l00059">nmsis_gcc.h:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga30da509f228f12e85fccc10646cebc28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga30da509f228f12e85fccc10646cebc28">&#9670;&nbsp;</a></span>__RV_KHMBT16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_KHMBT16 </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KHMBT16 (SIMD Signed Saturating Half Multiply B16 x T16) </p>
<p><b>Type</b>: SIMD (RV64 Only)</p>
<p><b>Syntax</b>:<br />
</p><div class="fragment"><div class="line">KHMxy16 Rd, Rs1, Rs2 (xy = BB, BT, TT)</div></div><!-- fragment --><p><b>Purpose</b>:<br />
Multiply the signed Q15 integer contents of two 16-bit data in the corresponding portion of the 32-bit chunks in registers and then right-shift 15 bits to turn the Q30 results into Q15 numbers again and saturate the Q15 results into the destination register. If saturation happens, an overflow flag OV will be set.</p>
<p><b>Description</b>:<br />
Multiply the top or bottom 16-bit Q15 content of the 32-bit portions in Rs1 with the top or bottom 16-bit Q15 content of the 32-bit portion in Rs2. The Q30 results are then right-shifted 15- bits and saturated into Q15 values. The 32-bit Q15 values are then written into the 32-bit chunks in Rd. When both the two Q15 inputs are 0x8000, saturation will happen. The result will be saturated to 0x7FFF and the overflow flag OV will be set.</p>
<p><b>Operations</b>:<br />
</p><div class="fragment"><div class="line"><span class="comment">// KHMBB16: (x,y,z)=(0,0,0),(2,2,1)</span></div><div class="line"><span class="comment">// KHMBT16: (x,y,z)=(0,1,0),(2,3,1)</span></div><div class="line"><span class="comment">// KHMTT16: (x,y,z)=(1,1,0),(3,3,1)</span></div><div class="line">aop = Rs1.H[x]; bop = Rs2.H[y];</div><div class="line">If (0x8000 != aop | 0x8000 != bop) {</div><div class="line">  Mresult[31:0] = aop * bop;</div><div class="line">  res[15:0] = Mresult[30:15];</div><div class="line">} <span class="keywordflow">else</span> {</div><div class="line">  res[15:0] = 0x7FFF;</div><div class="line">  OV = 1;</div><div class="line">}</div><div class="line">Rd.W[z] = SE32(res[15:0]);</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned long type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l14554">14554</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>

<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00059">__ASM</a>.</p>
<div class="fragment"><div class="line"><a name="l14555"></a><span class="lineno">14555</span>&#160;{</div><div class="line"><a name="l14556"></a><span class="lineno">14556</span>&#160;    <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> result;</div><div class="line"><a name="l14557"></a><span class="lineno">14557</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;khmbt16 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div><div class="line"><a name="l14558"></a><span class="lineno">14558</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l14559"></a><span class="lineno">14559</span>&#160;}</div><div class="ttc" id="group__NMSIS__Core__CompilerControl_html_ga1378040bcf22428955c6e3ce9c2053cd"><div class="ttname"><a href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a></div><div class="ttdeci">#define __ASM</div><div class="ttdoc">Pass information from the compiler to the assembler. </div><div class="ttdef"><b>Definition:</b> <a href="nmsis__gcc_8h_source.html#l00059">nmsis_gcc.h:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga93e865bc3f39a52053267fdce080a7a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga93e865bc3f39a52053267fdce080a7a1">&#9670;&nbsp;</a></span>__RV_KHMTT16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_KHMTT16 </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KHMTT16 (SIMD Signed Saturating Half Multiply T16 x T16) </p>
<p><b>Type</b>: SIMD (RV64 Only)</p>
<p><b>Syntax</b>:<br />
</p><div class="fragment"><div class="line">KHMxy16 Rd, Rs1, Rs2 (xy = BB, BT, TT)</div></div><!-- fragment --><p><b>Purpose</b>:<br />
Multiply the signed Q15 integer contents of two 16-bit data in the corresponding portion of the 32-bit chunks in registers and then right-shift 15 bits to turn the Q30 results into Q15 numbers again and saturate the Q15 results into the destination register. If saturation happens, an overflow flag OV will be set.</p>
<p><b>Description</b>:<br />
Multiply the top or bottom 16-bit Q15 content of the 32-bit portions in Rs1 with the top or bottom 16-bit Q15 content of the 32-bit portion in Rs2. The Q30 results are then right-shifted 15- bits and saturated into Q15 values. The 32-bit Q15 values are then written into the 32-bit chunks in Rd. When both the two Q15 inputs are 0x8000, saturation will happen. The result will be saturated to 0x7FFF and the overflow flag OV will be set.</p>
<p><b>Operations</b>:<br />
</p><div class="fragment"><div class="line"><span class="comment">// KHMBB16: (x,y,z)=(0,0,0),(2,2,1)</span></div><div class="line"><span class="comment">// KHMBT16: (x,y,z)=(0,1,0),(2,3,1)</span></div><div class="line"><span class="comment">// KHMTT16: (x,y,z)=(1,1,0),(3,3,1)</span></div><div class="line">aop = Rs1.H[x]; bop = Rs2.H[y];</div><div class="line">If (0x8000 != aop | 0x8000 != bop) {</div><div class="line">  Mresult[31:0] = aop * bop;</div><div class="line">  res[15:0] = Mresult[30:15];</div><div class="line">} <span class="keywordflow">else</span> {</div><div class="line">  res[15:0] = 0x7FFF;</div><div class="line">  OV = 1;</div><div class="line">}</div><div class="line">Rd.W[z] = SE32(res[15:0]);</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned long type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l14607">14607</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>

<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00059">__ASM</a>.</p>
<div class="fragment"><div class="line"><a name="l14608"></a><span class="lineno">14608</span>&#160;{</div><div class="line"><a name="l14609"></a><span class="lineno">14609</span>&#160;    <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> result;</div><div class="line"><a name="l14610"></a><span class="lineno">14610</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;khmtt16 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div><div class="line"><a name="l14611"></a><span class="lineno">14611</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l14612"></a><span class="lineno">14612</span>&#160;}</div><div class="ttc" id="group__NMSIS__Core__CompilerControl_html_ga1378040bcf22428955c6e3ce9c2053cd"><div class="ttname"><a href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a></div><div class="ttdeci">#define __ASM</div><div class="ttdoc">Pass information from the compiler to the assembler. </div><div class="ttdef"><b>Definition:</b> <a href="nmsis__gcc_8h_source.html#l00059">nmsis_gcc.h:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Jan 24 2022 02:32:57 for NMSIS-Core by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
