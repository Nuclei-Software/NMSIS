<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NMSIS-Core: Core CSR Register Access</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="nmsis_logo_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NMSIS-Core
   &#160;<span id="projectnumber">Version 1.0.2</span>
   </div>
   <div id="projectbrief">NMSIS-Core support for Nuclei processor-based devices</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__NMSIS__Core__CSR__Register__Access.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Core CSR Register Access</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions to access the Core CSR Registers.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gab68e26f20086bc54e8fc3af533c8ed7f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__CSR__Register__Access.html#gab68e26f20086bc54e8fc3af533c8ed7f">__RV_CSR_SWAP</a>(csr,  val)</td></tr>
<tr class="memdesc:gab68e26f20086bc54e8fc3af533c8ed7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">CSR operation Macro for csrrw instruction.  <a href="#gab68e26f20086bc54e8fc3af533c8ed7f">More...</a><br /></td></tr>
<tr class="separator:gab68e26f20086bc54e8fc3af533c8ed7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga355c96e5bd1ab3df0203e23a887c00c0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(csr)</td></tr>
<tr class="memdesc:ga355c96e5bd1ab3df0203e23a887c00c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">CSR operation Macro for csrr instruction.  <a href="#ga355c96e5bd1ab3df0203e23a887c00c0">More...</a><br /></td></tr>
<tr class="separator:ga355c96e5bd1ab3df0203e23a887c00c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa2d43f43f3f333cfd8e5a326a2aed413"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(csr,  val)</td></tr>
<tr class="memdesc:gaa2d43f43f3f333cfd8e5a326a2aed413"><td class="mdescLeft">&#160;</td><td class="mdescRight">CSR operation Macro for csrw instruction.  <a href="#gaa2d43f43f3f333cfd8e5a326a2aed413">More...</a><br /></td></tr>
<tr class="separator:gaa2d43f43f3f333cfd8e5a326a2aed413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga01a3710ed5d399eec664b69fd01b33fb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__CSR__Register__Access.html#ga01a3710ed5d399eec664b69fd01b33fb">__RV_CSR_READ_SET</a>(csr,  val)</td></tr>
<tr class="memdesc:ga01a3710ed5d399eec664b69fd01b33fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">CSR operation Macro for csrrs instruction.  <a href="#ga01a3710ed5d399eec664b69fd01b33fb">More...</a><br /></td></tr>
<tr class="separator:ga01a3710ed5d399eec664b69fd01b33fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafdbd9b5a14b44913675d0fa73ca6716f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__CSR__Register__Access.html#gafdbd9b5a14b44913675d0fa73ca6716f">__RV_CSR_SET</a>(csr,  val)</td></tr>
<tr class="memdesc:gafdbd9b5a14b44913675d0fa73ca6716f"><td class="mdescLeft">&#160;</td><td class="mdescRight">CSR operation Macro for csrs instruction.  <a href="#gafdbd9b5a14b44913675d0fa73ca6716f">More...</a><br /></td></tr>
<tr class="separator:gafdbd9b5a14b44913675d0fa73ca6716f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ead73950cec4e7221a24500846f39a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__CSR__Register__Access.html#ga1ead73950cec4e7221a24500846f39a2">__RV_CSR_READ_CLEAR</a>(csr,  val)</td></tr>
<tr class="memdesc:ga1ead73950cec4e7221a24500846f39a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">CSR operation Macro for csrrc instruction.  <a href="#ga1ead73950cec4e7221a24500846f39a2">More...</a><br /></td></tr>
<tr class="separator:ga1ead73950cec4e7221a24500846f39a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga14cf0513f6b576fcd1ff700b08f65543"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__CSR__Register__Access.html#ga14cf0513f6b576fcd1ff700b08f65543">__RV_CSR_CLEAR</a>(csr,  val)</td></tr>
<tr class="memdesc:ga14cf0513f6b576fcd1ff700b08f65543"><td class="mdescLeft">&#160;</td><td class="mdescRight">CSR operation Macro for csrc instruction.  <a href="#ga14cf0513f6b576fcd1ff700b08f65543">More...</a><br /></td></tr>
<tr class="separator:ga14cf0513f6b576fcd1ff700b08f65543"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae84bf4e95944e61937f4ed2453e5ef23"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__CSR__Register__Access.html#gae84bf4e95944e61937f4ed2453e5ef23">__enable_irq</a> (void)</td></tr>
<tr class="memdesc:gae84bf4e95944e61937f4ed2453e5ef23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable IRQ Interrupts.  <a href="#gae84bf4e95944e61937f4ed2453e5ef23">More...</a><br /></td></tr>
<tr class="separator:gae84bf4e95944e61937f4ed2453e5ef23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2299877e4ba3e162ca9dbabd6e0abef6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__CSR__Register__Access.html#ga2299877e4ba3e162ca9dbabd6e0abef6">__disable_irq</a> (void)</td></tr>
<tr class="memdesc:ga2299877e4ba3e162ca9dbabd6e0abef6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable IRQ Interrupts.  <a href="#ga2299877e4ba3e162ca9dbabd6e0abef6">More...</a><br /></td></tr>
<tr class="separator:ga2299877e4ba3e162ca9dbabd6e0abef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0d524220141962c60352cfe0a219bdb4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__CSR__Register__Access.html#ga0d524220141962c60352cfe0a219bdb4">__get_rv_cycle</a> (void)</td></tr>
<tr class="memdesc:ga0d524220141962c60352cfe0a219bdb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read whole 64 bits value of mcycle counter.  <a href="#ga0d524220141962c60352cfe0a219bdb4">More...</a><br /></td></tr>
<tr class="separator:ga0d524220141962c60352cfe0a219bdb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0755f3835c1d5788f99547c185dab2d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__CSR__Register__Access.html#ga0755f3835c1d5788f99547c185dab2d2">__get_rv_instret</a> (void)</td></tr>
<tr class="memdesc:ga0755f3835c1d5788f99547c185dab2d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read whole 64 bits value of machine instruction-retired counter.  <a href="#ga0755f3835c1d5788f99547c185dab2d2">More...</a><br /></td></tr>
<tr class="separator:ga0755f3835c1d5788f99547c185dab2d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f54b26adf57d254f6a589dab36bd28a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__CSR__Register__Access.html#ga5f54b26adf57d254f6a589dab36bd28a">__get_rv_time</a> (void)</td></tr>
<tr class="memdesc:ga5f54b26adf57d254f6a589dab36bd28a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read whole 64 bits value of real-time clock.  <a href="#ga5f54b26adf57d254f6a589dab36bd28a">More...</a><br /></td></tr>
<tr class="separator:ga5f54b26adf57d254f6a589dab36bd28a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions to access the Core CSR Registers. </p>
<p>The following functions or macros provide access to Core CSR registers.</p><ul>
<li><a class="el" href="group__NMSIS__Core__CSR__Encoding.html">Core CSR Encodings</a></li>
<li><a class="el" href="group__NMSIS__Core__CSR__Registers.html">Core CSR Registers</a> </li>
</ul>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga14cf0513f6b576fcd1ff700b08f65543"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga14cf0513f6b576fcd1ff700b08f65543">&#9670;&nbsp;</a></span>__RV_CSR_CLEAR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RV_CSR_CLEAR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">csr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">val&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CSR operation Macro for csrc instruction. </p>
<p>Set csr register to be csr_content &amp; ~val </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">csr</td><td>CSR macro definition defined in <a class="el" href="group__NMSIS__Core__CSR__Registers.html">Core CSR Registers</a>, eg. <a class="el" href="group__NMSIS__Core__CSR__Registers.html#ga7086e667c65affe87d2c32115193d736">CSR_MSTATUS</a> </td></tr>
    <tr><td class="paramname">val</td><td>Mask value to be used wih csrc instruction </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="core__feature__base_8h_source.html#l00569">569</a> of file <a class="el" href="core__feature__base_8h_source.html">core_feature_base.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="core__feature__base_8h_source.html#l00596">__disable_irq()</a>, <a class="el" href="core__feature__base_8h_source.html#l00835">__enable_all_counter()</a>, <a class="el" href="core__feature__base_8h_source.html#l00795">__enable_mcycle_counter()</a>, <a class="el" href="core__feature__base_8h_source.html#l00815">__enable_minstret_counter()</a>, <a class="el" href="core__feature__base_8h_source.html#l00729">__WFE()</a>, <a class="el" href="core__feature__base_8h_source.html#l00716">__WFI()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00679">DisableDCache()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00189">DisableICache()</a>, and <a class="el" href="core__feature__cache_8h_source.html#l00134">DisableSUCCM()</a>.</p>

</div>
</div>
<a id="ga355c96e5bd1ab3df0203e23a887c00c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga355c96e5bd1ab3df0203e23a887c00c0">&#9670;&nbsp;</a></span>__RV_CSR_READ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RV_CSR_READ</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">csr</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CSR operation Macro for csrr instruction. </p>
<p>Read the content of csr register to __v and return it </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">csr</td><td>CSR macro definition defined in <a class="el" href="group__NMSIS__Core__CSR__Registers.html">Core CSR Registers</a>, eg. <a class="el" href="group__NMSIS__Core__CSR__Registers.html#ga7086e667c65affe87d2c32115193d736">CSR_MSTATUS</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the CSR register value </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__base_8h_source.html#l00477">477</a> of file <a class="el" href="core__feature__base_8h_source.html">core_feature_base.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="core__feature__eclic_8h_source.html#l00734">__ECLIC_GetVector()</a>, <a class="el" href="core__feature__eclic_8h_source.html#l00708">__ECLIC_SetVector()</a>, <a class="el" href="core__feature__eclic_8h_source.html#l00772">__get_exc_entry()</a>, <a class="el" href="core__feature__eclic_8h_source.html#l00831">__get_nmi_entry()</a>, <a class="el" href="core__feature__eclic_8h_source.html#l00811">__get_nonvec_entry()</a>, <a class="el" href="core__feature__pmp_8h_source.html#l00203">__get_PMPADDRx()</a>, <a class="el" href="core__feature__pmp_8h_source.html#l00163">__get_PMPCFGx()</a>, <a class="el" href="core__feature__pmp_8h_source.html#l00061">__get_PMPxCFG()</a>, <a class="el" href="core__feature__base_8h_source.html#l00607">__get_rv_cycle()</a>, <a class="el" href="core__feature__base_8h_source.html#l00634">__get_rv_instret()</a>, <a class="el" href="core__feature__base_8h_source.html#l00662">__get_rv_time()</a>, <a class="el" href="core__feature__eclic_8h_source.html#l00789">__set_nonvec_entry()</a>, <a class="el" href="core__feature__pmp_8h_source.html#l00103">__set_PMPxCFG()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00231">GetDCacheInfo()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00204">GetICacheInfo()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01030">MLockDCacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01049">MLockDCacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00372">MLockICacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00391">MLockICacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01073">SLockDCacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01092">SLockDCacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00415">SLockICacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00434">SLockICacheLines()</a>, <a class="el" href="core__feature__timer_8h_source.html#l00292">SysTimer_ClearSWIRQ()</a>, <a class="el" href="core__feature__timer_8h_source.html#l00187">SysTimer_GetCompareValue()</a>, <a class="el" href="core__feature__timer_8h_source.html#l00314">SysTimer_GetMsipValue()</a>, <a class="el" href="core__feature__timer_8h_source.html#l00162">SysTimer_SetCompareValue()</a>, <a class="el" href="core__feature__timer_8h_source.html#l00331">SysTimer_SetMsipValue()</a>, <a class="el" href="core__feature__timer_8h_source.html#l00272">SysTimer_SetSWIRQ()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01116">ULockDCacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01135">ULockDCacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00458">ULockICacheLine()</a>, and <a class="el" href="core__feature__cache_8h_source.html#l00477">ULockICacheLines()</a>.</p>

</div>
</div>
<a id="ga1ead73950cec4e7221a24500846f39a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1ead73950cec4e7221a24500846f39a2">&#9670;&nbsp;</a></span>__RV_CSR_READ_CLEAR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RV_CSR_READ_CLEAR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">csr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">val&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CSR operation Macro for csrrc instruction. </p>
<p>Read the content of csr register to __v, then set csr register to be __v &amp; ~val, then return __v </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">csr</td><td>CSR macro definition defined in <a class="el" href="group__NMSIS__Core__CSR__Registers.html">Core CSR Registers</a>, eg. <a class="el" href="group__NMSIS__Core__CSR__Registers.html#ga7086e667c65affe87d2c32115193d736">CSR_MSTATUS</a> </td></tr>
    <tr><td class="paramname">val</td><td>Mask value to be used wih csrrc instruction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the CSR register value before written </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__base_8h_source.html#l00551">551</a> of file <a class="el" href="core__feature__base_8h_source.html">core_feature_base.h</a>.</p>

</div>
</div>
<a id="ga01a3710ed5d399eec664b69fd01b33fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga01a3710ed5d399eec664b69fd01b33fb">&#9670;&nbsp;</a></span>__RV_CSR_READ_SET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RV_CSR_READ_SET</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">csr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">val&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CSR operation Macro for csrrs instruction. </p>
<p>Read the content of csr register to __v, then set csr register to be __v | val, then return __v </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">csr</td><td>CSR macro definition defined in <a class="el" href="group__NMSIS__Core__CSR__Registers.html">Core CSR Registers</a>, eg. <a class="el" href="group__NMSIS__Core__CSR__Registers.html#ga7086e667c65affe87d2c32115193d736">CSR_MSTATUS</a> </td></tr>
    <tr><td class="paramname">val</td><td>Mask value to be used wih csrrs instruction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the CSR register value before written </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__base_8h_source.html#l00514">514</a> of file <a class="el" href="core__feature__base_8h_source.html">core_feature_base.h</a>.</p>

</div>
</div>
<a id="gafdbd9b5a14b44913675d0fa73ca6716f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafdbd9b5a14b44913675d0fa73ca6716f">&#9670;&nbsp;</a></span>__RV_CSR_SET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RV_CSR_SET</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">csr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">val&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CSR operation Macro for csrs instruction. </p>
<p>Set csr register to be csr_content | val </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">csr</td><td>CSR macro definition defined in <a class="el" href="group__NMSIS__Core__CSR__Registers.html">Core CSR Registers</a>, eg. <a class="el" href="group__NMSIS__Core__CSR__Registers.html#ga7086e667c65affe87d2c32115193d736">CSR_MSTATUS</a> </td></tr>
    <tr><td class="paramname">val</td><td>Mask value to be used wih csrs instruction </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="core__feature__base_8h_source.html#l00532">532</a> of file <a class="el" href="core__feature__base_8h_source.html">core_feature_base.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="core__feature__base_8h_source.html#l00845">__disable_all_counter()</a>, <a class="el" href="core__feature__base_8h_source.html#l00805">__disable_mcycle_counter()</a>, <a class="el" href="core__feature__base_8h_source.html#l00825">__disable_minstret_counter()</a>, <a class="el" href="core__feature__base_8h_source.html#l00585">__enable_irq()</a>, <a class="el" href="core__feature__base_8h_source.html#l00785">__TXEVT()</a>, <a class="el" href="core__feature__base_8h_source.html#l00729">__WFE()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00664">EnableDCache()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00174">EnableICache()</a>, and <a class="el" href="core__feature__cache_8h_source.html#l00118">EnableSUCCM()</a>.</p>

</div>
</div>
<a id="gab68e26f20086bc54e8fc3af533c8ed7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab68e26f20086bc54e8fc3af533c8ed7f">&#9670;&nbsp;</a></span>__RV_CSR_SWAP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RV_CSR_SWAP</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">csr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">val&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CSR operation Macro for csrrw instruction. </p>
<p>Read the content of csr register to __v, then write content of val into csr register, then return __v </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">csr</td><td>CSR macro definition defined in <a class="el" href="group__NMSIS__Core__CSR__Registers.html">Core CSR Registers</a>, eg. <a class="el" href="group__NMSIS__Core__CSR__Registers.html#ga7086e667c65affe87d2c32115193d736">CSR_MSTATUS</a> </td></tr>
    <tr><td class="paramname">val</td><td>value to store into the CSR register </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the CSR register value before written </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__base_8h_source.html#l00459">459</a> of file <a class="el" href="core__feature__base_8h_source.html">core_feature_base.h</a>.</p>

</div>
</div>
<a id="gaa2d43f43f3f333cfd8e5a326a2aed413"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa2d43f43f3f333cfd8e5a326a2aed413">&#9670;&nbsp;</a></span>__RV_CSR_WRITE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RV_CSR_WRITE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">csr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">val&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CSR operation Macro for csrw instruction. </p>
<p>Write the content of val to csr register </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">csr</td><td>CSR macro definition defined in <a class="el" href="group__NMSIS__Core__CSR__Registers.html">Core CSR Registers</a>, eg. <a class="el" href="group__NMSIS__Core__CSR__Registers.html#ga7086e667c65affe87d2c32115193d736">CSR_MSTATUS</a> </td></tr>
    <tr><td class="paramname">val</td><td>value to store into the CSR register </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="core__feature__base_8h_source.html#l00495">495</a> of file <a class="el" href="core__feature__base_8h_source.html">core_feature_base.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="core__feature__eclic_8h_source.html#l00755">__set_exc_entry()</a>, <a class="el" href="core__feature__eclic_8h_source.html#l00789">__set_nonvec_entry()</a>, <a class="el" href="core__feature__pmp_8h_source.html#l00232">__set_PMPADDRx()</a>, <a class="el" href="core__feature__pmp_8h_source.html#l00186">__set_PMPCFGx()</a>, <a class="el" href="core__feature__pmp_8h_source.html#l00103">__set_PMPxCFG()</a>, <a class="el" href="core__feature__base_8h_source.html#l00774">__set_wfi_sleepmode()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00148">FlushPipeCCM()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01313">MFlushDCache()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00807">MFlushDCacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00824">MFlushDCacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01355">MFlushInvalDCache()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00918">MFlushInvalDCacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00935">MFlushInvalDCacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01269">MInvalDCache()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00694">MInvalDCacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00711">MInvalDCacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00611">MInvalICache()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00258">MInvalICacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00275">MInvalICacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01030">MLockDCacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01049">MLockDCacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00372">MLockICacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00391">MLockICacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01158">MUnlockDCacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01175">MUnlockDCacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00500">MUnlockICacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00517">MUnlockICacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01327">SFlushDCache()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00844">SFlushDCacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00861">SFlushDCacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01369">SFlushInvalDCache()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00955">SFlushInvalDCacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00972">SFlushInvalDCacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01283">SInvalDCache()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00732">SInvalDCacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00749">SInvalDCacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00625">SInvalICache()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00296">SInvalICacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00313">SInvalICacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01073">SLockDCacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01092">SLockDCacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00415">SLockICacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00434">SLockICacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01195">SUnlockDCacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01212">SUnlockDCacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00537">SUnlockICacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00554">SUnlockICacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01341">UFlushDCache()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00881">UFlushDCacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00898">UFlushDCacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01383">UFlushInvalDCache()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00992">UFlushInvalDCacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01009">UFlushInvalDCacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01299">UInvalDCache()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00770">UInvalDCacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00787">UInvalDCacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00639">UInvalICache()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00334">UInvalICacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00351">UInvalICacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01116">ULockDCacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01135">ULockDCacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00458">ULockICacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00477">ULockICacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01232">UUnlockDCacheLine()</a>, <a class="el" href="core__feature__cache_8h_source.html#l01249">UUnlockDCacheLines()</a>, <a class="el" href="core__feature__cache_8h_source.html#l00574">UUnlockICacheLine()</a>, and <a class="el" href="core__feature__cache_8h_source.html#l00591">UUnlockICacheLines()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga2299877e4ba3e162ca9dbabd6e0abef6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2299877e4ba3e162ca9dbabd6e0abef6">&#9670;&nbsp;</a></span>__disable_irq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> void __disable_irq </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable IRQ Interrupts. </p>
<p>Disables IRQ interrupts by clearing the MIE-bit in the MSTATUS Register. </p><dl class="section remark"><dt>Remarks</dt><dd>Can only be executed in Privileged modes. </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__base_8h_source.html#l00596">596</a> of file <a class="el" href="core__feature__base_8h_source.html">core_feature_base.h</a>.</p>

<p class="reference">References <a class="el" href="core__feature__base_8h_source.html#l00569">__RV_CSR_CLEAR</a>, <a class="el" href="riscv__encoding_8h_source.html#l00399">CSR_MSTATUS</a>, and <a class="el" href="riscv__encoding_8h_source.html#l00038">MSTATUS_MIE</a>.</p>
<div class="fragment"><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;{</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga14cf0513f6b576fcd1ff700b08f65543">__RV_CSR_CLEAR</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga7086e667c65affe87d2c32115193d736">CSR_MSTATUS</a>, <a class="code" href="group__NMSIS__Core__CSR__Encoding.html#ga225cb34e3b991318fa87f090cfc3fc5f">MSTATUS_MIE</a>);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;}</div><div class="ttc" id="group__NMSIS__Core__CSR__Registers_html_ga7086e667c65affe87d2c32115193d736"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#ga7086e667c65affe87d2c32115193d736">CSR_MSTATUS</a></div><div class="ttdeci">#define CSR_MSTATUS</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00399">riscv_encoding.h:399</a></div></div>
<div class="ttc" id="group__NMSIS__Core__CSR__Register__Access_html_ga14cf0513f6b576fcd1ff700b08f65543"><div class="ttname"><a href="group__NMSIS__Core__CSR__Register__Access.html#ga14cf0513f6b576fcd1ff700b08f65543">__RV_CSR_CLEAR</a></div><div class="ttdeci">#define __RV_CSR_CLEAR(csr, val)</div><div class="ttdoc">CSR operation Macro for csrc instruction. </div><div class="ttdef"><b>Definition:</b> <a href="core__feature__base_8h_source.html#l00569">core_feature_base.h:569</a></div></div>
<div class="ttc" id="group__NMSIS__Core__CSR__Encoding_html_ga225cb34e3b991318fa87f090cfc3fc5f"><div class="ttname"><a href="group__NMSIS__Core__CSR__Encoding.html#ga225cb34e3b991318fa87f090cfc3fc5f">MSTATUS_MIE</a></div><div class="ttdeci">#define MSTATUS_MIE</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00038">riscv_encoding.h:38</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gae84bf4e95944e61937f4ed2453e5ef23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae84bf4e95944e61937f4ed2453e5ef23">&#9670;&nbsp;</a></span>__enable_irq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> void __enable_irq </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable IRQ Interrupts. </p>
<p>Enables IRQ interrupts by setting the MIE-bit in the MSTATUS Register. </p><dl class="section remark"><dt>Remarks</dt><dd>Can only be executed in Privileged modes. </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__base_8h_source.html#l00585">585</a> of file <a class="el" href="core__feature__base_8h_source.html">core_feature_base.h</a>.</p>

<p class="reference">References <a class="el" href="core__feature__base_8h_source.html#l00532">__RV_CSR_SET</a>, <a class="el" href="riscv__encoding_8h_source.html#l00399">CSR_MSTATUS</a>, and <a class="el" href="riscv__encoding_8h_source.html#l00038">MSTATUS_MIE</a>.</p>
<div class="fragment"><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;{</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gafdbd9b5a14b44913675d0fa73ca6716f">__RV_CSR_SET</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga7086e667c65affe87d2c32115193d736">CSR_MSTATUS</a>, <a class="code" href="group__NMSIS__Core__CSR__Encoding.html#ga225cb34e3b991318fa87f090cfc3fc5f">MSTATUS_MIE</a>);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;}</div><div class="ttc" id="group__NMSIS__Core__CSR__Registers_html_ga7086e667c65affe87d2c32115193d736"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#ga7086e667c65affe87d2c32115193d736">CSR_MSTATUS</a></div><div class="ttdeci">#define CSR_MSTATUS</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00399">riscv_encoding.h:399</a></div></div>
<div class="ttc" id="group__NMSIS__Core__CSR__Encoding_html_ga225cb34e3b991318fa87f090cfc3fc5f"><div class="ttname"><a href="group__NMSIS__Core__CSR__Encoding.html#ga225cb34e3b991318fa87f090cfc3fc5f">MSTATUS_MIE</a></div><div class="ttdeci">#define MSTATUS_MIE</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00038">riscv_encoding.h:38</a></div></div>
<div class="ttc" id="group__NMSIS__Core__CSR__Register__Access_html_gafdbd9b5a14b44913675d0fa73ca6716f"><div class="ttname"><a href="group__NMSIS__Core__CSR__Register__Access.html#gafdbd9b5a14b44913675d0fa73ca6716f">__RV_CSR_SET</a></div><div class="ttdeci">#define __RV_CSR_SET(csr, val)</div><div class="ttdoc">CSR operation Macro for csrs instruction. </div><div class="ttdef"><b>Definition:</b> <a href="core__feature__base_8h_source.html#l00532">core_feature_base.h:532</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga0d524220141962c60352cfe0a219bdb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0d524220141962c60352cfe0a219bdb4">&#9670;&nbsp;</a></span>__get_rv_cycle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> uint64_t __get_rv_cycle </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read whole 64 bits value of mcycle counter. </p>
<p>This function will read the whole 64 bits of MCYCLE register </p><dl class="section return"><dt>Returns</dt><dd>The whole 64 bits value of MCYCLE </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>It will work for both RV32 and RV64 to get full 64bits value of MCYCLE </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__base_8h_source.html#l00607">607</a> of file <a class="el" href="core__feature__base_8h_source.html">core_feature_base.h</a>.</p>

<p class="reference">References <a class="el" href="core__feature__base_8h_source.html#l00477">__RV_CSR_READ</a>, <a class="el" href="riscv__encoding_8h_source.html#l00439">CSR_MCYCLE</a>, and <a class="el" href="riscv__encoding_8h_source.html#l00537">CSR_MCYCLEH</a>.</p>
<div class="fragment"><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;{</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="preprocessor">#if __RISCV_XLEN == 32</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keyword">volatile</span> uint32_t high0, low, high;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    uint64_t full;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    high0 = <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gae3368bea588a2fcdf2e7d24707ef4dda">CSR_MCYCLEH</a>);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    low = <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga5a7abfd3679706088142a50995c1bdb8">CSR_MCYCLE</a>);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    high = <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gae3368bea588a2fcdf2e7d24707ef4dda">CSR_MCYCLEH</a>);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">if</span> (high0 != high) {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        low = <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga5a7abfd3679706088142a50995c1bdb8">CSR_MCYCLE</a>);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    }</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    full = (((uint64_t)high) &lt;&lt; 32) | low;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">return</span> full;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="preprocessor">#elif __RISCV_XLEN == 64</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">return</span> (uint64_t)<a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga5a7abfd3679706088142a50995c1bdb8">CSR_MCYCLE</a>);</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="preprocessor">#else // TODO Need cover for XLEN=128 case in future</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">return</span> (uint64_t)<a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga5a7abfd3679706088142a50995c1bdb8">CSR_MCYCLE</a>);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;}</div><div class="ttc" id="group__NMSIS__Core__CSR__Registers_html_ga5a7abfd3679706088142a50995c1bdb8"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#ga5a7abfd3679706088142a50995c1bdb8">CSR_MCYCLE</a></div><div class="ttdeci">#define CSR_MCYCLE</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00439">riscv_encoding.h:439</a></div></div>
<div class="ttc" id="group__NMSIS__Core__CSR__Register__Access_html_ga355c96e5bd1ab3df0203e23a887c00c0"><div class="ttname"><a href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a></div><div class="ttdeci">#define __RV_CSR_READ(csr)</div><div class="ttdoc">CSR operation Macro for csrr instruction. </div><div class="ttdef"><b>Definition:</b> <a href="core__feature__base_8h_source.html#l00477">core_feature_base.h:477</a></div></div>
<div class="ttc" id="group__NMSIS__Core__CSR__Registers_html_gae3368bea588a2fcdf2e7d24707ef4dda"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#gae3368bea588a2fcdf2e7d24707ef4dda">CSR_MCYCLEH</a></div><div class="ttdeci">#define CSR_MCYCLEH</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00537">riscv_encoding.h:537</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga0755f3835c1d5788f99547c185dab2d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0755f3835c1d5788f99547c185dab2d2">&#9670;&nbsp;</a></span>__get_rv_instret()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> uint64_t __get_rv_instret </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read whole 64 bits value of machine instruction-retired counter. </p>
<p>This function will read the whole 64 bits of MINSTRET register </p><dl class="section return"><dt>Returns</dt><dd>The whole 64 bits value of MINSTRET </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>It will work for both RV32 and RV64 to get full 64bits value of MINSTRET </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__base_8h_source.html#l00634">634</a> of file <a class="el" href="core__feature__base_8h_source.html">core_feature_base.h</a>.</p>

<p class="reference">References <a class="el" href="core__feature__base_8h_source.html#l00477">__RV_CSR_READ</a>, <a class="el" href="riscv__encoding_8h_source.html#l00440">CSR_MINSTRET</a>, and <a class="el" href="riscv__encoding_8h_source.html#l00538">CSR_MINSTRETH</a>.</p>
<div class="fragment"><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;{</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="preprocessor">#if __RISCV_XLEN == 32</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keyword">volatile</span> uint32_t high0, low, high;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    uint64_t full;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    high0 = <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gaa59d1f570770dc3be6cd493cbb5a12e4">CSR_MINSTRETH</a>);</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    low = <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga204b84adcbccada25ecd7aff3c5a31f5">CSR_MINSTRET</a>);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    high = <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gaa59d1f570770dc3be6cd493cbb5a12e4">CSR_MINSTRETH</a>);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">if</span> (high0 != high) {</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        low = <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga204b84adcbccada25ecd7aff3c5a31f5">CSR_MINSTRET</a>);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    }</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    full = (((uint64_t)high) &lt;&lt; 32) | low;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">return</span> full;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="preprocessor">#elif __RISCV_XLEN == 64</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">return</span> (uint64_t)<a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga204b84adcbccada25ecd7aff3c5a31f5">CSR_MINSTRET</a>);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="preprocessor">#else // TODO Need cover for XLEN=128 case in future</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">return</span> (uint64_t)<a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga204b84adcbccada25ecd7aff3c5a31f5">CSR_MINSTRET</a>);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;}</div><div class="ttc" id="group__NMSIS__Core__CSR__Registers_html_ga204b84adcbccada25ecd7aff3c5a31f5"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#ga204b84adcbccada25ecd7aff3c5a31f5">CSR_MINSTRET</a></div><div class="ttdeci">#define CSR_MINSTRET</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00440">riscv_encoding.h:440</a></div></div>
<div class="ttc" id="group__NMSIS__Core__CSR__Registers_html_gaa59d1f570770dc3be6cd493cbb5a12e4"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#gaa59d1f570770dc3be6cd493cbb5a12e4">CSR_MINSTRETH</a></div><div class="ttdeci">#define CSR_MINSTRETH</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00538">riscv_encoding.h:538</a></div></div>
<div class="ttc" id="group__NMSIS__Core__CSR__Register__Access_html_ga355c96e5bd1ab3df0203e23a887c00c0"><div class="ttname"><a href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a></div><div class="ttdeci">#define __RV_CSR_READ(csr)</div><div class="ttdoc">CSR operation Macro for csrr instruction. </div><div class="ttdef"><b>Definition:</b> <a href="core__feature__base_8h_source.html#l00477">core_feature_base.h:477</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga5f54b26adf57d254f6a589dab36bd28a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5f54b26adf57d254f6a589dab36bd28a">&#9670;&nbsp;</a></span>__get_rv_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> uint64_t __get_rv_time </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read whole 64 bits value of real-time clock. </p>
<p>This function will read the whole 64 bits of TIME register </p><dl class="section return"><dt>Returns</dt><dd>The whole 64 bits value of TIME CSR </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>It will work for both RV32 and RV64 to get full 64bits value of TIME </dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>only available when user mode available </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__base_8h_source.html#l00662">662</a> of file <a class="el" href="core__feature__base_8h_source.html">core_feature_base.h</a>.</p>

<p class="reference">References <a class="el" href="core__feature__base_8h_source.html#l00477">__RV_CSR_READ</a>, <a class="el" href="riscv__encoding_8h_source.html#l00359">CSR_TIME</a>, and <a class="el" href="riscv__encoding_8h_source.html#l00506">CSR_TIMEH</a>.</p>
<div class="fragment"><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;{</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="preprocessor">#if __RISCV_XLEN == 32</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keyword">volatile</span> uint32_t high0, low, high;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    uint64_t full;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    high0 = <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga2e2ce9bac3d1ad2128a4eb9438a1022d">CSR_TIMEH</a>);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    low = <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga4bbdf33e8b20f4cb020869e7394e388a">CSR_TIME</a>);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    high = <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga2e2ce9bac3d1ad2128a4eb9438a1022d">CSR_TIMEH</a>);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordflow">if</span> (high0 != high) {</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        low = <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga4bbdf33e8b20f4cb020869e7394e388a">CSR_TIME</a>);</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    }</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    full = (((uint64_t)high) &lt;&lt; 32) | low;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">return</span> full;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="preprocessor">#elif __RISCV_XLEN == 64</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">return</span> (uint64_t)<a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga4bbdf33e8b20f4cb020869e7394e388a">CSR_TIME</a>);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="preprocessor">#else // TODO Need cover for XLEN=128 case in future</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordflow">return</span> (uint64_t)<a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga4bbdf33e8b20f4cb020869e7394e388a">CSR_TIME</a>);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;}</div><div class="ttc" id="group__NMSIS__Core__CSR__Registers_html_ga4bbdf33e8b20f4cb020869e7394e388a"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#ga4bbdf33e8b20f4cb020869e7394e388a">CSR_TIME</a></div><div class="ttdeci">#define CSR_TIME</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00359">riscv_encoding.h:359</a></div></div>
<div class="ttc" id="group__NMSIS__Core__CSR__Register__Access_html_ga355c96e5bd1ab3df0203e23a887c00c0"><div class="ttname"><a href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a></div><div class="ttdeci">#define __RV_CSR_READ(csr)</div><div class="ttdoc">CSR operation Macro for csrr instruction. </div><div class="ttdef"><b>Definition:</b> <a href="core__feature__base_8h_source.html#l00477">core_feature_base.h:477</a></div></div>
<div class="ttc" id="group__NMSIS__Core__CSR__Registers_html_ga2e2ce9bac3d1ad2128a4eb9438a1022d"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#ga2e2ce9bac3d1ad2128a4eb9438a1022d">CSR_TIMEH</a></div><div class="ttdeci">#define CSR_TIMEH</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00506">riscv_encoding.h:506</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Jan 24 2022 02:32:56 for NMSIS-Core by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
