<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NMSIS-Core: Partial-SIMD Miscellaneous Instructions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="nmsis_logo_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NMSIS-Core
   &#160;<span id="projectnumber">Version 1.4.0</span>
   </div>
   <div id="projectbrief">NMSIS-Core support for Nuclei processor-based devices</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__NMSIS__Core__DSP__Intrinsic__PART__SIMD__MISC.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Partial-SIMD Miscellaneous Instructions<div class="ingroups"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic.html">Intrinsic Functions for SIMD Instructions</a> &raquo; <a class="el" href="group__NMSIS__Core__DSP__Intrinsic__PART__SIMD__DATA__PROCESS.html">Partial-SIMD Data Processing Instructions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Partial-SIMD Miscellaneous Instructions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaee72cc6a242182cd7e59c3185522d56e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__PART__SIMD__MISC.html#gaee72cc6a242182cd7e59c3185522d56e">__RV_SCLIP32</a>(a,  b)</td></tr>
<tr class="memdesc:gaee72cc6a242182cd7e59c3185522d56e"><td class="mdescLeft">&#160;</td><td class="mdescRight">SCLIP32 (SIMD 32-bit Signed Clip Value)  <a href="group__NMSIS__Core__DSP__Intrinsic__PART__SIMD__MISC.html#gaee72cc6a242182cd7e59c3185522d56e">More...</a><br /></td></tr>
<tr class="separator:gaee72cc6a242182cd7e59c3185522d56e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6aea3f3d303e395e7cf41d45c0618385"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__PART__SIMD__MISC.html#ga6aea3f3d303e395e7cf41d45c0618385">__RV_UCLIP32</a>(a,  b)</td></tr>
<tr class="memdesc:ga6aea3f3d303e395e7cf41d45c0618385"><td class="mdescLeft">&#160;</td><td class="mdescRight">UCLIP32 (SIMD 32-bit Unsigned Clip Value)  <a href="group__NMSIS__Core__DSP__Intrinsic__PART__SIMD__MISC.html#ga6aea3f3d303e395e7cf41d45c0618385">More...</a><br /></td></tr>
<tr class="separator:ga6aea3f3d303e395e7cf41d45c0618385"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4f68c42f5bf770045469f5cc5b8dd80c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__PART__SIMD__MISC.html#ga4f68c42f5bf770045469f5cc5b8dd80c">__RV_CLRS32</a> (unsigned long a)</td></tr>
<tr class="memdesc:ga4f68c42f5bf770045469f5cc5b8dd80c"><td class="mdescLeft">&#160;</td><td class="mdescRight">CLRS32 (SIMD 32-bit Count Leading Redundant Sign)  <a href="group__NMSIS__Core__DSP__Intrinsic__PART__SIMD__MISC.html#ga4f68c42f5bf770045469f5cc5b8dd80c">More...</a><br /></td></tr>
<tr class="separator:ga4f68c42f5bf770045469f5cc5b8dd80c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a3bb8538cb1c67d747dbcf77d50b1f0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__PART__SIMD__MISC.html#ga9a3bb8538cb1c67d747dbcf77d50b1f0">__RV_CLO32</a> (unsigned long a)</td></tr>
<tr class="memdesc:ga9a3bb8538cb1c67d747dbcf77d50b1f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">CLO32 (SIMD 32-bit Count Leading One)  <a href="group__NMSIS__Core__DSP__Intrinsic__PART__SIMD__MISC.html#ga9a3bb8538cb1c67d747dbcf77d50b1f0">More...</a><br /></td></tr>
<tr class="separator:ga9a3bb8538cb1c67d747dbcf77d50b1f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5250b89ea0959cf4f02534c5cd30b79c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__PART__SIMD__MISC.html#ga5250b89ea0959cf4f02534c5cd30b79c">__RV_CLZ32</a> (unsigned long a)</td></tr>
<tr class="memdesc:ga5250b89ea0959cf4f02534c5cd30b79c"><td class="mdescLeft">&#160;</td><td class="mdescRight">CLZ32 (SIMD 32-bit Count Leading Zero)  <a href="group__NMSIS__Core__DSP__Intrinsic__PART__SIMD__MISC.html#ga5250b89ea0959cf4f02534c5cd30b79c">More...</a><br /></td></tr>
<tr class="separator:ga5250b89ea0959cf4f02534c5cd30b79c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d0a417bfde5846e13d2ae5a2da2dbb3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__PART__SIMD__MISC.html#ga4d0a417bfde5846e13d2ae5a2da2dbb3">__RV_PBSAD</a> (unsigned long a, unsigned long b)</td></tr>
<tr class="memdesc:ga4d0a417bfde5846e13d2ae5a2da2dbb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">PBSAD (Parallel Byte Sum of Absolute Difference)  <a href="group__NMSIS__Core__DSP__Intrinsic__PART__SIMD__MISC.html#ga4d0a417bfde5846e13d2ae5a2da2dbb3">More...</a><br /></td></tr>
<tr class="separator:ga4d0a417bfde5846e13d2ae5a2da2dbb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab29c8817a341834901b676f1be7e6279"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__PART__SIMD__MISC.html#gab29c8817a341834901b676f1be7e6279">__RV_PBSADA</a> (unsigned long t, unsigned long a, unsigned long b)</td></tr>
<tr class="memdesc:gab29c8817a341834901b676f1be7e6279"><td class="mdescLeft">&#160;</td><td class="mdescRight">PBSADA (Parallel Byte Sum of Absolute Difference Accum)  <a href="group__NMSIS__Core__DSP__Intrinsic__PART__SIMD__MISC.html#gab29c8817a341834901b676f1be7e6279">More...</a><br /></td></tr>
<tr class="separator:gab29c8817a341834901b676f1be7e6279"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Partial-SIMD Miscellaneous Instructions. </p>
<p>there are 7 Partial-SIMD Miscellaneous Instructions </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gaee72cc6a242182cd7e59c3185522d56e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaee72cc6a242182cd7e59c3185522d56e">&#9670;&nbsp;</a></span>__RV_SCLIP32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RV_SCLIP32</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SCLIP32 (SIMD 32-bit Signed Clip Value) </p>
<p><b>Type</b>: DSP</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">SCLIP32 Rd, Rs1, imm5u[4:0]</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Limit the 32-bit signed integer elements of a register into a signed range simultaneously.</p>
<p><b>Description</b>:<br  />
This instruction limits the 32-bit signed integer elements stored in Rs1 into a signed integer range between 2imm5u-1 and -2imm5u, and writes the limited results to Rd. For example, if imm5u is 3, the 32-bit input values should be saturated between 7 and -8. If saturation is performed, set OV bit to 1.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">src = Rs1.W[x];</div>
<div class="line"><span class="keywordflow">if</span> (src &gt; (2^imm5u)-1) {</div>
<div class="line">  src = (2^imm5u)-1;</div>
<div class="line">  OV = 1;</div>
<div class="line">} <span class="keywordflow">else</span> <span class="keywordflow">if</span> (src &lt; -2^imm5u) {</div>
<div class="line">  src = -2^imm5u;</div>
<div class="line">  OV = 1;</div>
<div class="line">}</div>
<div class="line">Rd.W[x] = src</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=0,</div>
<div class="line"><span class="keywordflow">for</span> RV64: x=1...0</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l07014">7014</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>

</div>
</div>
<a id="ga6aea3f3d303e395e7cf41d45c0618385"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6aea3f3d303e395e7cf41d45c0618385">&#9670;&nbsp;</a></span>__RV_UCLIP32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RV_UCLIP32</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UCLIP32 (SIMD 32-bit Unsigned Clip Value) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">UCLIP32 Rd, Rs1, imm5u[4:0]</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Limit the 32-bit signed integer elements of a register into an unsigned range simultaneously.</p>
<p><b>Description</b>:<br  />
This instruction limits the 32-bit signed integer elements stored in Rs1 into an unsigned integer range between 2imm5u-1 and 0, and writes the limited results to Rd. For example, if imm5u is 3, the 32-bit input values should be saturated between 7 and 0. If saturation is performed, set OV bit to 1.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">src = Rs1.W[x];</div>
<div class="line"><span class="keywordflow">if</span> (src &gt; (2^imm5u)-1) {</div>
<div class="line">  src = (2^imm5u)-1;</div>
<div class="line">  OV = 1;</div>
<div class="line">} <span class="keywordflow">else</span> <span class="keywordflow">if</span> (src &lt; 0) {</div>
<div class="line">  src = 0;</div>
<div class="line">  OV = 1;</div>
<div class="line">}</div>
<div class="line">Rd.W[x] = src</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=0,</div>
<div class="line"><span class="keywordflow">for</span> RV64: x=1...0</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l11213">11213</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga9a3bb8538cb1c67d747dbcf77d50b1f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9a3bb8538cb1c67d747dbcf77d50b1f0">&#9670;&nbsp;</a></span>__RV_CLO32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_CLO32 </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CLO32 (SIMD 32-bit Count Leading One) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">CLO32 Rd, Rs1</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Count the number of leading one bits of the 32-bit elements of a general register.</p>
<p><b>Description</b>:<br  />
Starting from the most significant bits of the 32-bit elements of Rs1, this instruction counts the number of leading one bits and writes the results to the corresponding 32-bit elements of Rd.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">snum[x] = Rs1.W[x];</div>
<div class="line">cnt[x] = 0;</div>
<div class="line"><span class="keywordflow">for</span> (i = 31 to 0) {</div>
<div class="line">  <span class="keywordflow">if</span> (snum[x](i) == 1) {</div>
<div class="line">    cnt[x] = cnt[x] + 1;</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line">Rd.W[x] = cnt[x];</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=0</div>
<div class="line"><span class="keywordflow">for</span> RV64: x=1...0</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l01011">1011</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;{</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;clo32 %0, %1&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a));</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;}</div>
<div class="ttc" id="agroup__NMSIS__Core__CompilerControl_html_ga1378040bcf22428955c6e3ce9c2053cd"><div class="ttname"><a href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a></div><div class="ttdeci">#define __ASM</div><div class="ttdoc">Pass information from the compiler to the assembler.</div><div class="ttdef"><b>Definition:</b> <a href="nmsis__gcc_8h_source.html#l00055">nmsis_gcc.h:55</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga4f68c42f5bf770045469f5cc5b8dd80c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4f68c42f5bf770045469f5cc5b8dd80c">&#9670;&nbsp;</a></span>__RV_CLRS32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_CLRS32 </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CLRS32 (SIMD 32-bit Count Leading Redundant Sign) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">CLRS32 Rd, Rs1</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Count the number of redundant sign bits of the 32-bit elements of a general register.</p>
<p><b>Description</b>:<br  />
Starting from the bits next to the sign bits of the 32-bit elements of Rs1, this instruction counts the number of redundant sign bits and writes the result to the corresponding 32- bit elements of Rd.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">snum[x] = Rs1.W[x];</div>
<div class="line">cnt[x] = 0;</div>
<div class="line"><span class="keywordflow">for</span> (i = 30 to 0) {</div>
<div class="line">  <span class="keywordflow">if</span> (snum[x](i) == snum[x](31)) {</div>
<div class="line">    cnt[x] = cnt[x] + 1;</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line">Rd.W[x] = cnt[x];</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=0</div>
<div class="line"><span class="keywordflow">for</span> RV64: x=1...0</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l00870">870</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;{</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;clrs32 %0, %1&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a));</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga5250b89ea0959cf4f02534c5cd30b79c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5250b89ea0959cf4f02534c5cd30b79c">&#9670;&nbsp;</a></span>__RV_CLZ32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_CLZ32 </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CLZ32 (SIMD 32-bit Count Leading Zero) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">CLZ32 Rd, Rs1</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Count the number of leading zero bits of the 32-bit elements of a general register.</p>
<p><b>Description</b>:<br  />
Starting from the most significant bits of the 32-bit elements of Rs1, this instruction counts the number of leading zero bits and writes the results to the corresponding 32-bit elements of Rd.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">snum[x] = Rs1.W[x];</div>
<div class="line">cnt[x] = 0;</div>
<div class="line"><span class="keywordflow">for</span> (i = 31 to 0) {</div>
<div class="line">  <span class="keywordflow">if</span> (snum[x](i) == 0) {</div>
<div class="line">    cnt[x] = cnt[x] + 1;</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line">Rd.W[x] = cnt[x];</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=0</div>
<div class="line"><span class="keywordflow">for</span> RV64: x=1...0</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l01152">1152</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;{</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;clz32 %0, %1&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a));</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga4d0a417bfde5846e13d2ae5a2da2dbb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4d0a417bfde5846e13d2ae5a2da2dbb3">&#9670;&nbsp;</a></span>__RV_PBSAD()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_PBSAD </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PBSAD (Parallel Byte Sum of Absolute Difference) </p>
<p><b>Type</b>: DSP</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">PBSAD Rd, Rs1, Rs2</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Calculate the sum of absolute difference of unsigned 8-bit data elements.</p>
<p><b>Description</b>:<br  />
This instruction subtracts the un-signed 8-bit elements of Rs2 from those of Rs1. Then it adds the absolute value of each difference together and writes the result to Rd.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">absdiff[x] = ABS(Rs1.B[x] - Rs2.B[x]);</div>
<div class="line">Rd = SUM(absdiff[x]);</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=3...0,</div>
<div class="line"><span class="keywordflow">for</span> RV64: x=7...0</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned long type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l06013">6013</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160;{</div>
<div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;pbsad %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="gab29c8817a341834901b676f1be7e6279"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab29c8817a341834901b676f1be7e6279">&#9670;&nbsp;</a></span>__RV_PBSADA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_PBSADA </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PBSADA (Parallel Byte Sum of Absolute Difference Accum) </p>
<p><b>Type</b>: DSP</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">PBSADA Rd, Rs1, Rs2</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Calculate the sum of absolute difference of four unsigned 8-bit data elements and accumulate it into a register.</p>
<p><b>Description</b>:<br  />
This instruction subtracts the un-signed 8-bit elements of Rs2 from those of Rs1. It then adds the absolute value of each difference together along with the content of Rd and writes the accumulated result back to Rd.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">absdiff[x] = ABS(Rs1.B[x] - Rs2.B[x]);</div>
<div class="line">Rd = Rd + SUM(absdiff[x]);</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=3...0,</div>
<div class="line"><span class="keywordflow">for</span> RV64: x=7...0</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>unsigned long type of value stored in t </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned long type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l06055">6055</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;{</div>
<div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;pbsada %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;+r&quot;</span>(t) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160;    <span class="keywordflow">return</span> t;</div>
<div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed May 14 2025 05:32:35 for NMSIS-Core by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
