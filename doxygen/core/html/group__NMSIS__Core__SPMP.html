<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NMSIS-Core: sPMP or sMPU Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="nmsis_logo_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NMSIS-Core
   &#160;<span id="projectnumber">Version 1.4.0</span>
   </div>
   <div id="projectbrief">NMSIS-Core support for Nuclei processor-based devices</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__NMSIS__Core__SPMP.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sPMP or sMPU Functions</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions that related to the RISCV supervisor-mode Phyiscal Memory Protection.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspmp__config.html">spmp_config</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaa2b708cfc8ef56de49fcca3a65e0be28"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__SPMP.html#gaa2b708cfc8ef56de49fcca3a65e0be28">__get_SMPUCFGx</a>&#160;&#160;&#160;<a class="el" href="group__NMSIS__Core__SPMP.html#gade76db4cf711cd1c5ccf17d23fd69c38">__get_sPMPCFGx</a></td></tr>
<tr class="separator:gaa2b708cfc8ef56de49fcca3a65e0be28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4bfa6f36bcdd66b9b1c0e7445c49dae3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__SPMP.html#ga4bfa6f36bcdd66b9b1c0e7445c49dae3">__set_SMPUCFGx</a>&#160;&#160;&#160;<a class="el" href="group__NMSIS__Core__SPMP.html#ga559a9ce5488cd9e5eb04c3635ab30875">__set_sPMPCFGx</a></td></tr>
<tr class="separator:ga4bfa6f36bcdd66b9b1c0e7445c49dae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga982290313547bbc369cb934a5985f38a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__SPMP.html#ga982290313547bbc369cb934a5985f38a">__get_SMPUxCFG</a>&#160;&#160;&#160;<a class="el" href="group__NMSIS__Core__SPMP.html#gafc8623c3fb7b13298751b9610290dbaf">__get_sPMPxCFG</a></td></tr>
<tr class="separator:ga982290313547bbc369cb934a5985f38a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga265ba39a8408835c6bc2c71e3a0a8b8e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__SPMP.html#ga265ba39a8408835c6bc2c71e3a0a8b8e">__set_SMPUxCFG</a>&#160;&#160;&#160;<a class="el" href="group__NMSIS__Core__SPMP.html#gadd816bfd31a9d31b373c41f95e720539">__set_sPMPxCFG</a></td></tr>
<tr class="separator:ga265ba39a8408835c6bc2c71e3a0a8b8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab5ff3fe35571a7e72890024dfa5900ee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__SPMP.html#gab5ff3fe35571a7e72890024dfa5900ee">__get_SMPUADDRx</a>&#160;&#160;&#160;<a class="el" href="group__NMSIS__Core__SPMP.html#ga8569b0e5dc76c434bb0022dacde1f2d7">__get_sPMPADDRx</a></td></tr>
<tr class="separator:gab5ff3fe35571a7e72890024dfa5900ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga900381dd340815a444c31629e8121b9f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__SPMP.html#ga900381dd340815a444c31629e8121b9f">__set_SMPUADDRx</a>&#160;&#160;&#160;<a class="el" href="group__NMSIS__Core__SPMP.html#ga3c2a928ba078b1f6a734a7520c98daac">__set_sPMPADDRx</a></td></tr>
<tr class="separator:ga900381dd340815a444c31629e8121b9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e322f37134868e7646870e25e29e33f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__SPMP.html#ga3e322f37134868e7646870e25e29e33f">__set_SMPUENTRYx</a>&#160;&#160;&#160;<a class="el" href="group__NMSIS__Core__SPMP.html#gac5d192a1d325f624cb65ca501fab6b3a">__set_sPMPENTRYx</a></td></tr>
<tr class="separator:ga3e322f37134868e7646870e25e29e33f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafaa7e414886dd538f4c98542d9ed8cf7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__SPMP.html#gafaa7e414886dd538f4c98542d9ed8cf7">__get_SMPUENTRYx</a>&#160;&#160;&#160;<a class="el" href="group__NMSIS__Core__SPMP.html#ga34656997d11753ea521266fb6f34f0be">__get_sPMPENTRYx</a></td></tr>
<tr class="separator:gafaa7e414886dd538f4c98542d9ed8cf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gabe0bc3636692e7c7fed537429972e27b"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structspmp__config.html">spmp_config</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__SPMP.html#gabe0bc3636692e7c7fed537429972e27b">smpu_config</a></td></tr>
<tr class="memdesc:gabe0bc3636692e7c7fed537429972e27b"><td class="mdescLeft">&#160;</td><td class="mdescRight">sPMP has upgraded to S-mode Memory Protection Unit, renamed as SMPU, but still share the apis with sPMP's  <a href="group__NMSIS__Core__SPMP.html#gabe0bc3636692e7c7fed537429972e27b">More...</a><br /></td></tr>
<tr class="separator:gabe0bc3636692e7c7fed537429972e27b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gade76db4cf711cd1c5ccf17d23fd69c38"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gaba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> <a class="el" href="group__NMSIS__Core__Registers.html#ga4dee6b95a366e4c3162d814d81a1301b">rv_csr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__SPMP.html#gade76db4cf711cd1c5ccf17d23fd69c38">__get_sPMPCFGx</a> (uint32_t csr_idx)</td></tr>
<tr class="memdesc:gade76db4cf711cd1c5ccf17d23fd69c38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get sPMPCFGx Register by csr index.  <a href="group__NMSIS__Core__SPMP.html#gade76db4cf711cd1c5ccf17d23fd69c38">More...</a><br /></td></tr>
<tr class="separator:gade76db4cf711cd1c5ccf17d23fd69c38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga559a9ce5488cd9e5eb04c3635ab30875"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gaba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__SPMP.html#ga559a9ce5488cd9e5eb04c3635ab30875">__set_sPMPCFGx</a> (uint32_t csr_idx, <a class="el" href="group__NMSIS__Core__Registers.html#ga4dee6b95a366e4c3162d814d81a1301b">rv_csr_t</a> spmpcfg)</td></tr>
<tr class="memdesc:ga559a9ce5488cd9e5eb04c3635ab30875"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set sPMPCFGx by csr index.  <a href="group__NMSIS__Core__SPMP.html#ga559a9ce5488cd9e5eb04c3635ab30875">More...</a><br /></td></tr>
<tr class="separator:ga559a9ce5488cd9e5eb04c3635ab30875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc8623c3fb7b13298751b9610290dbaf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gaba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__SPMP.html#gafc8623c3fb7b13298751b9610290dbaf">__get_sPMPxCFG</a> (uint32_t entry_idx)</td></tr>
<tr class="memdesc:gafc8623c3fb7b13298751b9610290dbaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get 8bit sPMPxCFG Register by sPMP entry index.  <a href="group__NMSIS__Core__SPMP.html#gafc8623c3fb7b13298751b9610290dbaf">More...</a><br /></td></tr>
<tr class="separator:gafc8623c3fb7b13298751b9610290dbaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd816bfd31a9d31b373c41f95e720539"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gaba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__SPMP.html#gadd816bfd31a9d31b373c41f95e720539">__set_sPMPxCFG</a> (uint32_t entry_idx, uint8_t spmpxcfg)</td></tr>
<tr class="memdesc:gadd816bfd31a9d31b373c41f95e720539"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set 8bit sPMPxCFG by spmp entry index.  <a href="group__NMSIS__Core__SPMP.html#gadd816bfd31a9d31b373c41f95e720539">More...</a><br /></td></tr>
<tr class="separator:gadd816bfd31a9d31b373c41f95e720539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8569b0e5dc76c434bb0022dacde1f2d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gaba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> <a class="el" href="group__NMSIS__Core__Registers.html#ga4dee6b95a366e4c3162d814d81a1301b">rv_csr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__SPMP.html#ga8569b0e5dc76c434bb0022dacde1f2d7">__get_sPMPADDRx</a> (uint32_t csr_idx)</td></tr>
<tr class="memdesc:ga8569b0e5dc76c434bb0022dacde1f2d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get sPMPADDRx Register by CSR index.  <a href="group__NMSIS__Core__SPMP.html#ga8569b0e5dc76c434bb0022dacde1f2d7">More...</a><br /></td></tr>
<tr class="separator:ga8569b0e5dc76c434bb0022dacde1f2d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c2a928ba078b1f6a734a7520c98daac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gaba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__SPMP.html#ga3c2a928ba078b1f6a734a7520c98daac">__set_sPMPADDRx</a> (uint32_t csr_idx, <a class="el" href="group__NMSIS__Core__Registers.html#ga4dee6b95a366e4c3162d814d81a1301b">rv_csr_t</a> spmpaddr)</td></tr>
<tr class="memdesc:ga3c2a928ba078b1f6a734a7520c98daac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set sPMPADDRx by CSR index.  <a href="group__NMSIS__Core__SPMP.html#ga3c2a928ba078b1f6a734a7520c98daac">More...</a><br /></td></tr>
<tr class="separator:ga3c2a928ba078b1f6a734a7520c98daac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5d192a1d325f624cb65ca501fab6b3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gaba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__SPMP.html#gac5d192a1d325f624cb65ca501fab6b3a">__set_sPMPENTRYx</a> (uint32_t entry_idx, const <a class="el" href="structspmp__config.html">spmp_config</a> *spmp_cfg)</td></tr>
<tr class="memdesc:gac5d192a1d325f624cb65ca501fab6b3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set sPMP entry by entry idx.  <a href="group__NMSIS__Core__SPMP.html#gac5d192a1d325f624cb65ca501fab6b3a">More...</a><br /></td></tr>
<tr class="separator:gac5d192a1d325f624cb65ca501fab6b3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga34656997d11753ea521266fb6f34f0be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gaba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__SPMP.html#ga34656997d11753ea521266fb6f34f0be">__get_sPMPENTRYx</a> (unsigned int entry_idx, <a class="el" href="structspmp__config.html">spmp_config</a> *spmp_cfg)</td></tr>
<tr class="memdesc:ga34656997d11753ea521266fb6f34f0be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get sPMP entry by entry idx.  <a href="group__NMSIS__Core__SPMP.html#ga34656997d11753ea521266fb6f34f0be">More...</a><br /></td></tr>
<tr class="separator:ga34656997d11753ea521266fb6f34f0be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76a09caf6ee9783b3f935332c9dc4bad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gaba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__SPMP.html#ga76a09caf6ee9783b3f935332c9dc4bad">__set_SMPUSWITCHx</a> (uint64_t val)</td></tr>
<tr class="memdesc:ga76a09caf6ee9783b3f935332c9dc4bad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set SMPU each entry's on/off status.  <a href="group__NMSIS__Core__SPMP.html#ga76a09caf6ee9783b3f935332c9dc4bad">More...</a><br /></td></tr>
<tr class="separator:ga76a09caf6ee9783b3f935332c9dc4bad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ed193105193b8ad120257a5d1acda0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gaba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__SPMP.html#ga2ed193105193b8ad120257a5d1acda0a">__get_SMPUSWITCHx</a> (void)</td></tr>
<tr class="memdesc:ga2ed193105193b8ad120257a5d1acda0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get SMPU each entry's on/off status.  <a href="group__NMSIS__Core__SPMP.html#ga2ed193105193b8ad120257a5d1acda0a">More...</a><br /></td></tr>
<tr class="separator:ga2ed193105193b8ad120257a5d1acda0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions that related to the RISCV supervisor-mode Phyiscal Memory Protection. </p>
<p>Optional superviosr physical memory protection (sPMP) unit provides per-hart supervisor-mode control registers to allow physical memory access privileges (read, write, execute) to be specified for each physical memory region. The sPMP values are checked after the physical address to be accessed pass PMP checks described in the RISC-V privileged spec.</p>
<p>Like PMP, the sPMP can supports region access control settings as small as four bytes. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gab5ff3fe35571a7e72890024dfa5900ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab5ff3fe35571a7e72890024dfa5900ee">&#9670;&nbsp;</a></span>__get_SMPUADDRx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __get_SMPUADDRx&#160;&#160;&#160;<a class="el" href="group__NMSIS__Core__SPMP.html#ga8569b0e5dc76c434bb0022dacde1f2d7">__get_sPMPADDRx</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="core__feature__spmp_8h_source.html#l00393">393</a> of file <a class="el" href="core__feature__spmp_8h_source.html">core_feature_spmp.h</a>.</p>

</div>
</div>
<a id="gaa2b708cfc8ef56de49fcca3a65e0be28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa2b708cfc8ef56de49fcca3a65e0be28">&#9670;&nbsp;</a></span>__get_SMPUCFGx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __get_SMPUCFGx&#160;&#160;&#160;<a class="el" href="group__NMSIS__Core__SPMP.html#gade76db4cf711cd1c5ccf17d23fd69c38">__get_sPMPCFGx</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="core__feature__spmp_8h_source.html#l00389">389</a> of file <a class="el" href="core__feature__spmp_8h_source.html">core_feature_spmp.h</a>.</p>

</div>
</div>
<a id="gafaa7e414886dd538f4c98542d9ed8cf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafaa7e414886dd538f4c98542d9ed8cf7">&#9670;&nbsp;</a></span>__get_SMPUENTRYx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __get_SMPUENTRYx&#160;&#160;&#160;<a class="el" href="group__NMSIS__Core__SPMP.html#ga34656997d11753ea521266fb6f34f0be">__get_sPMPENTRYx</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="core__feature__spmp_8h_source.html#l00396">396</a> of file <a class="el" href="core__feature__spmp_8h_source.html">core_feature_spmp.h</a>.</p>

</div>
</div>
<a id="ga982290313547bbc369cb934a5985f38a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga982290313547bbc369cb934a5985f38a">&#9670;&nbsp;</a></span>__get_SMPUxCFG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __get_SMPUxCFG&#160;&#160;&#160;<a class="el" href="group__NMSIS__Core__SPMP.html#gafc8623c3fb7b13298751b9610290dbaf">__get_sPMPxCFG</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="core__feature__spmp_8h_source.html#l00391">391</a> of file <a class="el" href="core__feature__spmp_8h_source.html">core_feature_spmp.h</a>.</p>

</div>
</div>
<a id="ga900381dd340815a444c31629e8121b9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga900381dd340815a444c31629e8121b9f">&#9670;&nbsp;</a></span>__set_SMPUADDRx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __set_SMPUADDRx&#160;&#160;&#160;<a class="el" href="group__NMSIS__Core__SPMP.html#ga3c2a928ba078b1f6a734a7520c98daac">__set_sPMPADDRx</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="core__feature__spmp_8h_source.html#l00394">394</a> of file <a class="el" href="core__feature__spmp_8h_source.html">core_feature_spmp.h</a>.</p>

</div>
</div>
<a id="ga4bfa6f36bcdd66b9b1c0e7445c49dae3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4bfa6f36bcdd66b9b1c0e7445c49dae3">&#9670;&nbsp;</a></span>__set_SMPUCFGx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __set_SMPUCFGx&#160;&#160;&#160;<a class="el" href="group__NMSIS__Core__SPMP.html#ga559a9ce5488cd9e5eb04c3635ab30875">__set_sPMPCFGx</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="core__feature__spmp_8h_source.html#l00390">390</a> of file <a class="el" href="core__feature__spmp_8h_source.html">core_feature_spmp.h</a>.</p>

</div>
</div>
<a id="ga3e322f37134868e7646870e25e29e33f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3e322f37134868e7646870e25e29e33f">&#9670;&nbsp;</a></span>__set_SMPUENTRYx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __set_SMPUENTRYx&#160;&#160;&#160;<a class="el" href="group__NMSIS__Core__SPMP.html#gac5d192a1d325f624cb65ca501fab6b3a">__set_sPMPENTRYx</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="core__feature__spmp_8h_source.html#l00395">395</a> of file <a class="el" href="core__feature__spmp_8h_source.html">core_feature_spmp.h</a>.</p>

</div>
</div>
<a id="ga265ba39a8408835c6bc2c71e3a0a8b8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga265ba39a8408835c6bc2c71e3a0a8b8e">&#9670;&nbsp;</a></span>__set_SMPUxCFG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __set_SMPUxCFG&#160;&#160;&#160;<a class="el" href="group__NMSIS__Core__SPMP.html#gadd816bfd31a9d31b373c41f95e720539">__set_sPMPxCFG</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="core__feature__spmp_8h_source.html#l00392">392</a> of file <a class="el" href="core__feature__spmp_8h_source.html">core_feature_spmp.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gabe0bc3636692e7c7fed537429972e27b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabe0bc3636692e7c7fed537429972e27b">&#9670;&nbsp;</a></span>smpu_config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structspmp__config.html">spmp_config</a> <a class="el" href="group__NMSIS__Core__SPMP.html#gabe0bc3636692e7c7fed537429972e27b">smpu_config</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sPMP has upgraded to S-mode Memory Protection Unit, renamed as SMPU, but still share the apis with sPMP's </p>

<p class="definition">Definition at line <a class="el" href="core__feature__spmp_8h_source.html#l00388">388</a> of file <a class="el" href="core__feature__spmp_8h_source.html">core_feature_spmp.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga2ed193105193b8ad120257a5d1acda0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2ed193105193b8ad120257a5d1acda0a">&#9670;&nbsp;</a></span>__get_SMPUSWITCHx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gaba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> uint64_t __get_SMPUSWITCHx </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get SMPU each entry's on/off status. </p>
<p>Get the value of the SMPUSWITCHx Register. </p><dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>Each bit of this register holds on/off status of the corresponding SMPU entry respectively.</li>
<li>An SMPU entry is activated only when both corresponding bits in smpuswitch and A field of smpuicfg are set. (i.e., smpuswitch[i] &amp; smpu[i]cfg.A). </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__spmp_8h_source.html#l00427">427</a> of file <a class="el" href="core__feature__spmp_8h_source.html">core_feature_spmp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;{</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="preprocessor">#if __RISCV_XLEN == 32</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    uint32_t lo, hi = 0;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    lo = <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gae6e276efb39fb59d96376b13966e47fe">CSR_SMPUSWITCH0</a>);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    hi = <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga7bf461ae9fbed0b17b732e0d7b1edee3">CSR_SMPUSWITCH1</a>);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">return</span> (uint64_t)((((uint64_t)hi) &lt;&lt; 32) | lo);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="preprocessor">#elif __RISCV_XLEN == 64</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordflow">return</span> (uint64_t)<a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gae6e276efb39fb59d96376b13966e47fe">CSR_SMPUSWITCH0</a>);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="comment">// TODO Add RV128 Handling</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;}</div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Register__Access_html_ga355c96e5bd1ab3df0203e23a887c00c0"><div class="ttname"><a href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a></div><div class="ttdeci">#define __RV_CSR_READ(csr)</div><div class="ttdoc">CSR operation Macro for csrr instruction.</div><div class="ttdef"><b>Definition:</b> <a href="core__feature__base_8h_source.html#l00642">core_feature_base.h:642</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_ga7bf461ae9fbed0b17b732e0d7b1edee3"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#ga7bf461ae9fbed0b17b732e0d7b1edee3">CSR_SMPUSWITCH1</a></div><div class="ttdeci">#define CSR_SMPUSWITCH1</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00959">riscv_encoding.h:959</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_gae6e276efb39fb59d96376b13966e47fe"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#gae6e276efb39fb59d96376b13966e47fe">CSR_SMPUSWITCH0</a></div><div class="ttdeci">#define CSR_SMPUSWITCH0</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00958">riscv_encoding.h:958</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="core__feature__base_8h_source.html#l00642">__RV_CSR_READ</a>, <a class="el" href="riscv__encoding_8h_source.html#l00958">CSR_SMPUSWITCH0</a>, and <a class="el" href="riscv__encoding_8h_source.html#l00959">CSR_SMPUSWITCH1</a>.</p>

</div>
</div>
<a id="ga8569b0e5dc76c434bb0022dacde1f2d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8569b0e5dc76c434bb0022dacde1f2d7">&#9670;&nbsp;</a></span>__get_sPMPADDRx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gaba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> <a class="el" href="group__NMSIS__Core__Registers.html#ga4dee6b95a366e4c3162d814d81a1301b">rv_csr_t</a> __get_sPMPADDRx </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>csr_idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get sPMPADDRx Register by CSR index. </p>
<p>Return the content of the sPMPADDRx Register. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">csr_idx</td><td>sPMP region CSR index(0-15) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>sPMPADDRx Register value </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__spmp_8h_source.html#l00212">212</a> of file <a class="el" href="core__feature__spmp_8h_source.html">core_feature_spmp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;{</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">switch</span> (csr_idx) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keywordflow">case</span> 0: <span class="keywordflow">return</span> <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga444f463df25b264807a9a21586d3642f">CSR_SPMPADDR0</a>);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keywordflow">case</span> 1: <span class="keywordflow">return</span> <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga95916391349650863a75672f5ba09eff">CSR_SPMPADDR1</a>);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">case</span> 2: <span class="keywordflow">return</span> <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gac4a49927351f9bd03afafd1280c6c7e5">CSR_SPMPADDR2</a>);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="keywordflow">case</span> 3: <span class="keywordflow">return</span> <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gae768d2adffb36a40d02f3a637db7c5be">CSR_SPMPADDR3</a>);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keywordflow">case</span> 4: <span class="keywordflow">return</span> <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gaffecb65da22b2a02c085423187bf19da">CSR_SPMPADDR4</a>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">case</span> 5: <span class="keywordflow">return</span> <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gafd6dc07656b6d6e3f72e6d0bb1a69f45">CSR_SPMPADDR5</a>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">case</span> 6: <span class="keywordflow">return</span> <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gad460161f33c9d9781b8164f0c66f4a54">CSR_SPMPADDR6</a>);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">case</span> 7: <span class="keywordflow">return</span> <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gac9c1812274f86f3e3fc9716c4bb24bf2">CSR_SPMPADDR7</a>);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordflow">case</span> 8: <span class="keywordflow">return</span> <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gac4916c1385a8999ca73ef115b97ee330">CSR_SPMPADDR8</a>);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">case</span> 9: <span class="keywordflow">return</span> <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga3f6df6ed01d22da0b3ac69d668b04953">CSR_SPMPADDR9</a>);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">case</span> 10: <span class="keywordflow">return</span> <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga3e214be18ea7b9ec4811884972e40b02">CSR_SPMPADDR10</a>);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">case</span> 11: <span class="keywordflow">return</span> <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga61d4943ae12afe4758d8ec688378e677">CSR_SPMPADDR11</a>);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">case</span> 12: <span class="keywordflow">return</span> <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga8de51987aed0c374e533e6e03701b98d">CSR_SPMPADDR12</a>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">case</span> 13: <span class="keywordflow">return</span> <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gadccdc1394f893014a3016dd63da11746">CSR_SPMPADDR13</a>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">case</span> 14: <span class="keywordflow">return</span> <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga70ce11868eae64e10395760ee9ba45cf">CSR_SPMPADDR14</a>);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">case</span> 15: <span class="keywordflow">return</span> <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gafae126e7cad1ec9bf4cbcd7d98728f7d">CSR_SPMPADDR15</a>);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">default</span>: <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;}</div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_ga3e214be18ea7b9ec4811884972e40b02"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#ga3e214be18ea7b9ec4811884972e40b02">CSR_SPMPADDR10</a></div><div class="ttdeci">#define CSR_SPMPADDR10</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00930">riscv_encoding.h:930</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_ga3f6df6ed01d22da0b3ac69d668b04953"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#ga3f6df6ed01d22da0b3ac69d668b04953">CSR_SPMPADDR9</a></div><div class="ttdeci">#define CSR_SPMPADDR9</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00929">riscv_encoding.h:929</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_ga444f463df25b264807a9a21586d3642f"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#ga444f463df25b264807a9a21586d3642f">CSR_SPMPADDR0</a></div><div class="ttdeci">#define CSR_SPMPADDR0</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00920">riscv_encoding.h:920</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_ga61d4943ae12afe4758d8ec688378e677"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#ga61d4943ae12afe4758d8ec688378e677">CSR_SPMPADDR11</a></div><div class="ttdeci">#define CSR_SPMPADDR11</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00931">riscv_encoding.h:931</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_ga70ce11868eae64e10395760ee9ba45cf"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#ga70ce11868eae64e10395760ee9ba45cf">CSR_SPMPADDR14</a></div><div class="ttdeci">#define CSR_SPMPADDR14</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00934">riscv_encoding.h:934</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_ga8de51987aed0c374e533e6e03701b98d"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#ga8de51987aed0c374e533e6e03701b98d">CSR_SPMPADDR12</a></div><div class="ttdeci">#define CSR_SPMPADDR12</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00932">riscv_encoding.h:932</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_ga95916391349650863a75672f5ba09eff"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#ga95916391349650863a75672f5ba09eff">CSR_SPMPADDR1</a></div><div class="ttdeci">#define CSR_SPMPADDR1</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00921">riscv_encoding.h:921</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_gac4916c1385a8999ca73ef115b97ee330"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#gac4916c1385a8999ca73ef115b97ee330">CSR_SPMPADDR8</a></div><div class="ttdeci">#define CSR_SPMPADDR8</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00928">riscv_encoding.h:928</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_gac4a49927351f9bd03afafd1280c6c7e5"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#gac4a49927351f9bd03afafd1280c6c7e5">CSR_SPMPADDR2</a></div><div class="ttdeci">#define CSR_SPMPADDR2</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00922">riscv_encoding.h:922</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_gac9c1812274f86f3e3fc9716c4bb24bf2"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#gac9c1812274f86f3e3fc9716c4bb24bf2">CSR_SPMPADDR7</a></div><div class="ttdeci">#define CSR_SPMPADDR7</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00927">riscv_encoding.h:927</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_gad460161f33c9d9781b8164f0c66f4a54"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#gad460161f33c9d9781b8164f0c66f4a54">CSR_SPMPADDR6</a></div><div class="ttdeci">#define CSR_SPMPADDR6</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00926">riscv_encoding.h:926</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_gadccdc1394f893014a3016dd63da11746"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#gadccdc1394f893014a3016dd63da11746">CSR_SPMPADDR13</a></div><div class="ttdeci">#define CSR_SPMPADDR13</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00933">riscv_encoding.h:933</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_gae768d2adffb36a40d02f3a637db7c5be"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#gae768d2adffb36a40d02f3a637db7c5be">CSR_SPMPADDR3</a></div><div class="ttdeci">#define CSR_SPMPADDR3</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00923">riscv_encoding.h:923</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_gafae126e7cad1ec9bf4cbcd7d98728f7d"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#gafae126e7cad1ec9bf4cbcd7d98728f7d">CSR_SPMPADDR15</a></div><div class="ttdeci">#define CSR_SPMPADDR15</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00935">riscv_encoding.h:935</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_gafd6dc07656b6d6e3f72e6d0bb1a69f45"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#gafd6dc07656b6d6e3f72e6d0bb1a69f45">CSR_SPMPADDR5</a></div><div class="ttdeci">#define CSR_SPMPADDR5</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00925">riscv_encoding.h:925</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_gaffecb65da22b2a02c085423187bf19da"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#gaffecb65da22b2a02c085423187bf19da">CSR_SPMPADDR4</a></div><div class="ttdeci">#define CSR_SPMPADDR4</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00924">riscv_encoding.h:924</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="core__feature__base_8h_source.html#l00642">__RV_CSR_READ</a>, <a class="el" href="riscv__encoding_8h_source.html#l00920">CSR_SPMPADDR0</a>, <a class="el" href="riscv__encoding_8h_source.html#l00921">CSR_SPMPADDR1</a>, <a class="el" href="riscv__encoding_8h_source.html#l00930">CSR_SPMPADDR10</a>, <a class="el" href="riscv__encoding_8h_source.html#l00931">CSR_SPMPADDR11</a>, <a class="el" href="riscv__encoding_8h_source.html#l00932">CSR_SPMPADDR12</a>, <a class="el" href="riscv__encoding_8h_source.html#l00933">CSR_SPMPADDR13</a>, <a class="el" href="riscv__encoding_8h_source.html#l00934">CSR_SPMPADDR14</a>, <a class="el" href="riscv__encoding_8h_source.html#l00935">CSR_SPMPADDR15</a>, <a class="el" href="riscv__encoding_8h_source.html#l00922">CSR_SPMPADDR2</a>, <a class="el" href="riscv__encoding_8h_source.html#l00923">CSR_SPMPADDR3</a>, <a class="el" href="riscv__encoding_8h_source.html#l00924">CSR_SPMPADDR4</a>, <a class="el" href="riscv__encoding_8h_source.html#l00925">CSR_SPMPADDR5</a>, <a class="el" href="riscv__encoding_8h_source.html#l00926">CSR_SPMPADDR6</a>, <a class="el" href="riscv__encoding_8h_source.html#l00927">CSR_SPMPADDR7</a>, <a class="el" href="riscv__encoding_8h_source.html#l00928">CSR_SPMPADDR8</a>, and <a class="el" href="riscv__encoding_8h_source.html#l00929">CSR_SPMPADDR9</a>.</p>

<p class="reference">Referenced by <a class="el" href="core__feature__spmp_8h_source.html#l00336">__get_sPMPENTRYx()</a>.</p>

</div>
</div>
<a id="gade76db4cf711cd1c5ccf17d23fd69c38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade76db4cf711cd1c5ccf17d23fd69c38">&#9670;&nbsp;</a></span>__get_sPMPCFGx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gaba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> <a class="el" href="group__NMSIS__Core__Registers.html#ga4dee6b95a366e4c3162d814d81a1301b">rv_csr_t</a> __get_sPMPCFGx </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>csr_idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get sPMPCFGx Register by csr index. </p>
<p>Return the content of the sPMPCFGx Register. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">csr_idx</td><td>sPMPCFG CSR index(0-3) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>sPMPCFGx Register value </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>For RV64, only csr_idx = 0 and csr_idx = 2 is allowed. spmpcfg0 and spmpcfg2 hold the configurations for the 16 sPMP entries, spmpcfg1 and spmpcfg3 are illegal</li>
<li>For RV32, spmpcfg0–spmpcfg3, hold the configurations spmp0cfg–spmp15cfg for the 16 sPMP entries </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__spmp_8h_source.html#l00095">95</a> of file <a class="el" href="core__feature__spmp_8h_source.html">core_feature_spmp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;{</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">switch</span> (csr_idx) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">case</span> 0: <span class="keywordflow">return</span> <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga9ba401387323d3fdfbe93c901c080954">CSR_SPMPCFG0</a>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">case</span> 1: <span class="keywordflow">return</span> <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gaec59cd1e18d5fd43934e746643fd5d69">CSR_SPMPCFG1</a>);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keywordflow">case</span> 2: <span class="keywordflow">return</span> <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gade3ff3f3d224893b183e254563c8c679">CSR_SPMPCFG2</a>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">case</span> 3: <span class="keywordflow">return</span> <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#ga355c96e5bd1ab3df0203e23a887c00c0">__RV_CSR_READ</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga39ab50479a50302d271fb6b8f770d63c">CSR_SPMPCFG3</a>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">default</span>: <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_ga39ab50479a50302d271fb6b8f770d63c"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#ga39ab50479a50302d271fb6b8f770d63c">CSR_SPMPCFG3</a></div><div class="ttdeci">#define CSR_SPMPCFG3</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00919">riscv_encoding.h:919</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_ga9ba401387323d3fdfbe93c901c080954"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#ga9ba401387323d3fdfbe93c901c080954">CSR_SPMPCFG0</a></div><div class="ttdeci">#define CSR_SPMPCFG0</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00916">riscv_encoding.h:916</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_gade3ff3f3d224893b183e254563c8c679"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#gade3ff3f3d224893b183e254563c8c679">CSR_SPMPCFG2</a></div><div class="ttdeci">#define CSR_SPMPCFG2</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00918">riscv_encoding.h:918</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Registers_html_gaec59cd1e18d5fd43934e746643fd5d69"><div class="ttname"><a href="group__NMSIS__Core__CSR__Registers.html#gaec59cd1e18d5fd43934e746643fd5d69">CSR_SPMPCFG1</a></div><div class="ttdeci">#define CSR_SPMPCFG1</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00917">riscv_encoding.h:917</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="core__feature__base_8h_source.html#l00642">__RV_CSR_READ</a>, <a class="el" href="riscv__encoding_8h_source.html#l00916">CSR_SPMPCFG0</a>, <a class="el" href="riscv__encoding_8h_source.html#l00917">CSR_SPMPCFG1</a>, <a class="el" href="riscv__encoding_8h_source.html#l00918">CSR_SPMPCFG2</a>, and <a class="el" href="riscv__encoding_8h_source.html#l00919">CSR_SPMPCFG3</a>.</p>

<p class="reference">Referenced by <a class="el" href="core__feature__spmp_8h_source.html#l00336">__get_sPMPENTRYx()</a>, <a class="el" href="core__feature__spmp_8h_source.html#l00135">__get_sPMPxCFG()</a>, <a class="el" href="core__feature__spmp_8h_source.html#l00275">__set_sPMPENTRYx()</a>, and <a class="el" href="core__feature__spmp_8h_source.html#l00175">__set_sPMPxCFG()</a>.</p>

</div>
</div>
<a id="ga34656997d11753ea521266fb6f34f0be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga34656997d11753ea521266fb6f34f0be">&#9670;&nbsp;</a></span>__get_sPMPENTRYx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gaba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> int __get_sPMPENTRYx </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>entry_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structspmp__config.html">spmp_config</a> *&#160;</td>
          <td class="paramname"><em>spmp_cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get sPMP entry by entry idx. </p>
<p>Write the given value to the sPMPxCFG Register and sPMPADDRx. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">entry_idx</td><td>sPMP entry index(0-15) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">spmp_cfg</td><td>structure of L, U, X, W, R, A field of sPMP configuration register, memory region base address and size of memory region as power of 2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 failure, else 0 success </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>If the size of memory region is 2^12(4KB) range, spmp_cfg-&gt;order makes 12, and the like.</li>
<li>TOR of A field in PMP configuration register is not considered here. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__spmp_8h_source.html#l00336">336</a> of file <a class="el" href="core__feature__spmp_8h_source.html">core_feature_spmp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;{</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cfg_shift, cfg_csr_idx, addr_csr_idx = 0;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> cfgmask, spmpcfg, prot = 0;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> t1, addr, spmpaddr, len = 0;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    uint8_t csr_cfg_num = 0;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="comment">/* check parameters */</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">if</span> (entry_idx &gt;= __SPMP_ENTRY_NUM || !spmp_cfg) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">/* calculate sPMP register and offset */</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="preprocessor">#if __RISCV_XLEN == 32</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    csr_cfg_num = 4;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    cfg_csr_idx = entry_idx &gt;&gt; 2;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="preprocessor">#elif __RISCV_XLEN == 64</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    csr_cfg_num = 8;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    cfg_csr_idx = (entry_idx &gt;&gt; 2) &amp; ~1;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">// TODO Add RV128 Handling</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    cfg_shift = (entry_idx &amp; (csr_cfg_num - 1)) &lt;&lt; 3;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    addr_csr_idx = entry_idx;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="comment">/* decode sPMP config */</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    cfgmask = (0xFFUL &lt;&lt; cfg_shift);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    spmpcfg = (<a class="code" href="group__NMSIS__Core__SPMP.html#gade76db4cf711cd1c5ccf17d23fd69c38">__get_sPMPCFGx</a>(cfg_csr_idx) &amp; cfgmask);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    prot    = spmpcfg &gt;&gt; cfg_shift;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="comment">/* decode sPMP address */</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    spmpaddr = <a class="code" href="group__NMSIS__Core__SPMP.html#ga8569b0e5dc76c434bb0022dacde1f2d7">__get_sPMPADDRx</a>(addr_csr_idx);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__NMSIS__Core__CSR__Encoding.html#gaa8d90c293d07bc28c23c6557cb331897">SPMP_A_NAPOT</a> == (prot &amp; <a class="code" href="group__NMSIS__Core__CSR__Encoding.html#ga03bd5c174b49577ff8fdff75b1b5716b">SPMP_A</a>)) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        t1 = <a class="code" href="group__NMSIS__Core__ARMCompatiable__Functions.html#ga211738702768401adf8308c35e854ef3">__CTZ</a>(~spmpaddr);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        addr = (spmpaddr &amp; ~((1UL &lt;&lt; t1) - 1)) &lt;&lt; <a class="code" href="group__NMSIS__Core__CSR__Encoding.html#gafe8821387ea7516af62e716901a75557">SPMP_SHIFT</a>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        len = (t1 + <a class="code" href="group__NMSIS__Core__CSR__Encoding.html#gafe8821387ea7516af62e716901a75557">SPMP_SHIFT</a> + 1);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        addr = spmpaddr &lt;&lt; <a class="code" href="group__NMSIS__Core__CSR__Encoding.html#gafe8821387ea7516af62e716901a75557">SPMP_SHIFT</a>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        len = <a class="code" href="group__NMSIS__Core__CSR__Encoding.html#gafe8821387ea7516af62e716901a75557">SPMP_SHIFT</a>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="comment">/* return details */</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    spmp_cfg-&gt;<a class="code" href="structspmp__config.html#aae2dfe2799f910ed4bb08eb98aa46fa4">protection</a> = prot;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    spmp_cfg-&gt;<a class="code" href="structspmp__config.html#a38f0cac1ade030c9b1e4763a1610b07b">base_addr</a> = addr;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    spmp_cfg-&gt;<a class="code" href="structspmp__config.html#ac00650f4922ce3aba873d2f75137e3e3">order</a> = len;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;}</div>
<div class="ttc" id="agroup__NMSIS__Core__ARMCompatiable__Functions_html_ga211738702768401adf8308c35e854ef3"><div class="ttname"><a href="group__NMSIS__Core__ARMCompatiable__Functions.html#ga211738702768401adf8308c35e854ef3">__CTZ</a></div><div class="ttdeci">__STATIC_FORCEINLINE unsigned long __CTZ(unsigned long data)</div><div class="ttdoc">Count tailing zero.</div><div class="ttdef"><b>Definition:</b> <a href="core__compatiable_8h_source.html#l00257">core_compatiable.h:257</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Encoding_html_ga03bd5c174b49577ff8fdff75b1b5716b"><div class="ttname"><a href="group__NMSIS__Core__CSR__Encoding.html#ga03bd5c174b49577ff8fdff75b1b5716b">SPMP_A</a></div><div class="ttdeci">#define SPMP_A</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00451">riscv_encoding.h:451</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Encoding_html_gaa8d90c293d07bc28c23c6557cb331897"><div class="ttname"><a href="group__NMSIS__Core__CSR__Encoding.html#gaa8d90c293d07bc28c23c6557cb331897">SPMP_A_NAPOT</a></div><div class="ttdeci">#define SPMP_A_NAPOT</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00454">riscv_encoding.h:454</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Encoding_html_gafe8821387ea7516af62e716901a75557"><div class="ttname"><a href="group__NMSIS__Core__CSR__Encoding.html#gafe8821387ea7516af62e716901a75557">SPMP_SHIFT</a></div><div class="ttdeci">#define SPMP_SHIFT</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00458">riscv_encoding.h:458</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__SPMP_html_ga8569b0e5dc76c434bb0022dacde1f2d7"><div class="ttname"><a href="group__NMSIS__Core__SPMP.html#ga8569b0e5dc76c434bb0022dacde1f2d7">__get_sPMPADDRx</a></div><div class="ttdeci">__STATIC_INLINE rv_csr_t __get_sPMPADDRx(uint32_t csr_idx)</div><div class="ttdoc">Get sPMPADDRx Register by CSR index.</div><div class="ttdef"><b>Definition:</b> <a href="core__feature__spmp_8h_source.html#l00212">core_feature_spmp.h:212</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__SPMP_html_gade76db4cf711cd1c5ccf17d23fd69c38"><div class="ttname"><a href="group__NMSIS__Core__SPMP.html#gade76db4cf711cd1c5ccf17d23fd69c38">__get_sPMPCFGx</a></div><div class="ttdeci">__STATIC_INLINE rv_csr_t __get_sPMPCFGx(uint32_t csr_idx)</div><div class="ttdoc">Get sPMPCFGx Register by csr index.</div><div class="ttdef"><b>Definition:</b> <a href="core__feature__spmp_8h_source.html#l00095">core_feature_spmp.h:95</a></div></div>
<div class="ttc" id="astructspmp__config_html_a38f0cac1ade030c9b1e4763a1610b07b"><div class="ttname"><a href="structspmp__config.html#a38f0cac1ade030c9b1e4763a1610b07b">spmp_config::base_addr</a></div><div class="ttdeci">unsigned long base_addr</div><div class="ttdoc">Base address of memory region It must be 2^order aligned address.</div><div class="ttdef"><b>Definition:</b> <a href="core__feature__spmp_8h_source.html#l00080">core_feature_spmp.h:80</a></div></div>
<div class="ttc" id="astructspmp__config_html_aae2dfe2799f910ed4bb08eb98aa46fa4"><div class="ttname"><a href="structspmp__config.html#aae2dfe2799f910ed4bb08eb98aa46fa4">spmp_config::protection</a></div><div class="ttdeci">unsigned int protection</div><div class="ttdoc">Set permissions using macros SMPU_S/ SMPU_R/SMPU_W/ SMPU_X of SMPU; SPMP_L/ SPMP_U/SPMP_R/ SPMP_W/SPM...</div><div class="ttdef"><b>Definition:</b> <a href="core__feature__spmp_8h_source.html#l00069">core_feature_spmp.h:69</a></div></div>
<div class="ttc" id="astructspmp__config_html_ac00650f4922ce3aba873d2f75137e3e3"><div class="ttname"><a href="structspmp__config.html#ac00650f4922ce3aba873d2f75137e3e3">spmp_config::order</a></div><div class="ttdeci">unsigned long order</div><div class="ttdoc">Size of memory region as power of 2, it has to be minimum 2 and maxium __RISCV_XLEN according to the ...</div><div class="ttdef"><b>Definition:</b> <a href="core__feature__spmp_8h_source.html#l00075">core_feature_spmp.h:75</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="core__compatiable_8h_source.html#l00257">__CTZ()</a>, <a class="el" href="core__feature__spmp_8h_source.html#l00212">__get_sPMPADDRx()</a>, <a class="el" href="core__feature__spmp_8h_source.html#l00095">__get_sPMPCFGx()</a>, <a class="el" href="core__feature__spmp_8h_source.html#l00080">spmp_config::base_addr</a>, <a class="el" href="core__feature__spmp_8h_source.html#l00075">spmp_config::order</a>, <a class="el" href="core__feature__spmp_8h_source.html#l00069">spmp_config::protection</a>, <a class="el" href="riscv__encoding_8h_source.html#l00451">SPMP_A</a>, <a class="el" href="riscv__encoding_8h_source.html#l00454">SPMP_A_NAPOT</a>, and <a class="el" href="riscv__encoding_8h_source.html#l00458">SPMP_SHIFT</a>.</p>

</div>
</div>
<a id="gafc8623c3fb7b13298751b9610290dbaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafc8623c3fb7b13298751b9610290dbaf">&#9670;&nbsp;</a></span>__get_sPMPxCFG()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gaba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> uint8_t __get_sPMPxCFG </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>entry_idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get 8bit sPMPxCFG Register by sPMP entry index. </p>
<p>Return the content of the sPMPxCFG Register. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">entry_idx</td><td>sPMP region index(0-15) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>sPMPxCFG Register value </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__spmp_8h_source.html#l00135">135</a> of file <a class="el" href="core__feature__spmp_8h_source.html">core_feature_spmp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;{</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="group__NMSIS__Core__Registers.html#ga4dee6b95a366e4c3162d814d81a1301b">rv_csr_t</a> spmpcfgx = 0;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    uint8_t csr_cfg_num = 0;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    uint16_t csr_idx = 0;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    uint16_t cfg_shift = 0;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">if</span> (entry_idx &gt;= __SPMP_ENTRY_NUM) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="preprocessor">#if __RISCV_XLEN == 32</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    csr_cfg_num = 4;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    csr_idx = entry_idx &gt;&gt; 2;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="preprocessor">#elif __RISCV_XLEN == 64</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    csr_cfg_num = 8;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">/* For RV64, spmpcfg0 and spmpcfg2 each hold 8 sPMP entries, align by 2 */</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    csr_idx = (entry_idx &gt;&gt; 2) &amp; ~1;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">// TODO Add RV128 Handling</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    spmpcfgx = <a class="code" href="group__NMSIS__Core__SPMP.html#gade76db4cf711cd1c5ccf17d23fd69c38">__get_sPMPCFGx</a>(csr_idx);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">     * first get specific spmpxcfg&#39;s order in one CSR composed of csr_cfg_num spmpxcfgs,</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">     * then get spmpxcfg&#39;s bit position in one CSR by left shift 3(each spmpxcfg size is one byte)</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    cfg_shift = (entry_idx &amp; (csr_cfg_num - 1)) &lt;&lt; 3;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="comment">/* read specific spmpxcfg register value */</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">return</span> (uint8_t)(__RV_EXTRACT_FIELD(spmpcfgx, 0xFF &lt;&lt; cfg_shift));</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
<div class="ttc" id="agroup__NMSIS__Core__Registers_html_ga4dee6b95a366e4c3162d814d81a1301b"><div class="ttname"><a href="group__NMSIS__Core__Registers.html#ga4dee6b95a366e4c3162d814d81a1301b">rv_csr_t</a></div><div class="ttdeci">unsigned long rv_csr_t</div><div class="ttdoc">Type of Control and Status Register(CSR), depends on the XLEN defined in RISC-V.</div><div class="ttdef"><b>Definition:</b> <a href="core__feature__base_8h_source.html#l00055">core_feature_base.h:55</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="core__feature__spmp_8h_source.html#l00095">__get_sPMPCFGx()</a>.</p>

</div>
</div>
<a id="ga76a09caf6ee9783b3f935332c9dc4bad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga76a09caf6ee9783b3f935332c9dc4bad">&#9670;&nbsp;</a></span>__set_SMPUSWITCHx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gaba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> void __set_SMPUSWITCHx </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set SMPU each entry's on/off status. </p>
<p>Write the given value to the SMPUSWITCHx Register. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">val</td><td>activate each entry(max to 64) or not </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>Each bit of this register holds on/off status of the corresponding SMPU entry respectively.</li>
<li>An SMPU entry is activated only when both corresponding bits in smpuswitch and A field of smpuicfg are set. (i.e., smpuswitch[i] &amp; smpu[i]cfg.A). </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__spmp_8h_source.html#l00407">407</a> of file <a class="el" href="core__feature__spmp_8h_source.html">core_feature_spmp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;{</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="preprocessor">#if __RISCV_XLEN == 32</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gae6e276efb39fb59d96376b13966e47fe">CSR_SMPUSWITCH0</a>, (uint32_t)val);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga7bf461ae9fbed0b17b732e0d7b1edee3">CSR_SMPUSWITCH1</a>, (uint32_t)(val &gt;&gt; 32));</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="preprocessor">#elif __RISCV_XLEN == 64</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gae6e276efb39fb59d96376b13966e47fe">CSR_SMPUSWITCH0</a>, val);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="comment">// TODO Add RV128 Handling</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;}</div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Register__Access_html_gaa2d43f43f3f333cfd8e5a326a2aed413"><div class="ttname"><a href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a></div><div class="ttdeci">#define __RV_CSR_WRITE(csr, val)</div><div class="ttdoc">CSR operation Macro for csrw instruction.</div><div class="ttdef"><b>Definition:</b> <a href="core__feature__base_8h_source.html#l00660">core_feature_base.h:660</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="core__feature__base_8h_source.html#l00660">__RV_CSR_WRITE</a>, <a class="el" href="riscv__encoding_8h_source.html#l00958">CSR_SMPUSWITCH0</a>, and <a class="el" href="riscv__encoding_8h_source.html#l00959">CSR_SMPUSWITCH1</a>.</p>

</div>
</div>
<a id="ga3c2a928ba078b1f6a734a7520c98daac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3c2a928ba078b1f6a734a7520c98daac">&#9670;&nbsp;</a></span>__set_sPMPADDRx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gaba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> void __set_sPMPADDRx </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>csr_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__NMSIS__Core__Registers.html#ga4dee6b95a366e4c3162d814d81a1301b">rv_csr_t</a>&#160;</td>
          <td class="paramname"><em>spmpaddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set sPMPADDRx by CSR index. </p>
<p>Write the given value to the sPMPADDRx Register. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">csr_idx</td><td>sPMP region CSR index(0-15) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">spmpaddr</td><td>sPMPADDRx Register value to set </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="core__feature__spmp_8h_source.html#l00241">241</a> of file <a class="el" href="core__feature__spmp_8h_source.html">core_feature_spmp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;{</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">switch</span> (csr_idx) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">case</span> 0: <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga444f463df25b264807a9a21586d3642f">CSR_SPMPADDR0</a>, spmpaddr); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">case</span> 1: <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga95916391349650863a75672f5ba09eff">CSR_SPMPADDR1</a>, spmpaddr); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">case</span> 2: <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gac4a49927351f9bd03afafd1280c6c7e5">CSR_SPMPADDR2</a>, spmpaddr); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">case</span> 3: <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gae768d2adffb36a40d02f3a637db7c5be">CSR_SPMPADDR3</a>, spmpaddr); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keywordflow">case</span> 4: <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gaffecb65da22b2a02c085423187bf19da">CSR_SPMPADDR4</a>, spmpaddr); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordflow">case</span> 5: <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gafd6dc07656b6d6e3f72e6d0bb1a69f45">CSR_SPMPADDR5</a>, spmpaddr); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">case</span> 6: <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gad460161f33c9d9781b8164f0c66f4a54">CSR_SPMPADDR6</a>, spmpaddr); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">case</span> 7: <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gac9c1812274f86f3e3fc9716c4bb24bf2">CSR_SPMPADDR7</a>, spmpaddr); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordflow">case</span> 8: <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gac4916c1385a8999ca73ef115b97ee330">CSR_SPMPADDR8</a>, spmpaddr); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="keywordflow">case</span> 9: <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga3f6df6ed01d22da0b3ac69d668b04953">CSR_SPMPADDR9</a>, spmpaddr); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keywordflow">case</span> 10: <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga3e214be18ea7b9ec4811884972e40b02">CSR_SPMPADDR10</a>, spmpaddr); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">case</span> 11: <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga61d4943ae12afe4758d8ec688378e677">CSR_SPMPADDR11</a>, spmpaddr); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keywordflow">case</span> 12: <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga8de51987aed0c374e533e6e03701b98d">CSR_SPMPADDR12</a>, spmpaddr); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">case</span> 13: <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gadccdc1394f893014a3016dd63da11746">CSR_SPMPADDR13</a>, spmpaddr); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">case</span> 14: <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga70ce11868eae64e10395760ee9ba45cf">CSR_SPMPADDR14</a>, spmpaddr); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">case</span> 15: <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gafae126e7cad1ec9bf4cbcd7d98728f7d">CSR_SPMPADDR15</a>, spmpaddr); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">default</span>: <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="core__feature__base_8h_source.html#l00660">__RV_CSR_WRITE</a>, <a class="el" href="riscv__encoding_8h_source.html#l00920">CSR_SPMPADDR0</a>, <a class="el" href="riscv__encoding_8h_source.html#l00921">CSR_SPMPADDR1</a>, <a class="el" href="riscv__encoding_8h_source.html#l00930">CSR_SPMPADDR10</a>, <a class="el" href="riscv__encoding_8h_source.html#l00931">CSR_SPMPADDR11</a>, <a class="el" href="riscv__encoding_8h_source.html#l00932">CSR_SPMPADDR12</a>, <a class="el" href="riscv__encoding_8h_source.html#l00933">CSR_SPMPADDR13</a>, <a class="el" href="riscv__encoding_8h_source.html#l00934">CSR_SPMPADDR14</a>, <a class="el" href="riscv__encoding_8h_source.html#l00935">CSR_SPMPADDR15</a>, <a class="el" href="riscv__encoding_8h_source.html#l00922">CSR_SPMPADDR2</a>, <a class="el" href="riscv__encoding_8h_source.html#l00923">CSR_SPMPADDR3</a>, <a class="el" href="riscv__encoding_8h_source.html#l00924">CSR_SPMPADDR4</a>, <a class="el" href="riscv__encoding_8h_source.html#l00925">CSR_SPMPADDR5</a>, <a class="el" href="riscv__encoding_8h_source.html#l00926">CSR_SPMPADDR6</a>, <a class="el" href="riscv__encoding_8h_source.html#l00927">CSR_SPMPADDR7</a>, <a class="el" href="riscv__encoding_8h_source.html#l00928">CSR_SPMPADDR8</a>, and <a class="el" href="riscv__encoding_8h_source.html#l00929">CSR_SPMPADDR9</a>.</p>

<p class="reference">Referenced by <a class="el" href="core__feature__spmp_8h_source.html#l00275">__set_sPMPENTRYx()</a>.</p>

</div>
</div>
<a id="ga559a9ce5488cd9e5eb04c3635ab30875"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga559a9ce5488cd9e5eb04c3635ab30875">&#9670;&nbsp;</a></span>__set_sPMPCFGx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gaba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> void __set_sPMPCFGx </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>csr_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__NMSIS__Core__Registers.html#ga4dee6b95a366e4c3162d814d81a1301b">rv_csr_t</a>&#160;</td>
          <td class="paramname"><em>spmpcfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set sPMPCFGx by csr index. </p>
<p>Write the given value to the sPMPCFGx Register. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">csr_idx</td><td>sPMPCFG CSR index(0-3) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">spmpcfg</td><td>sPMPCFGx Register value to set </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>For RV64, only csr_idx = 0 and csr_idx = 2 is allowed. spmpcfg0 and spmpcfg2 hold the configurations for the 16 sPMP entries, spmpcfg1 and spmpcfg3 are illegal</li>
<li>For RV32, spmpcfg0–spmpcfg3, hold the configurations spmp0cfg–spmp15cfg for the 16 sPMP entries </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__spmp_8h_source.html#l00118">118</a> of file <a class="el" href="core__feature__spmp_8h_source.html">core_feature_spmp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;{</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">switch</span> (csr_idx) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">case</span> 0: <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga9ba401387323d3fdfbe93c901c080954">CSR_SPMPCFG0</a>, spmpcfg); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="keywordflow">case</span> 1: <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gaec59cd1e18d5fd43934e746643fd5d69">CSR_SPMPCFG1</a>, spmpcfg); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keywordflow">case</span> 2: <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#gade3ff3f3d224893b183e254563c8c679">CSR_SPMPCFG2</a>, spmpcfg); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordflow">case</span> 3: <a class="code" href="group__NMSIS__Core__CSR__Register__Access.html#gaa2d43f43f3f333cfd8e5a326a2aed413">__RV_CSR_WRITE</a>(<a class="code" href="group__NMSIS__Core__CSR__Registers.html#ga39ab50479a50302d271fb6b8f770d63c">CSR_SPMPCFG3</a>, spmpcfg); <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">default</span>: <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="core__feature__base_8h_source.html#l00660">__RV_CSR_WRITE</a>, <a class="el" href="riscv__encoding_8h_source.html#l00916">CSR_SPMPCFG0</a>, <a class="el" href="riscv__encoding_8h_source.html#l00917">CSR_SPMPCFG1</a>, <a class="el" href="riscv__encoding_8h_source.html#l00918">CSR_SPMPCFG2</a>, and <a class="el" href="riscv__encoding_8h_source.html#l00919">CSR_SPMPCFG3</a>.</p>

<p class="reference">Referenced by <a class="el" href="core__feature__spmp_8h_source.html#l00275">__set_sPMPENTRYx()</a>, and <a class="el" href="core__feature__spmp_8h_source.html#l00175">__set_sPMPxCFG()</a>.</p>

</div>
</div>
<a id="gac5d192a1d325f624cb65ca501fab6b3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac5d192a1d325f624cb65ca501fab6b3a">&#9670;&nbsp;</a></span>__set_sPMPENTRYx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gaba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> void __set_sPMPENTRYx </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>entry_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structspmp__config.html">spmp_config</a> *&#160;</td>
          <td class="paramname"><em>spmp_cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set sPMP entry by entry idx. </p>
<p>Write the given value to the sPMPxCFG Register and sPMPADDRx. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">entry_idx</td><td>sPMP entry index(0-15) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">spmp_cfg</td><td>structure of L,U,X,W,R field of sPMP configuration register, memory region base address and size of memory region as power of 2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>If the size of memory region is 2^12(4KB) range, spmp_cfg-&gt;order makes 12, and the like.</li>
<li>Suppose the size of memory region is 2^X bytes range, if X &gt;=3, the NA4 mode is not selectable, NAPOT is selected.</li>
<li>TOR of A field in sPMP configuration register is not considered here. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__spmp_8h_source.html#l00275">275</a> of file <a class="el" href="core__feature__spmp_8h_source.html">core_feature_spmp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;{</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cfg_shift, cfg_csr_idx, addr_csr_idx = 0;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> cfgmask, addrmask = 0;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> spmpcfg, spmpaddr = 0;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> protection, csr_cfg_num = 0;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">/* check parameters */</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">if</span> (entry_idx &gt;= __SPMP_ENTRY_NUM || spmp_cfg-&gt;<a class="code" href="structspmp__config.html#ac00650f4922ce3aba873d2f75137e3e3">order</a> &gt; <a class="code" href="group__NMSIS__Core__Registers.html#ga768dc3bf3c5e4e75e117c4a053b6d0f7">__RISCV_XLEN</a> || spmp_cfg-&gt;<a class="code" href="structspmp__config.html#ac00650f4922ce3aba873d2f75137e3e3">order</a> &lt; <a class="code" href="group__NMSIS__Core__CSR__Encoding.html#gafe8821387ea7516af62e716901a75557">SPMP_SHIFT</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="comment">/* calculate sPMP register and offset */</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="preprocessor">#if __RISCV_XLEN == 32</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    csr_cfg_num = 4;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    cfg_csr_idx = (entry_idx &gt;&gt; 2);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="preprocessor">#elif __RISCV_XLEN == 64</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    csr_cfg_num = 8;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    cfg_csr_idx = ((entry_idx &gt;&gt; 2)) &amp; ~1;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="comment">// TODO Add RV128 Handling</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">     * first get specific spmpxcfg&#39;s order in one CSR composed of csr_cfg_num spmpxcfgs,</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">     * then get spmpxcfg&#39;s bit position in one CSR by left shift 3, each spmpxcfg size is one byte</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    cfg_shift = (entry_idx &amp; (csr_cfg_num - 1)) &lt;&lt; 3;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    addr_csr_idx = entry_idx;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="comment">/* encode sPMP config */</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    protection = (<span class="keywordtype">unsigned</span> long)spmp_cfg-&gt;<a class="code" href="structspmp__config.html#aae2dfe2799f910ed4bb08eb98aa46fa4">protection</a>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    protection |= (<a class="code" href="group__NMSIS__Core__CSR__Encoding.html#gafe8821387ea7516af62e716901a75557">SPMP_SHIFT</a> == spmp_cfg-&gt;<a class="code" href="structspmp__config.html#ac00650f4922ce3aba873d2f75137e3e3">order</a>) ? <a class="code" href="group__NMSIS__Core__CSR__Encoding.html#ga4d387769e4a7659ee0673a732385ec42">SPMP_A_NA4</a> : <a class="code" href="group__NMSIS__Core__CSR__Encoding.html#gaa8d90c293d07bc28c23c6557cb331897">SPMP_A_NAPOT</a>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    cfgmask = ~(0xFFUL &lt;&lt; cfg_shift);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    spmpcfg = (<a class="code" href="group__NMSIS__Core__SPMP.html#gade76db4cf711cd1c5ccf17d23fd69c38">__get_sPMPCFGx</a>(cfg_csr_idx) &amp; cfgmask);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    spmpcfg |= ((protection &lt;&lt; cfg_shift) &amp; ~cfgmask);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="comment">/* encode sPMP address */</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__NMSIS__Core__CSR__Encoding.html#gafe8821387ea7516af62e716901a75557">SPMP_SHIFT</a> == spmp_cfg-&gt;<a class="code" href="structspmp__config.html#ac00650f4922ce3aba873d2f75137e3e3">order</a>) { <span class="comment">/* NA4 */</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        spmpaddr = (spmp_cfg-&gt;<a class="code" href="structspmp__config.html#a38f0cac1ade030c9b1e4763a1610b07b">base_addr</a> &gt;&gt; <a class="code" href="group__NMSIS__Core__CSR__Encoding.html#gafe8821387ea7516af62e716901a75557">SPMP_SHIFT</a>);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">/* NAPOT */</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        addrmask = (1UL &lt;&lt; (spmp_cfg-&gt;<a class="code" href="structspmp__config.html#ac00650f4922ce3aba873d2f75137e3e3">order</a> - <a class="code" href="group__NMSIS__Core__CSR__Encoding.html#gafe8821387ea7516af62e716901a75557">SPMP_SHIFT</a>)) - 1;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        spmpaddr = ((spmp_cfg-&gt;<a class="code" href="structspmp__config.html#a38f0cac1ade030c9b1e4763a1610b07b">base_addr</a> &gt;&gt; <a class="code" href="group__NMSIS__Core__CSR__Encoding.html#gafe8821387ea7516af62e716901a75557">SPMP_SHIFT</a>) &amp; ~addrmask);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        spmpaddr |= (addrmask &gt;&gt; 1);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">     * write csrs, update the address first, in case the entry is locked that</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">     * we won&#39;t be able to modify it after we set the config csr.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <a class="code" href="group__NMSIS__Core__SPMP.html#ga3c2a928ba078b1f6a734a7520c98daac">__set_sPMPADDRx</a>(addr_csr_idx, spmpaddr);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <a class="code" href="group__NMSIS__Core__SPMP.html#ga559a9ce5488cd9e5eb04c3635ab30875">__set_sPMPCFGx</a>(cfg_csr_idx, spmpcfg);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div>
<div class="ttc" id="agroup__NMSIS__Core__CSR__Encoding_html_ga4d387769e4a7659ee0673a732385ec42"><div class="ttname"><a href="group__NMSIS__Core__CSR__Encoding.html#ga4d387769e4a7659ee0673a732385ec42">SPMP_A_NA4</a></div><div class="ttdeci">#define SPMP_A_NA4</div><div class="ttdef"><b>Definition:</b> <a href="riscv__encoding_8h_source.html#l00453">riscv_encoding.h:453</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__Registers_html_ga768dc3bf3c5e4e75e117c4a053b6d0f7"><div class="ttname"><a href="group__NMSIS__Core__Registers.html#ga768dc3bf3c5e4e75e117c4a053b6d0f7">__RISCV_XLEN</a></div><div class="ttdeci">#define __RISCV_XLEN</div><div class="ttdoc">Refer to the width of an integer register in bits(either 32 or 64)</div><div class="ttdef"><b>Definition:</b> <a href="core__feature__base_8h_source.html#l00048">core_feature_base.h:48</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__SPMP_html_ga3c2a928ba078b1f6a734a7520c98daac"><div class="ttname"><a href="group__NMSIS__Core__SPMP.html#ga3c2a928ba078b1f6a734a7520c98daac">__set_sPMPADDRx</a></div><div class="ttdeci">__STATIC_INLINE void __set_sPMPADDRx(uint32_t csr_idx, rv_csr_t spmpaddr)</div><div class="ttdoc">Set sPMPADDRx by CSR index.</div><div class="ttdef"><b>Definition:</b> <a href="core__feature__spmp_8h_source.html#l00241">core_feature_spmp.h:241</a></div></div>
<div class="ttc" id="agroup__NMSIS__Core__SPMP_html_ga559a9ce5488cd9e5eb04c3635ab30875"><div class="ttname"><a href="group__NMSIS__Core__SPMP.html#ga559a9ce5488cd9e5eb04c3635ab30875">__set_sPMPCFGx</a></div><div class="ttdeci">__STATIC_INLINE void __set_sPMPCFGx(uint32_t csr_idx, rv_csr_t spmpcfg)</div><div class="ttdoc">Set sPMPCFGx by csr index.</div><div class="ttdef"><b>Definition:</b> <a href="core__feature__spmp_8h_source.html#l00118">core_feature_spmp.h:118</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="core__feature__spmp_8h_source.html#l00095">__get_sPMPCFGx()</a>, <a class="el" href="core__feature__base_8h_source.html#l00048">__RISCV_XLEN</a>, <a class="el" href="core__feature__spmp_8h_source.html#l00241">__set_sPMPADDRx()</a>, <a class="el" href="core__feature__spmp_8h_source.html#l00118">__set_sPMPCFGx()</a>, <a class="el" href="core__feature__spmp_8h_source.html#l00080">spmp_config::base_addr</a>, <a class="el" href="core__feature__spmp_8h_source.html#l00075">spmp_config::order</a>, <a class="el" href="core__feature__spmp_8h_source.html#l00069">spmp_config::protection</a>, <a class="el" href="riscv__encoding_8h_source.html#l00453">SPMP_A_NA4</a>, <a class="el" href="riscv__encoding_8h_source.html#l00454">SPMP_A_NAPOT</a>, and <a class="el" href="riscv__encoding_8h_source.html#l00458">SPMP_SHIFT</a>.</p>

</div>
</div>
<a id="gadd816bfd31a9d31b373c41f95e720539"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadd816bfd31a9d31b373c41f95e720539">&#9670;&nbsp;</a></span>__set_sPMPxCFG()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gaba87361bfad2ae52cfe2f40c1a1dbf9c">__STATIC_INLINE</a> void __set_sPMPxCFG </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>entry_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>spmpxcfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set 8bit sPMPxCFG by spmp entry index. </p>
<p>Set the given spmpxcfg value to the sPMPxCFG Register. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">entry_idx</td><td>sPMPx region index(0-15) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">spmpxcfg</td><td>sPMPxCFG register value to set </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>For RV32, 4 spmpxcfgs are densely packed into one CSR in order For RV64, 8 spmpxcfgs are densely packed into one CSR in order </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__spmp_8h_source.html#l00175">175</a> of file <a class="el" href="core__feature__spmp_8h_source.html">core_feature_spmp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="group__NMSIS__Core__Registers.html#ga4dee6b95a366e4c3162d814d81a1301b">rv_csr_t</a> spmpcfgx = 0;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    uint8_t csr_cfg_num = 0;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    uint16_t csr_idx = 0;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    uint16_t cfg_shift = 0;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">if</span> (entry_idx &gt;= __SPMP_ENTRY_NUM) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="preprocessor">#if __RISCV_XLEN == 32</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    csr_cfg_num = 4;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    csr_idx = entry_idx &gt;&gt; 2;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="preprocessor">#elif __RISCV_XLEN == 64</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    csr_cfg_num = 8;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">/* For RV64, spmpcfg0 and spmpcfg2 each hold 8 sPMP entries, align by 2 */</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    csr_idx = (entry_idx &gt;&gt; 2) &amp; ~1;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="comment">// TODO Add RV128 Handling</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="comment">/* read specific spmpcfgx register value */</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    spmpcfgx = <a class="code" href="group__NMSIS__Core__SPMP.html#gade76db4cf711cd1c5ccf17d23fd69c38">__get_sPMPCFGx</a>(csr_idx);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">     * first get specific spmpxcfg&#39;s order in one CSR composed of csr_cfg_num spmpxcfgs,</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">     * then get spmpxcfg&#39;s bit position in one CSR by left shift 3(each spmpxcfg size is one byte)</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    cfg_shift = (entry_idx &amp; (csr_cfg_num - 1)) &lt;&lt; 3;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    spmpcfgx = __RV_INSERT_FIELD(spmpcfgx, 0xFFUL &lt;&lt; cfg_shift, spmpxcfg);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="group__NMSIS__Core__SPMP.html#ga559a9ce5488cd9e5eb04c3635ab30875">__set_sPMPCFGx</a>(csr_idx, spmpcfgx);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="core__feature__spmp_8h_source.html#l00095">__get_sPMPCFGx()</a>, and <a class="el" href="core__feature__spmp_8h_source.html#l00118">__set_sPMPCFGx()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed May 14 2025 05:43:11 for NMSIS-Core by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
