<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NMSIS-Core: SIMD 16-bit Shift Instructions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="nmsis_logo_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NMSIS-Core
   &#160;<span id="projectnumber">Version 1.4.0</span>
   </div>
   <div id="projectbrief">NMSIS-Core support for Nuclei processor-based devices</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SIMD 16-bit Shift Instructions<div class="ingroups"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic.html">Intrinsic Functions for SIMD Instructions</a> &raquo; <a class="el" href="group__NMSIS__Core__DSP__Intrinsic__SIMD__DATA__PROCESS.html">SIMD Data Processing Instructions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>SIMD 16-bit Shift Instructions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga6926818b4df53eed570be8d922ca19ca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#ga6926818b4df53eed570be8d922ca19ca">__RV_KSLLI16</a>(a,  b)</td></tr>
<tr class="memdesc:ga6926818b4df53eed570be8d922ca19ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">KSLLI16 (SIMD 16-bit Saturating Shift Left Logical Immediate)  <a href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#ga6926818b4df53eed570be8d922ca19ca">More...</a><br /></td></tr>
<tr class="separator:ga6926818b4df53eed570be8d922ca19ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae64e8d3cc171a464a716e317cd0eca66"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#gae64e8d3cc171a464a716e317cd0eca66">__RV_SLLI16</a>(a,  b)</td></tr>
<tr class="memdesc:gae64e8d3cc171a464a716e317cd0eca66"><td class="mdescLeft">&#160;</td><td class="mdescRight">SLLI16 (SIMD 16-bit Shift Left Logical Immediate)  <a href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#gae64e8d3cc171a464a716e317cd0eca66">More...</a><br /></td></tr>
<tr class="separator:gae64e8d3cc171a464a716e317cd0eca66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6fa2d780199be27817ab78209e4e234c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#ga6fa2d780199be27817ab78209e4e234c">__RV_SRAI16</a>(a,  b)</td></tr>
<tr class="memdesc:ga6fa2d780199be27817ab78209e4e234c"><td class="mdescLeft">&#160;</td><td class="mdescRight">SRAI16 (SIMD 16-bit Shift Right Arithmetic Immediate)  <a href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#ga6fa2d780199be27817ab78209e4e234c">More...</a><br /></td></tr>
<tr class="separator:ga6fa2d780199be27817ab78209e4e234c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1be1014728b97f6e3c5481ef7b9644e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#gaf1be1014728b97f6e3c5481ef7b9644e">__RV_SRAI16_U</a>(a,  b)</td></tr>
<tr class="memdesc:gaf1be1014728b97f6e3c5481ef7b9644e"><td class="mdescLeft">&#160;</td><td class="mdescRight">SRAI16.u (SIMD 16-bit Rounding Shift Right Arithmetic Immediate)  <a href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#gaf1be1014728b97f6e3c5481ef7b9644e">More...</a><br /></td></tr>
<tr class="separator:gaf1be1014728b97f6e3c5481ef7b9644e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae990a9f2ef6b5f70f563327a56c693e0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#gae990a9f2ef6b5f70f563327a56c693e0">__RV_SRLI16</a>(a,  b)</td></tr>
<tr class="memdesc:gae990a9f2ef6b5f70f563327a56c693e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">SRLI16 (SIMD 16-bit Shift Right Logical Immediate)  <a href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#gae990a9f2ef6b5f70f563327a56c693e0">More...</a><br /></td></tr>
<tr class="separator:gae990a9f2ef6b5f70f563327a56c693e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26055d836ed9bb21a1191bbf10197636"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#ga26055d836ed9bb21a1191bbf10197636">__RV_SRLI16_U</a>(a,  b)</td></tr>
<tr class="memdesc:ga26055d836ed9bb21a1191bbf10197636"><td class="mdescLeft">&#160;</td><td class="mdescRight">SRLI16.u (SIMD 16-bit Rounding Shift Right Logical Immediate)  <a href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#ga26055d836ed9bb21a1191bbf10197636">More...</a><br /></td></tr>
<tr class="separator:ga26055d836ed9bb21a1191bbf10197636"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae0d8b0f00c558d5a7f1119b9d261779f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#gae0d8b0f00c558d5a7f1119b9d261779f">__RV_KSLL16</a> (unsigned long a, unsigned int b)</td></tr>
<tr class="memdesc:gae0d8b0f00c558d5a7f1119b9d261779f"><td class="mdescLeft">&#160;</td><td class="mdescRight">KSLL16 (SIMD 16-bit Saturating Shift Left Logical)  <a href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#gae0d8b0f00c558d5a7f1119b9d261779f">More...</a><br /></td></tr>
<tr class="separator:gae0d8b0f00c558d5a7f1119b9d261779f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa85a466f43c98b2a2b34dc19e9c8e9d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#gaa85a466f43c98b2a2b34dc19e9c8e9d2">__RV_KSLRA16</a> (unsigned long a, int b)</td></tr>
<tr class="memdesc:gaa85a466f43c98b2a2b34dc19e9c8e9d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">KSLRA16 (SIMD 16-bit Shift Left Logical with Saturation or Shift Right Arithmetic)  <a href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#gaa85a466f43c98b2a2b34dc19e9c8e9d2">More...</a><br /></td></tr>
<tr class="separator:gaa85a466f43c98b2a2b34dc19e9c8e9d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5b84af52b3d277117a4ee509df1504d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#gae5b84af52b3d277117a4ee509df1504d">__RV_KSLRA16_U</a> (unsigned long a, int b)</td></tr>
<tr class="memdesc:gae5b84af52b3d277117a4ee509df1504d"><td class="mdescLeft">&#160;</td><td class="mdescRight">KSLRA16.u (SIMD 16-bit Shift Left Logical with Saturation or Rounding Shift Right Arithmetic)  <a href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#gae5b84af52b3d277117a4ee509df1504d">More...</a><br /></td></tr>
<tr class="separator:gae5b84af52b3d277117a4ee509df1504d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga567ef612a72bcfbdc3a12a55bafb3b8c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#ga567ef612a72bcfbdc3a12a55bafb3b8c">__RV_SLL16</a> (unsigned long a, unsigned int b)</td></tr>
<tr class="memdesc:ga567ef612a72bcfbdc3a12a55bafb3b8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">SLL16 (SIMD 16-bit Shift Left Logical)  <a href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#ga567ef612a72bcfbdc3a12a55bafb3b8c">More...</a><br /></td></tr>
<tr class="separator:ga567ef612a72bcfbdc3a12a55bafb3b8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab98c44f440802e210dd48403997977fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#gab98c44f440802e210dd48403997977fa">__RV_SRA16</a> (unsigned long a, unsigned long b)</td></tr>
<tr class="memdesc:gab98c44f440802e210dd48403997977fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">SRA16 (SIMD 16-bit Shift Right Arithmetic)  <a href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#gab98c44f440802e210dd48403997977fa">More...</a><br /></td></tr>
<tr class="separator:gab98c44f440802e210dd48403997977fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga044ea66eee35c4d3ae3cb3d8e7aa3aa2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#ga044ea66eee35c4d3ae3cb3d8e7aa3aa2">__RV_SRA16_U</a> (unsigned long a, unsigned long b)</td></tr>
<tr class="memdesc:ga044ea66eee35c4d3ae3cb3d8e7aa3aa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">SRA16.u (SIMD 16-bit Rounding Shift Right Arithmetic)  <a href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#ga044ea66eee35c4d3ae3cb3d8e7aa3aa2">More...</a><br /></td></tr>
<tr class="separator:ga044ea66eee35c4d3ae3cb3d8e7aa3aa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad077385854832151e700839fb03cfcfe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#gad077385854832151e700839fb03cfcfe">__RV_SRL16</a> (unsigned long a, unsigned int b)</td></tr>
<tr class="memdesc:gad077385854832151e700839fb03cfcfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">SRL16 (SIMD 16-bit Shift Right Logical)  <a href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#gad077385854832151e700839fb03cfcfe">More...</a><br /></td></tr>
<tr class="separator:gad077385854832151e700839fb03cfcfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b9494b2d305f51510e789484cbfd60b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#ga9b9494b2d305f51510e789484cbfd60b">__RV_SRL16_U</a> (unsigned long a, unsigned int b)</td></tr>
<tr class="memdesc:ga9b9494b2d305f51510e789484cbfd60b"><td class="mdescLeft">&#160;</td><td class="mdescRight">SRL16.u (SIMD 16-bit Rounding Shift Right Logical)  <a href="group__NMSIS__Core__DSP__Intrinsic__SIMD__16B__SHIFT.html#ga9b9494b2d305f51510e789484cbfd60b">More...</a><br /></td></tr>
<tr class="separator:ga9b9494b2d305f51510e789484cbfd60b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>SIMD 16-bit Shift Instructions. </p>
<p>there are 14 SIMD 16-bit shift instructions. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga6926818b4df53eed570be8d922ca19ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6926818b4df53eed570be8d922ca19ca">&#9670;&nbsp;</a></span>__RV_KSLLI16</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RV_KSLLI16</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KSLLI16 (SIMD 16-bit Saturating Shift Left Logical Immediate) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">KSLLI16 Rd, Rs1, imm4u</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do 16-bit elements logical left shift operations with saturation simultaneously. The shift amount is an immediate value.</p>
<p><b>Description</b>:<br  />
The 16-bit data elements in Rs1 are left-shifted logically. The shifted out bits are filled with zero and the shift amount is specified by the imm4u constant. Any shifted value greater than 2^15-1 is saturated to 2^15-1. Any shifted value smaller than -2^15 is saturated to -2^15. And the saturated results are written to Rd. If any saturation is performed, set OV bit to 1.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">sa = imm4u[3:0];</div>
<div class="line"><span class="keywordflow">if</span> (sa != 0) {</div>
<div class="line">  res[(15+sa):0] = Rs1.H[x] &lt;&lt; sa;</div>
<div class="line">  if (res &gt; (2^15)-1) {</div>
<div class="line">    res = 0x7fff; OV = 1;</div>
<div class="line">  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res &lt; -2^15) {</div>
<div class="line">    res = 0x8000; OV = 1;</div>
<div class="line">  }</div>
<div class="line">  Rd.H[x] = res[15:0];</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  Rd = Rs1;</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=1...0,</div>
<div class="line"><span class="keywordflow">for</span> RV64: x=3...0</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l04829">4829</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>

</div>
</div>
<a id="gae64e8d3cc171a464a716e317cd0eca66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae64e8d3cc171a464a716e317cd0eca66">&#9670;&nbsp;</a></span>__RV_SLLI16</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RV_SLLI16</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SLLI16 (SIMD 16-bit Shift Left Logical Immediate) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">SLLI16 Rd, Rs1, imm4[3:0]</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do 16-bit element logical left shift operations simultaneously. The shift amount is an immediate value.</p>
<p><b>Description</b>:<br  />
The 16-bit elements in Rs1 are left-shifted logically. The shifted out bits are filled with zero and the shift amount is specified by the imm4[3:0] constant. And the results are written to Rd.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">sa = imm4[3:0];</div>
<div class="line">Rd.H[x] = Rs1.H[x] &lt;&lt; sa;</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=1...0,</div>
<div class="line"><span class="keywordflow">for</span> RV64: x=3...0</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l07336">7336</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>

</div>
</div>
<a id="ga6fa2d780199be27817ab78209e4e234c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6fa2d780199be27817ab78209e4e234c">&#9670;&nbsp;</a></span>__RV_SRAI16</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RV_SRAI16</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SRAI16 (SIMD 16-bit Shift Right Arithmetic Immediate) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">SRAI16 Rd, Rs1, imm4u</div>
<div class="line">SRAI16.u Rd, Rs1, imm4u</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do 16-bit elements arithmetic right shift operations simultaneously. The shift amount is an immediate value. The <code>.u</code> form performs additional rounding up operations on the shifted results.</p>
<p><b>Description</b>:<br  />
The 16-bit data elements in Rs1 are right-shifted arithmetically, that is, the shifted out bits are filled with the sign-bit of the 16-bit data elements. The shift amount is specified by the imm4u constant. For the rounding operation of the <code>.u</code> form, a value of 1 is added to the most significant discarded bit of each 16-bit data to calculate the final results. And the results are written to Rd.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">sa = imm4u[3:0];</div>
<div class="line"><span class="keywordflow">if</span> (sa &gt; 0) {</div>
<div class="line">  <span class="keywordflow">if</span> (`.u` form) { <span class="comment">// SRAI16.u</span></div>
<div class="line">    res[15:-1] = SE17(Rs1.H[x][15:sa-1]) + 1;</div>
<div class="line">    Rd.H[x] = res[15:0];</div>
<div class="line">  } <span class="keywordflow">else</span> { <span class="comment">// SRAI16</span></div>
<div class="line">    Rd.H[x] = SE16(Rs1.H[x][15:sa]);</div>
<div class="line">  }</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  Rd = Rs1;</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=1...0,</div>
<div class="line"><span class="keywordflow">for</span> RV64: x=3...0</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned long type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l10057">10057</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>

</div>
</div>
<a id="gaf1be1014728b97f6e3c5481ef7b9644e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf1be1014728b97f6e3c5481ef7b9644e">&#9670;&nbsp;</a></span>__RV_SRAI16_U</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RV_SRAI16_U</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SRAI16.u (SIMD 16-bit Rounding Shift Right Arithmetic Immediate) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">SRAI16 Rd, Rs1, imm4u</div>
<div class="line">SRAI16.u Rd, Rs1, imm4u</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do 16-bit elements arithmetic right shift operations simultaneously. The shift amount is an immediate value. The <code>.u</code> form performs additional rounding up operations on the shifted results.</p>
<p><b>Description</b>:<br  />
The 16-bit data elements in Rs1 are right-shifted arithmetically, that is, the shifted out bits are filled with the sign-bit of the 16-bit data elements. The shift amount is specified by the imm4u constant. For the rounding operation of the <code>.u</code> form, a value of 1 is added to the most significant discarded bit of each 16-bit data to calculate the final results. And the results are written to Rd.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">sa = imm4u[3:0];</div>
<div class="line"><span class="keywordflow">if</span> (sa &gt; 0) {</div>
<div class="line">  <span class="keywordflow">if</span> (`.u` form) { <span class="comment">// SRAI16.u</span></div>
<div class="line">    res[15:-1] = SE17(Rs1.H[x][15:sa-1]) + 1;</div>
<div class="line">    Rd.H[x] = res[15:0];</div>
<div class="line">  } <span class="keywordflow">else</span> { <span class="comment">// SRAI16</span></div>
<div class="line">    Rd.H[x] = SE16(Rs1.H[x][15:sa]);</div>
<div class="line">  }</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  Rd = Rs1;</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=1...0,</div>
<div class="line"><span class="keywordflow">for</span> RV64: x=3...0</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned long type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l10112">10112</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>

</div>
</div>
<a id="gae990a9f2ef6b5f70f563327a56c693e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae990a9f2ef6b5f70f563327a56c693e0">&#9670;&nbsp;</a></span>__RV_SRLI16</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RV_SRLI16</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SRLI16 (SIMD 16-bit Shift Right Logical Immediate) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">SRLI16 Rt, Ra, imm4u</div>
<div class="line">SRLI16.u Rt, Ra, imm4u</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do 16-bit elements logical right shift operations simultaneously. The shift amount is an immediate value. The <code>.u</code> form performs additional rounding up operations on the shifted results.</p>
<p><b>Description</b>:<br  />
The 16-bit data elements in Rs1 are right-shifted logically, that is, the shifted out bits are filled with zero. The shift amount is specified by the imm4u constant. For the rounding operation of the <code>.u</code> form, a value of 1 is added to the most significant discarded bit of each 16-bit data element to calculate the final results. And the results are written to Rd.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">sa = imm4u;</div>
<div class="line"><span class="keywordflow">if</span> (sa &gt; 0) {</div>
<div class="line">  <span class="keywordflow">if</span> (`.u` form) { <span class="comment">// SRLI16.u</span></div>
<div class="line">    res[16:0] = ZE17(Rs1.H[x][15:sa-1]) + 1;</div>
<div class="line">    Rd.H[x] = res[16:1];</div>
<div class="line">  } <span class="keywordflow">else</span> { <span class="comment">// SRLI16</span></div>
<div class="line">    Rd.H[x] = ZE16(Rs1.H[x][15:sa]);</div>
<div class="line">  }</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  Rd = Rs1;</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=1...0,</div>
<div class="line"><span class="keywordflow">for</span> RV64: x=3...0</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l10481">10481</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>

</div>
</div>
<a id="ga26055d836ed9bb21a1191bbf10197636"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga26055d836ed9bb21a1191bbf10197636">&#9670;&nbsp;</a></span>__RV_SRLI16_U</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RV_SRLI16_U</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SRLI16.u (SIMD 16-bit Rounding Shift Right Logical Immediate) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">SRLI16 Rt, Ra, imm4u</div>
<div class="line">SRLI16.u Rt, Ra, imm4u</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do 16-bit elements logical right shift operations simultaneously. The shift amount is an immediate value. The <code>.u</code> form performs additional rounding up operations on the shifted results.</p>
<p><b>Description</b>:<br  />
The 16-bit data elements in Rs1 are right-shifted logically, that is, the shifted out bits are filled with zero. The shift amount is specified by the imm4u constant. For the rounding operation of the <code>.u</code> form, a value of 1 is added to the most significant discarded bit of each 16-bit data element to calculate the final results. And the results are written to Rd.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">sa = imm4u;</div>
<div class="line"><span class="keywordflow">if</span> (sa &gt; 0) {</div>
<div class="line">  <span class="keywordflow">if</span> (`.u` form) { <span class="comment">// SRLI16.u</span></div>
<div class="line">    res[16:0] = ZE17(Rs1.H[x][15:sa-1]) + 1;</div>
<div class="line">    Rd.H[x] = res[16:1];</div>
<div class="line">  } <span class="keywordflow">else</span> { <span class="comment">// SRLI16</span></div>
<div class="line">    Rd.H[x] = ZE16(Rs1.H[x][15:sa]);</div>
<div class="line">  }</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  Rd = Rs1;</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=1...0,</div>
<div class="line"><span class="keywordflow">for</span> RV64: x=3...0</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l10534">10534</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gae0d8b0f00c558d5a7f1119b9d261779f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae0d8b0f00c558d5a7f1119b9d261779f">&#9670;&nbsp;</a></span>__RV_KSLL16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_KSLL16 </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KSLL16 (SIMD 16-bit Saturating Shift Left Logical) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">KSLL16 Rd, Rs1, Rs2</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do 16-bit elements logical left shift operations with saturation simultaneously. The shift amount is a variable from a GPR.</p>
<p><b>Description</b>:<br  />
The 16-bit data elements in Rs1 are left-shifted logically. The shifted out bits are filled with zero and the shift amount is specified by the low-order 4-bits of the value in the Rs2 register. Any shifted value greater than 2^15-1 is saturated to 2^15-1. Any shifted value smaller than -2^15 is saturated to -2^15. And the saturated results are written to Rd. If any saturation is performed, set OV bit to 1.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">sa = Rs2[3:0];</div>
<div class="line"><span class="keywordflow">if</span> (sa != 0) {</div>
<div class="line">  res[(15+sa):0] = Rs1.H[x] &lt;&lt; sa;</div>
<div class="line">  if (res &gt; (2^15)-1) {</div>
<div class="line">    res = 0x7fff; OV = 1;</div>
<div class="line">  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res &lt; -2^15) {</div>
<div class="line">    res = 0x8000; OV = 1;</div>
<div class="line">  }</div>
<div class="line">  Rd.H[x] = res[15:0];</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  Rd = Rs1;</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=1...0,</div>
<div class="line"><span class="keywordflow">for</span> RV64: x=3...0</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l04777">4777</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;{</div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;ksll16 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;}</div>
<div class="ttc" id="agroup__NMSIS__Core__CompilerControl_html_ga1378040bcf22428955c6e3ce9c2053cd"><div class="ttname"><a href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a></div><div class="ttdeci">#define __ASM</div><div class="ttdoc">Pass information from the compiler to the assembler.</div><div class="ttdef"><b>Definition:</b> <a href="nmsis__gcc_8h_source.html#l00055">nmsis_gcc.h:55</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="gaa85a466f43c98b2a2b34dc19e9c8e9d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa85a466f43c98b2a2b34dc19e9c8e9d2">&#9670;&nbsp;</a></span>__RV_KSLRA16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_KSLRA16 </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KSLRA16 (SIMD 16-bit Shift Left Logical with Saturation or Shift Right Arithmetic) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">KSLRA16 Rd, Rs1, Rs2</div>
<div class="line">KSLRA16.u Rd, Rs1, Rs2</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do 16-bit elements logical left (positive) or arithmetic right (negative) shift operation with Q15 saturation for the left shift. The <code>.u</code> form performs additional rounding up operations for the right shift.</p>
<p><b>Description</b>:<br  />
The 16-bit data elements of Rs1 are left-shifted logically or right-shifted arithmetically based on the value of Rs2[4:0]. Rs2[4:0] is in the signed range of [-2^4, 2^4-1]. A positive Rs2[4:0] means logical left shift and a negative Rs2[4:0] means arithmetic right shift. The shift amount is the absolute value of Rs2[4:0]. However, the behavior of <code>Rs2[4:0]==-2^4 (0x10)</code> is defined to be equivalent to the behavior of <code>Rs2[4:0]==-(2^4-1) (0x11)</code>. The left-shifted results are saturated to the 16-bit signed integer range of [-2^15, 2^15-1]. For the <code>.u</code> form of the instruction, the right-shifted results are added a 1 to the most significant discarded bit position for rounding effect. After the shift, saturation, or rounding, the final results are written to Rd. If any saturation happens, this instruction sets the OV flag. The value of Rs2[31:5] will not affect this instruction.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (Rs2[4:0] &lt; 0) {</div>
<div class="line">  sa = -Rs2[4:0];</div>
<div class="line">  sa = (sa == 16)? 15 : sa;</div>
<div class="line">  <span class="keywordflow">if</span> (`.u` form) {</div>
<div class="line">    res[15:-1] = SE17(Rs1.H[x][15:sa-1]) + 1;</div>
<div class="line">    Rd.H[x] = res[15:0];</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    Rd.H[x] = SE16(Rs1.H[x][15:sa]);</div>
<div class="line">  }</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  sa = Rs2[3:0];</div>
<div class="line">  res[(15+sa):0] = Rs1.H[x] &lt;&lt;(logic) sa;</div>
<div class="line">  <span class="keywordflow">if</span> (res &gt; (2^15)-1) {</div>
<div class="line">    res[15:0] = 0x7fff; OV = 1;</div>
<div class="line">  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res &lt; -2^15) {</div>
<div class="line">    res[15:0] = 0x8000; OV = 1;</div>
<div class="line">  }</div>
<div class="line">  d.H[x] = res[15:0];</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=1...0,</div>
<div class="line"><span class="keywordflow">for</span> RV64: x=3...0</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l05031">5031</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;{</div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;kslra16 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="gae5b84af52b3d277117a4ee509df1504d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae5b84af52b3d277117a4ee509df1504d">&#9670;&nbsp;</a></span>__RV_KSLRA16_U()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_KSLRA16_U </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KSLRA16.u (SIMD 16-bit Shift Left Logical with Saturation or Rounding Shift Right Arithmetic) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">KSLRA16 Rd, Rs1, Rs2</div>
<div class="line">KSLRA16.u Rd, Rs1, Rs2</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do 16-bit elements logical left (positive) or arithmetic right (negative) shift operation with Q15 saturation for the left shift. The <code>.u</code> form performs additional rounding up operations for the right shift.</p>
<p><b>Description</b>:<br  />
The 16-bit data elements of Rs1 are left-shifted logically or right-shifted arithmetically based on the value of Rs2[4:0]. Rs2[4:0] is in the signed range of [-2^4, 2^4-1]. A positive Rs2[4:0] means logical left shift and a negative Rs2[4:0] means arithmetic right shift. The shift amount is the absolute value of Rs2[4:0]. However, the behavior of <code>Rs2[4:0]==-2^4 (0x10)</code> is defined to be equivalent to the behavior of <code>Rs2[4:0]==-(2^4-1) (0x11)</code>. The left-shifted results are saturated to the 16-bit signed integer range of [-2^15, 2^15-1]. For the <code>.u</code> form of the instruction, the right-shifted results are added a 1 to the most significant discarded bit position for rounding effect. After the shift, saturation, or rounding, the final results are written to Rd. If any saturation happens, this instruction sets the OV flag. The value of Rs2[31:5] will not affect this instruction.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (Rs2[4:0] &lt; 0) {</div>
<div class="line">  sa = -Rs2[4:0];</div>
<div class="line">  sa = (sa == 16)? 15 : sa;</div>
<div class="line">  <span class="keywordflow">if</span> (`.u` form) {</div>
<div class="line">    res[15:-1] = SE17(Rs1.H[x][15:sa-1]) + 1;</div>
<div class="line">    Rd.H[x] = res[15:0];</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    Rd.H[x] = SE16(Rs1.H[x][15:sa]);</div>
<div class="line">  }</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  sa = Rs2[3:0];</div>
<div class="line">  res[(15+sa):0] = Rs1.H[x] &lt;&lt;(logic) sa;</div>
<div class="line">  <span class="keywordflow">if</span> (res &gt; (2^15)-1) {</div>
<div class="line">    res[15:0] = 0x7fff; OV = 1;</div>
<div class="line">  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res &lt; -2^15) {</div>
<div class="line">    res[15:0] = 0x8000; OV = 1;</div>
<div class="line">  }</div>
<div class="line">  d.H[x] = res[15:0];</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=1...0,</div>
<div class="line"><span class="keywordflow">for</span> RV64: x=3...0</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l05098">5098</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;{</div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;kslra16.u %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga567ef612a72bcfbdc3a12a55bafb3b8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga567ef612a72bcfbdc3a12a55bafb3b8c">&#9670;&nbsp;</a></span>__RV_SLL16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_SLL16 </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SLL16 (SIMD 16-bit Shift Left Logical) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">SLL16 Rd, Rs1, Rs2</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do 16-bit elements logical left shift operations simultaneously. The shift amount is a variable from a GPR.</p>
<p><b>Description</b>:<br  />
The 16-bit elements in Rs1 are left-shifted logically. And the results are written to Rd. The shifted out bits are filled with zero and the shift amount is specified by the low-order 4-bits of the value in the Rs2 register.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">sa = Rs2[3:0];</div>
<div class="line">Rd.H[x] = Rs1.H[x] &lt;&lt; sa;</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=1...0,</div>
<div class="line"><span class="keywordflow">for</span> RV64: x=3...0</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l07296">7296</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l07297"></a><span class="lineno"> 7297</span>&#160;{</div>
<div class="line"><a name="l07298"></a><span class="lineno"> 7298</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l07299"></a><span class="lineno"> 7299</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;sll16 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l07300"></a><span class="lineno"> 7300</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l07301"></a><span class="lineno"> 7301</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="gab98c44f440802e210dd48403997977fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab98c44f440802e210dd48403997977fa">&#9670;&nbsp;</a></span>__RV_SRA16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_SRA16 </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SRA16 (SIMD 16-bit Shift Right Arithmetic) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">SRA16 Rd, Rs1, Rs2</div>
<div class="line">SRA16.u Rd, Rs1, Rs2</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do 16-bit element arithmetic right shift operations simultaneously. The shift amount is a variable from a GPR. The <code>.u</code> form performs additional rounding up operations on the shifted results.</p>
<p><b>Description</b>:<br  />
The 16-bit data elements in Rs1 are right-shifted arithmetically, that is, the shifted out bits are filled with the sign-bit of the data elements. The shift amount is specified by the low-order 4-bits of the value in the Rs2 register. For the rounding operation of the <code>.u</code> form, a value of 1 is added to the most significant discarded bit of each 16-bit data element to calculate the final results. And the results are written to Rd.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">sa = Rs2[3:0];</div>
<div class="line"><span class="keywordflow">if</span> (sa != 0) {</div>
<div class="line">  <span class="keywordflow">if</span> (`.u` form) { <span class="comment">// SRA16.u</span></div>
<div class="line">    res[15:-1] = SE17(Rs1.H[x][15:sa-1]) + 1;</div>
<div class="line">    Rd.H[x] = res[15:0];</div>
<div class="line">  } <span class="keywordflow">else</span> { <span class="comment">// SRA16</span></div>
<div class="line">    Rd.H[x] = SE16(Rs1.H[x][15:sa])</div>
<div class="line">  }</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  Rd = Rs1;</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=1...0,</div>
<div class="line"><span class="keywordflow">for</span> RV64: x=3...0</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned long type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l09949">9949</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l09950"></a><span class="lineno"> 9950</span>&#160;{</div>
<div class="line"><a name="l09951"></a><span class="lineno"> 9951</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l09952"></a><span class="lineno"> 9952</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;sra16 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l09953"></a><span class="lineno"> 9953</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l09954"></a><span class="lineno"> 9954</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga044ea66eee35c4d3ae3cb3d8e7aa3aa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga044ea66eee35c4d3ae3cb3d8e7aa3aa2">&#9670;&nbsp;</a></span>__RV_SRA16_U()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_SRA16_U </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SRA16.u (SIMD 16-bit Rounding Shift Right Arithmetic) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">SRA16 Rd, Rs1, Rs2</div>
<div class="line">SRA16.u Rd, Rs1, Rs2</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do 16-bit element arithmetic right shift operations simultaneously. The shift amount is a variable from a GPR. The <code>.u</code> form performs additional rounding up operations on the shifted results.</p>
<p><b>Description</b>:<br  />
The 16-bit data elements in Rs1 are right-shifted arithmetically, that is, the shifted out bits are filled with the sign-bit of the data elements. The shift amount is specified by the low-order 4-bits of the value in the Rs2 register. For the rounding operation of the <code>.u</code> form, a value of 1 is added to the most significant discarded bit of each 16-bit data element to calculate the final results. And the results are written to Rd.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">sa = Rs2[3:0];</div>
<div class="line"><span class="keywordflow">if</span> (sa != 0) {</div>
<div class="line">  <span class="keywordflow">if</span> (`.u` form) { <span class="comment">// SRA16.u</span></div>
<div class="line">    res[15:-1] = SE17(Rs1.H[x][15:sa-1]) + 1;</div>
<div class="line">    Rd.H[x] = res[15:0];</div>
<div class="line">  } <span class="keywordflow">else</span> { <span class="comment">// SRA16</span></div>
<div class="line">    Rd.H[x] = SE16(Rs1.H[x][15:sa])</div>
<div class="line">  }</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  Rd = Rs1;</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=1...0,</div>
<div class="line"><span class="keywordflow">for</span> RV64: x=3...0</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned long type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l10003">10003</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l10004"></a><span class="lineno">10004</span>&#160;{</div>
<div class="line"><a name="l10005"></a><span class="lineno">10005</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l10006"></a><span class="lineno">10006</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;sra16.u %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l10007"></a><span class="lineno">10007</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l10008"></a><span class="lineno">10008</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="gad077385854832151e700839fb03cfcfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad077385854832151e700839fb03cfcfe">&#9670;&nbsp;</a></span>__RV_SRL16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_SRL16 </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SRL16 (SIMD 16-bit Shift Right Logical) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">SRL16 Rt, Ra, Rb</div>
<div class="line"> SRL16.u Rt, Ra, Rb</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do 16-bit elements logical right shift operations simultaneously. The shift amount is a variable from a GPR. The <code>.u</code> form performs additional rounding upoperations on the shifted results.</p>
<p><b>Description</b>:<br  />
The 16-bit data elements in Rs1 are right-shifted logically, that is, the shifted out bits are filled with zero. The shift amount is specified by the low-order 4-bits of the value in the Rs2 register. For the rounding operation of the <code>.u</code> form, a value of 1 is added to the most significant discarded bit of each 16-bit data element to calculate the final results. And the results are written to Rd.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">sa = Rs2[3:0];</div>
<div class="line"><span class="keywordflow">if</span> (sa &gt; 0) {</div>
<div class="line">  <span class="keywordflow">if</span> (`.u` form) { <span class="comment">// SRL16.u</span></div>
<div class="line">    res[16:0] = ZE17(Rs1.H[x][15:sa-1]) + 1;</div>
<div class="line">    Rd.H[x] = res[16:1];</div>
<div class="line">  } <span class="keywordflow">else</span> { <span class="comment">// SRL16</span></div>
<div class="line">    Rd.H[x] = ZE16(Rs1.H[x][15:sa]);</div>
<div class="line">  }</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  Rd = Rs1;</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=1...0,</div>
<div class="line"><span class="keywordflow">for</span> RV64: x=3...0</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l10377">10377</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l10378"></a><span class="lineno">10378</span>&#160;{</div>
<div class="line"><a name="l10379"></a><span class="lineno">10379</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l10380"></a><span class="lineno">10380</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;srl16 %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l10381"></a><span class="lineno">10381</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l10382"></a><span class="lineno">10382</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
<a id="ga9b9494b2d305f51510e789484cbfd60b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9b9494b2d305f51510e789484cbfd60b">&#9670;&nbsp;</a></span>__RV_SRL16_U()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__NMSIS__Core__CompilerControl.html#gab904513442afdf77d4f8c74f23cbb040">__STATIC_FORCEINLINE</a> unsigned long __RV_SRL16_U </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SRL16.u (SIMD 16-bit Rounding Shift Right Logical) </p>
<p><b>Type</b>: SIMD</p>
<p><b>Syntax</b>:<br  />
</p><div class="fragment"><div class="line">SRL16 Rt, Ra, Rb</div>
<div class="line"> SRL16.u Rt, Ra, Rb</div>
</div><!-- fragment --><p><b>Purpose</b>:<br  />
Do 16-bit elements logical right shift operations simultaneously. The shift amount is a variable from a GPR. The <code>.u</code> form performs additional rounding upoperations on the shifted results.</p>
<p><b>Description</b>:<br  />
The 16-bit data elements in Rs1 are right-shifted logically, that is, the shifted out bits are filled with zero. The shift amount is specified by the low-order 4-bits of the value in the Rs2 register. For the rounding operation of the <code>.u</code> form, a value of 1 is added to the most significant discarded bit of each 16-bit data element to calculate the final results. And the results are written to Rd.</p>
<p><b>Operations</b>:<br  />
</p><div class="fragment"><div class="line">sa = Rs2[3:0];</div>
<div class="line"><span class="keywordflow">if</span> (sa &gt; 0) {</div>
<div class="line">  <span class="keywordflow">if</span> (`.u` form) { <span class="comment">// SRL16.u</span></div>
<div class="line">    res[16:0] = ZE17(Rs1.H[x][15:sa-1]) + 1;</div>
<div class="line">    Rd.H[x] = res[16:1];</div>
<div class="line">  } <span class="keywordflow">else</span> { <span class="comment">// SRL16</span></div>
<div class="line">    Rd.H[x] = ZE16(Rs1.H[x][15:sa]);</div>
<div class="line">  }</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">  Rd = Rs1;</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">for</span> RV32: x=1...0,</div>
<div class="line"><span class="keywordflow">for</span> RV64: x=3...0</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>unsigned long type of value stored in a </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>unsigned int type of value stored in b </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value stored in unsigned long type </dd></dl>

<p class="definition">Definition at line <a class="el" href="core__feature__dsp_8h_source.html#l10429">10429</a> of file <a class="el" href="core__feature__dsp_8h_source.html">core_feature_dsp.h</a>.</p>
<div class="fragment"><div class="line"><a name="l10430"></a><span class="lineno">10430</span>&#160;{</div>
<div class="line"><a name="l10431"></a><span class="lineno">10431</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> result;</div>
<div class="line"><a name="l10432"></a><span class="lineno">10432</span>&#160;    <a class="code" href="group__NMSIS__Core__CompilerControl.html#ga1378040bcf22428955c6e3ce9c2053cd">__ASM</a> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;srl16.u %0, %1, %2&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span>(result) : <span class="stringliteral">&quot;r&quot;</span>(a), <span class="stringliteral">&quot;r&quot;</span>(b));</div>
<div class="line"><a name="l10433"></a><span class="lineno">10433</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l10434"></a><span class="lineno">10434</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="nmsis__gcc_8h_source.html#l00055">__ASM</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed May 14 2025 05:32:35 for NMSIS-Core by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
