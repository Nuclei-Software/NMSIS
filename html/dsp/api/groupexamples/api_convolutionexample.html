

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Convolution Example &mdash; NMSIS 1.0.0-beta1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Dot Product Example" href="api_dotproductexample.html" />
    <link rel="prev" title="Class Marks Example" href="api_classmarks.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html">
          

          
            
            <img src="../../../_static/nmsis_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/introduction.html">Nuclei MCU Software Interface Standard(NMSIS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../core/index.html">NMSIS Core</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">NMSIS DSP</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../get_started.html">Using NMSIS-DSP</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">NMSIS DSP API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../api_groupmath.html">Basic Math Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_groupfastmath.html">Fast Math Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_groupcmplxmath.html">Complex Math Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_groupfilters.html">Filtering Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_groupmatrix.html">Matrix Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_grouptransforms.html">Transform Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_groupcontroller.html">Controller Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_groupstats.html">Statistics Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_groupsupport.html">Support Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_groupinterpolation.html">Interpolation Functions</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../api_groupexamples.html">Examples</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="api_classmarks.html">Class Marks Example</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Convolution Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_dotproductexample.html">Dot Product Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_frequencybin.html">Frequency Bin Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_firlpf.html">FIR Lowpass Filter Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_geq5band.html">Graphic Audio Equalizer Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_linearinterpexample.html">Linear Interpolate Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_matrixexample.html">Matrix Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_signalconvergence.html">Signal Convergence Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_sincosexample.html">SineCosine Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_varianceexample.html">Variance Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../nn/index.html">NMSIS NN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../appendix.html">Appendix</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">NMSIS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">NMSIS DSP</a> &raquo;</li>
        
          <li><a href="../index.html">NMSIS DSP API</a> &raquo;</li>
        
          <li><a href="../api_groupexamples.html">Examples</a> &raquo;</li>
        
      <li>Convolution Example</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/dsp/api/groupexamples/api_convolutionexample.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="convolution-example">
<span id="nmsis-dsp-api-convolution-example"></span><h1>Convolution Example<a class="headerlink" href="#convolution-example" title="Permalink to this headline">Â¶</a></h1>
<dl class="group">
<dt>
<span class="target" id="group__ConvolutionExample"></span><em>group</em> <code class="sig-name descname">ConvolutionExample</code></dt>
<dd><p><strong> Refer </strong> riscv_convolution_example_f32.c <dl class="simple">
<dt><strong>Description:</strong></dt><dd><p></p>
</dd>
<dt><strong></strong></dt><dd><p>Demonstrates the convolution theorem with the use of the Complex FFT, Complex-by-Complex Multiplication, and Support Functions.</p>
</dd>
<dt><strong>Algorithm:</strong></dt><dd><p></p>
</dd>
<dt><strong></strong></dt><dd><p>The convolution theorem states that convolution in the time domain corresponds to multiplication in the frequency domain. Therefore, the Fourier transform of the convoution of two signals is equal to the product of their individual Fourier transforms. The Fourier transform of a signal can be evaluated efficiently using the Fast Fourier Transform (FFT). </p>
</dd>
<dt><strong></strong></dt><dd><p>Two input signals, <code class="docutils literal notranslate"><span class="pre">a[n]</span></code> and <code class="docutils literal notranslate"><span class="pre">b[n]</span></code>, with lengths <code class="docutils literal notranslate"><span class="pre">n1</span></code> and <code class="docutils literal notranslate"><span class="pre">n2</span></code> respectively, are zero padded so that their lengths become <code class="docutils literal notranslate"><span class="pre">N</span></code>, which is greater than or equal to <code class="docutils literal notranslate"><span class="pre">(n1+n2-1)</span></code> and is a power of 4 as FFT implementation is radix-4. The convolution of <code class="docutils literal notranslate"><span class="pre">a[n]</span></code> and <code class="docutils literal notranslate"><span class="pre">b[n]</span></code> is obtained by taking the FFT of the input signals, multiplying the Fourier transforms of the two signals, and taking the inverse FFT of the multiplied result. </p>
</dd>
<dt><strong></strong></dt><dd><p>This is denoted by the following equations:  where <code class="docutils literal notranslate"><span class="pre">A[k]</span></code> and <code class="docutils literal notranslate"><span class="pre">B[k]</span></code> are the N-point FFTs of the signals <code class="docutils literal notranslate"><span class="pre">a[n]</span></code> and <code class="docutils literal notranslate"><span class="pre">b[n]</span></code> respectively. The length of the convolved signal is <code class="docutils literal notranslate"><span class="pre">(n1+n2-1)</span></code>.</p>
</dd>
<dt><strong>Block Diagram:</strong></dt><dd><p></p>
</dd>
<dt><strong></strong></dt><dd><p><img alt="../../../_images/Convolution.png" src="../../../_images/Convolution.png" /></p>
</dd>
<dt><strong>Variables Description:</strong></dt><dd><p></p>
</dd>
<dt><strong></strong></dt><dd><p><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">testInputA_f32</span></code> points to the first input sequence </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">srcALen</span></code> length of the first input sequence </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">testInputB_f32</span></code> points to the second input sequence </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">srcBLen</span></code> length of the second input sequence </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">outLen</span></code> length of convolution output sequence, <code class="docutils literal notranslate"><span class="pre">(srcALen</span> <span class="pre">+</span> <span class="pre">srcBLen</span> <span class="pre">-</span> <span class="pre">1)</span></code> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AxB</span></code> points to the output array where the product of individual FFTs of inputs is stored.</p></li>
</ul>
</p>
</dd>
<dt><strong>NMSIS DSP Software Library Functions Used:</strong></dt><dd><p></p>
</dd>
<dt><strong></strong></dt><dd><p><ul class="simple">
<li><p>riscv_fill_f32()</p></li>
<li><p>riscv_copy_f32()</p></li>
<li><p>riscv_cfft_radix4_init_f32()</p></li>
<li><p>riscv_cfft_radix4_f32()</p></li>
<li><p>riscv_cmplx_mult_cmplx_f32()</p></li>
</ul>
</p>
</dd>
</dl>
</p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api_dotproductexample.html" class="btn btn-neutral float-right" title="Dot Product Example" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="api_classmarks.html" class="btn btn-neutral float-left" title="Class Marks Example" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019-Present, Nuclei
      <span class="lastupdated">
        Last updated on Mar 19, 2020.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>